(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Vp={exports:{}},$l={};var f0;function uA(){if(f0)return $l;f0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return $l.Fragment=e,$l.jsx=n,$l.jsxs=n,$l}var p0;function cA(){return p0||(p0=1,Vp.exports=uA()),Vp.exports}var p=cA(),Lp={exports:{}},we={};var m0;function hA(){if(m0)return we;m0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,I={};function Q(N,X,he){this.props=N,this.context=X,this.refs=I,this.updater=he||M}Q.prototype.isReactComponent={},Q.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},Q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ee(){}ee.prototype=Q.prototype;function K(N,X,he){this.props=N,this.context=X,this.refs=I,this.updater=he||M}var ie=K.prototype=new ee;ie.constructor=K,U(ie,Q.prototype),ie.isPureReactComponent=!0;var le=Array.isArray;function ae(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(N,X,he){var de=he.ref;return{$$typeof:i,type:N,key:X,ref:de!==void 0?de:null,props:he}}function V(N,X){return C(N.type,X,N.props)}function L(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function z(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(he){return X[he]})}var O=/\/+/g;function qe(N,X){return typeof N=="object"&&N!==null&&N.key!=null?z(""+N.key):X.toString(36)}function He(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ae,ae):(N.status="pending",N.then(function(X){N.status==="pending"&&(N.status="fulfilled",N.value=X)},function(X){N.status==="pending"&&(N.status="rejected",N.reason=X)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function $(N,X,he,de,be){var xe=typeof N;(xe==="undefined"||xe==="boolean")&&(N=null);var Ne=!1;if(N===null)Ne=!0;else switch(xe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(N.$$typeof){case i:case e:Ne=!0;break;case b:return Ne=N._init,$(Ne(N._payload),X,he,de,be)}}if(Ne)return be=be(N),Ne=de===""?"."+qe(N,0):de,le(be)?(he="",Ne!=null&&(he=Ne.replace(O,"$&/")+"/"),$(be,X,he,"",function(Ns){return Ns})):be!=null&&(L(be)&&(be=V(be,he+(be.key==null||N&&N.key===be.key?"":(""+be.key).replace(O,"$&/")+"/")+Ne)),X.push(be)),1;Ne=0;var gt=de===""?".":de+":";if(le(N))for(var it=0;it<N.length;it++)de=N[it],xe=gt+qe(de,it),Ne+=$(de,X,he,xe,be);else if(it=R(N),typeof it=="function")for(N=it.call(N),it=0;!(de=N.next()).done;)de=de.value,xe=gt+qe(de,it++),Ne+=$(de,X,he,xe,be);else if(xe==="object"){if(typeof N.then=="function")return $(He(N),X,he,de,be);throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ce(N,X,he){if(N==null)return N;var de=[],be=0;return $(N,de,"","",function(xe){return X.call(he,xe,be++)}),de}function ye(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(he){(N._status===0||N._status===-1)&&(N._status=1,N._result=he)},function(he){(N._status===0||N._status===-1)&&(N._status=2,N._result=he)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var oe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},re={map:ce,forEach:function(N,X,he){ce(N,function(){X.apply(this,arguments)},he)},count:function(N){var X=0;return ce(N,function(){X++}),X},toArray:function(N){return ce(N,function(X){return X})||[]},only:function(N){if(!L(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return we.Activity=T,we.Children=re,we.Component=Q,we.Fragment=n,we.Profiler=o,we.PureComponent=K,we.StrictMode=s,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,we.__COMPILER_RUNTIME={__proto__:null,c:function(N){return D.H.useMemoCache(N)}},we.cache=function(N){return function(){return N.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(N,X,he){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var de=U({},N.props),be=N.key;if(X!=null)for(xe in X.key!==void 0&&(be=""+X.key),X)!A.call(X,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&X.ref===void 0||(de[xe]=X[xe]);var xe=arguments.length-2;if(xe===1)de.children=he;else if(1<xe){for(var Ne=Array(xe),gt=0;gt<xe;gt++)Ne[gt]=arguments[gt+2];de.children=Ne}return C(N.type,be,de)},we.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},we.createElement=function(N,X,he){var de,be={},xe=null;if(X!=null)for(de in X.key!==void 0&&(xe=""+X.key),X)A.call(X,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(be[de]=X[de]);var Ne=arguments.length-2;if(Ne===1)be.children=he;else if(1<Ne){for(var gt=Array(Ne),it=0;it<Ne;it++)gt[it]=arguments[it+2];be.children=gt}if(N&&N.defaultProps)for(de in Ne=N.defaultProps,Ne)be[de]===void 0&&(be[de]=Ne[de]);return C(N,xe,be)},we.createRef=function(){return{current:null}},we.forwardRef=function(N){return{$$typeof:m,render:N}},we.isValidElement=L,we.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:ye}},we.memo=function(N,X){return{$$typeof:y,type:N,compare:X===void 0?null:X}},we.startTransition=function(N){var X=D.T,he={};D.T=he;try{var de=N(),be=D.S;be!==null&&be(he,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ae,oe)}catch(xe){oe(xe)}finally{X!==null&&he.types!==null&&(X.types=he.types),D.T=X}},we.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},we.use=function(N){return D.H.use(N)},we.useActionState=function(N,X,he){return D.H.useActionState(N,X,he)},we.useCallback=function(N,X){return D.H.useCallback(N,X)},we.useContext=function(N){return D.H.useContext(N)},we.useDebugValue=function(){},we.useDeferredValue=function(N,X){return D.H.useDeferredValue(N,X)},we.useEffect=function(N,X){return D.H.useEffect(N,X)},we.useEffectEvent=function(N){return D.H.useEffectEvent(N)},we.useId=function(){return D.H.useId()},we.useImperativeHandle=function(N,X,he){return D.H.useImperativeHandle(N,X,he)},we.useInsertionEffect=function(N,X){return D.H.useInsertionEffect(N,X)},we.useLayoutEffect=function(N,X){return D.H.useLayoutEffect(N,X)},we.useMemo=function(N,X){return D.H.useMemo(N,X)},we.useOptimistic=function(N,X){return D.H.useOptimistic(N,X)},we.useReducer=function(N,X,he){return D.H.useReducer(N,X,he)},we.useRef=function(N){return D.H.useRef(N)},we.useState=function(N){return D.H.useState(N)},we.useSyncExternalStore=function(N,X,he){return D.H.useSyncExternalStore(N,X,he)},we.useTransition=function(){return D.H.useTransition()},we.version="19.2.4",we}var g0;function Lm(){return g0||(g0=1,Lp.exports=hA()),Lp.exports}var k=Lm(),Pp={exports:{}},Xl={},Up={exports:{}},zp={};var y0;function dA(){return y0||(y0=1,(function(i){function e($,ce){var ye=$.length;$.push(ce);e:for(;0<ye;){var oe=ye-1>>>1,re=$[oe];if(0<o(re,ce))$[oe]=ce,$[ye]=re,ye=oe;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ce=$[0],ye=$.pop();if(ye!==ce){$[0]=ye;e:for(var oe=0,re=$.length,N=re>>>1;oe<N;){var X=2*(oe+1)-1,he=$[X],de=X+1,be=$[de];if(0>o(he,ye))de<re&&0>o(be,he)?($[oe]=be,$[de]=ye,oe=de):($[oe]=he,$[X]=ye,oe=X);else if(de<re&&0>o(be,ye))$[oe]=be,$[de]=ye,oe=de;else break e}}return ce}function o($,ce){var ye=$.sortIndex-ce.sortIndex;return ye!==0?ye:$.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],y=[],b=1,T=null,S=3,R=!1,M=!1,U=!1,I=!1,Q=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ie($){for(var ce=n(y);ce!==null;){if(ce.callback===null)s(y);else if(ce.startTime<=$)s(y),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=n(y)}}function le($){if(U=!1,ie($),!M)if(n(g)!==null)M=!0,ae||(ae=!0,z());else{var ce=n(y);ce!==null&&He(le,ce.startTime-$)}}var ae=!1,D=-1,A=5,C=-1;function V(){return I?!0:!(i.unstable_now()-C<A)}function L(){if(I=!1,ae){var $=i.unstable_now();C=$;var ce=!0;try{e:{M=!1,U&&(U=!1,ee(D),D=-1),R=!0;var ye=S;try{t:{for(ie($),T=n(g);T!==null&&!(T.expirationTime>$&&V());){var oe=T.callback;if(typeof oe=="function"){T.callback=null,S=T.priorityLevel;var re=oe(T.expirationTime<=$);if($=i.unstable_now(),typeof re=="function"){T.callback=re,ie($),ce=!0;break t}T===n(g)&&s(g),ie($)}else s(g);T=n(g)}if(T!==null)ce=!0;else{var N=n(y);N!==null&&He(le,N.startTime-$),ce=!1}}break e}finally{T=null,S=ye,R=!1}ce=void 0}}finally{ce?z():ae=!1}}}var z;if(typeof K=="function")z=function(){K(L)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,qe=O.port2;O.port1.onmessage=L,z=function(){qe.postMessage(null)}}else z=function(){Q(L,0)};function He($,ce){D=Q(function(){$(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function($){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var ye=S;S=ce;try{return $()}finally{S=ye}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function($,ce){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ye=S;S=$;try{return ce()}finally{S=ye}},i.unstable_scheduleCallback=function($,ce,ye){var oe=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?oe+ye:oe):ye=oe,$){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ye+re,$={id:b++,callback:ce,priorityLevel:$,startTime:ye,expirationTime:re,sortIndex:-1},ye>oe?($.sortIndex=ye,e(y,$),n(g)===null&&$===n(y)&&(U?(ee(D),D=-1):U=!0,He(le,ye-oe))):($.sortIndex=re,e(g,$),M||R||(M=!0,ae||(ae=!0,z()))),$},i.unstable_shouldYield=V,i.unstable_wrapCallback=function($){var ce=S;return function(){var ye=S;S=ce;try{return $.apply(this,arguments)}finally{S=ye}}}})(zp)),zp}var _0;function fA(){return _0||(_0=1,Up.exports=dA()),Up.exports}var Bp={exports:{}},tn={};var v0;function pA(){if(v0)return tn;v0=1;var i=Lm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:y,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},tn.flushSync=function(g){var y=h.T,b=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=b,s.d.f()}},tn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},tn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},tn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,T=m(b,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:R}):b==="script"&&s.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},tn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,T=m(b,y.crossOrigin);s.d.L(g,b,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},tn.requestFormReset=function(g){s.d.r(g)},tn.unstable_batchedUpdates=function(g,y){return g(y)},tn.useFormState=function(g,y,b){return h.H.useFormState(g,y,b)},tn.useFormStatus=function(){return h.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var b0;function mA(){if(b0)return Bp.exports;b0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bp.exports=pA(),Bp.exports}var E0;function gA(){if(E0)return Xl;E0=1;var i=fA(),e=Lm(),n=mA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var v=!1,x=d.child;x;){if(x===a){v=!0,a=d,l=f;break}if(x===l){v=!0,l=d,a=f;break}x=x.sibling}if(!v){for(x=f.child;x;){if(x===a){v=!0,a=f,l=d;break}if(x===l){v=!0,l=f,a=d;break}x=x.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function b(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=b(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case Q:return"Profiler";case I:return"StrictMode";case le:return"Suspense";case ae:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case K:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case ie:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return r=t.displayName||null,r!==null?r:qe(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return qe(t(r))}catch{}}return null}var He=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},oe=[],re=-1;function N(t){return{current:t}}function X(t){0>re||(t.current=oe[re],oe[re]=null,re--)}function he(t,r){re++,oe[re]=t.current,t.current=r}var de=N(null),be=N(null),xe=N(null),Ne=N(null);function gt(t,r){switch(he(xe,r),he(be,t),he(de,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Vv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Vv(r),t=Lv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(de),he(de,t)}function it(){X(de),X(be),X(xe)}function Ns(t){t.memoizedState!==null&&he(Ne,t);var r=de.current,a=Lv(r,t.type);r!==a&&(he(be,t),he(de,a))}function wa(t){be.current===t&&(X(de),X(be)),Ne.current===t&&(X(Ne),Kl._currentValue=ye)}var Ra,Ca;function yi(t){if(Ra===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ra=r&&r[1]||"",Ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ra+t+Ca}var Ko=!1;function Os(t,r){if(!t||Ko)return"";Ko=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var G=Y}Reflect.construct(t,[],te)}else{try{te.call()}catch(Y){G=Y}t.call(te.prototype)}}else{try{throw Error()}catch(Y){G=Y}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],x=f[1];if(v&&x){var j=v.split(`
`),F=x.split(`
`);for(d=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===j.length||d===F.length)for(l=j.length-1,d=F.length-1;1<=l&&0<=d&&j[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(j[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||j[l]!==F[d]){var J=`
`+j[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=d);break}}}finally{Ko=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?yi(a):""}function Wo(t,r){switch(t.tag){case 26:case 27:case 5:return yi(t.type);case 16:return yi("Lazy");case 13:return t.child!==r&&r!==null?yi("Suspense Fallback"):yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Os(t.type,!1);case 11:return Os(t.type.render,!1);case 1:return Os(t.type,!0);case 31:return yi("Activity");default:return""}}function Yo(t){try{var r="",a=null;do r+=Wo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Pt=i.unstable_scheduleCallback,Dr=i.unstable_cancelCallback,Ld=i.unstable_shouldYield,qu=i.unstable_requestPaint,ln=i.unstable_now,ks=i.unstable_getCurrentPriorityLevel,Qo=i.unstable_ImmediatePriority,$o=i.unstable_UserBlockingPriority,Nr=i.unstable_NormalPriority,Pd=i.unstable_LowPriority,Hu=i.unstable_IdlePriority,Fu=i.log,Gu=i.unstable_setDisableYieldValue,Zn=null,Kt=null;function Pn(t){if(typeof Fu=="function"&&Gu(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Zn,t)}catch{}}var bt=Math.clz32?Math.clz32:Wu,Ku=Math.log,Ia=Math.LN2;function Wu(t){return t>>>=0,t===0?32:31-(Ku(t)/Ia|0)|0}var _i=256,js=262144,Rt=4194304;function vi(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?d=vi(l):(v&=x,v!==0?d=vi(v):a||(a=x&~t,a!==0&&(d=vi(a))))):(x=l&~f,x!==0?d=vi(x):v!==0?d=vi(v):a||(a=l&~t,a!==0&&(d=vi(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function ei(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ud(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yu(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function Ei(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ms(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zd(t,r,a,l,d,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,j=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var J=31-bt(a),te=1<<J;x[J]=0,j[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var Y=G[J];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&Vs(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~r))}function Vs(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-bt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Xo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-bt(a),d=1<<l;d&r|t[l]&r&&(t[l]|=r),a&=~d}}function Jo(t,r){var a=r&-r;return a=(a&42)!==0?1:Ls(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ls(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qu(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:a0(t.type))}function ti(t,r){var a=ce.p;try{return ce.p=t,r()}finally{ce.p=a}}var ni=Math.random().toString(36).slice(2),Ct="__reactFiber$"+ni,Bt="__reactProps$"+ni,Ti="__reactContainer$"+ni,Da="__reactEvents$"+ni,Bd="__reactListeners$"+ni,$u="__reactHandles$"+ni,Xu="__reactResources$"+ni,Si="__reactMarker$"+ni;function Na(t){delete t[Ct],delete t[Bt],delete t[Da],delete t[Bd],delete t[$u]}function xi(t){var r=t[Ct];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ti]||a[Ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Fv(t);t!==null;){if(a=t[Ct])return a;t=Fv(t)}return r}t=a,a=t.parentNode}return null}function Un(t){if(t=t[Ct]||t[Ti]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function xn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ai(t){var r=t[Xu];return r||(r=t[Xu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(t){t[Si]=!0}var Zo=new Set,el={};function wi(t,r){Ri(t,r),Ri(t+"Capture",r)}function Ri(t,r){for(el[t]=r,t=0;t<r.length;t++)Zo.add(r[t])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function Ju(t){return wt.call(il,t)?!0:wt.call(nl,t)?!1:tl.test(t)?il[t]=!0:(nl[t]=!0,!1)}function Oa(t,r,a){if(Ju(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function An(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Dt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Or(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function rl(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qe(t){if(!t._valueTracker){var r=Or(t)?"checked":"value";t._valueTracker=rl(t,r,""+t[r])}}function Ps(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Or(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Us=/[\n"\\]/g;function dn(t){return t.replace(Us,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ka(t,r,a,l,d,f,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+qt(r)):t.value!==""+qt(r)&&(t.value=""+qt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?sl(t,v,qt(r)):a!=null?sl(t,v,qt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+qt(x):t.removeAttribute("name")}function Zu(t,r,a,l,d,f,v,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){Qe(t);return}a=a!=null?""+qt(a):"",r=r!=null?""+qt(r):a,x||r===t.value||(t.value=r),t.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Qe(t)}function sl(t,r,a){r==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kr(t,r,a,l){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+qt(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function ec(t,r,a){if(r!=null&&(r=""+qt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+qt(a):""}function jr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(He(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=qt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function fn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var tc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||tc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function ol(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&al(t,d,l)}else for(var f in r)r.hasOwnProperty(f)&&al(t,f,r[f])}function ja(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(t){return Mr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var ll=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vr=null,Ii=null;function zs(t){var r=Un(t);if(r&&(t=r.stateNode)){var a=t[Bt]||null;e:switch(t=r.stateNode,r.type){case"input":if(ka(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var d=l[Bt]||null;if(!d)throw Error(s(90));ka(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ps(l)}break e;case"textarea":ec(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&kr(t,!!a.multiple,r,!1)}}}var Va=!1;function Lr(t,r,a){if(Va)return t(r,a);Va=!0;try{var l=t(r);return l}finally{if(Va=!1,(Vr!==null||Ii!==null)&&(Qc(),Vr&&(r=Vr,t=Ii,Ii=Vr=null,zs(r),t)))for(r=0;r<t.length;r++)zs(t[r])}}function ri(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Bt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bs=!1;if(Bn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Bs=!1}var Di=null,ul=null,qs=null;function cl(){if(qs)return qs;var t,r=ul,a=r.length,l,d="value"in Di?Di.value:Di.textContent,f=d.length;for(t=0;t<a&&r[t]===d[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===d[f-l];l++);return qs=d.slice(t,1<l?1-l:void 0)}function Hs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function er(){return!0}function si(){return!1}function Wt(t){function r(a,l,d,f,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?er:si,this.isPropagationStopped=si,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),r}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Wt(tr),Pr=T({},tr,{view:0,detail:0}),hl=Wt(Pr),Ur,La,Oi,Pa=T({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Ur=t.screenX-Oi.screenX,La=t.screenY-Oi.screenY):La=Ur=0,Oi=t),Ur)},movementY:function(t){return"movementY"in t?t.movementY:La}}),dl=Wt(Pa),Fs=T({},Pa,{dataTransfer:0}),ic=Wt(Fs),rc=T({},Pr,{relatedTarget:0}),Gs=Wt(rc),fl=T({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),sc=Wt(fl),Ua=T({},tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ac=Wt(Ua),oc=T({},tr,{data:0}),ki=Wt(oc),lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=cc[t])?!!r[t]:!1}function zr(){return hc}var un=T({},Pr,{key:function(t){if(t.key){var r=lc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(t){return t.type==="keypress"?Hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dc=Wt(un),fc=T({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nr=Wt(fc),c=T({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),_=Wt(c),E=T({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Wt(E),q=T({},Pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Wt(q),ue=T({},tr,{newState:0,oldState:0}),Ce=Wt(ue),Et=[9,13,27,32],Ke=Bn&&"CompositionEvent"in window,ut=null;Bn&&"documentMode"in document&&(ut=document.documentMode);var qn=Bn&&"TextEvent"in window&&!ut,ji=Bn&&(!Ke||ut&&8<ut&&11>=ut),ai=" ",oi=!1;function Ks(t,r){switch(t){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function za(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ba=!1;function k1(t,r){switch(t){case"compositionend":return za(r);case"keypress":return r.which!==32?null:(oi=!0,ai);case"textInput":return t=r.data,t===ai&&oi?null:t;default:return null}}function j1(t,r){if(Ba)return t==="compositionend"||!Ke&&Ks(t,r)?(t=cl(),qs=ul=Di=null,Ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ji&&r.locale!=="ko"?null:r.data;default:return null}}var M1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!M1[t.type]:r==="textarea"}function Yg(t,r,a,l){Vr?Ii?Ii.push(l):Ii=[l]:Vr=l,r=nh(r,"onChange"),0<r.length&&(a=new Ni("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var pl=null,ml=null;function V1(t){Dv(t,0)}function pc(t){var r=xn(t);if(Ps(r))return t}function Qg(t,r){if(t==="change")return r}var $g=!1;if(Bn){var qd;if(Bn){var Hd="oninput"in document;if(!Hd){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Hd=typeof Xg.oninput=="function"}qd=Hd}else qd=!1;$g=qd&&(!document.documentMode||9<document.documentMode)}function Jg(){pl&&(pl.detachEvent("onpropertychange",Zg),ml=pl=null)}function Zg(t){if(t.propertyName==="value"&&pc(ml)){var r=[];Yg(r,ml,t,zn(t)),Lr(V1,r)}}function L1(t,r,a){t==="focusin"?(Jg(),pl=r,ml=a,pl.attachEvent("onpropertychange",Zg)):t==="focusout"&&Jg()}function P1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pc(ml)}function U1(t,r){if(t==="click")return pc(r)}function z1(t,r){if(t==="input"||t==="change")return pc(r)}function B1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var wn=typeof Object.is=="function"?Object.is:B1;function gl(t,r){if(wn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!wt.call(r,d)||!wn(t[d],r[d]))return!1}return!0}function ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ty(t,r){var a=ey(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ey(a)}}function ny(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ny(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function iy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ci(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ci(t.document)}return r}function Fd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var q1=Bn&&"documentMode"in document&&11>=document.documentMode,qa=null,Gd=null,yl=null,Kd=!1;function ry(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kd||qa==null||qa!==Ci(l)||(l=qa,"selectionStart"in l&&Fd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=nh(Gd,"onSelect"),0<l.length&&(r=new Ni("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=qa)))}function Ws(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ha={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Wd={},sy={};Bn&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Ys(t){if(Wd[t])return Wd[t];if(!Ha[t])return t;var r=Ha[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in sy)return Wd[t]=r[a];return t}var ay=Ys("animationend"),oy=Ys("animationiteration"),ly=Ys("animationstart"),H1=Ys("transitionrun"),F1=Ys("transitionstart"),G1=Ys("transitioncancel"),uy=Ys("transitionend"),cy=new Map,Yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yd.push("scrollEnd");function li(t,r){cy.set(t,r),wi(r,[t])}var mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],Fa=0,Qd=0;function gc(){for(var t=Fa,r=Qd=Fa=0;r<t;){var a=Hn[r];Hn[r++]=null;var l=Hn[r];Hn[r++]=null;var d=Hn[r];Hn[r++]=null;var f=Hn[r];if(Hn[r++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&hy(a,d,f)}}function yc(t,r,a,l){Hn[Fa++]=t,Hn[Fa++]=r,Hn[Fa++]=a,Hn[Fa++]=l,Qd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $d(t,r,a,l){return yc(t,r,a,l),_c(t)}function Qs(t,r){return yc(t,null,null,r),_c(t)}function hy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&r!==null&&(d=31-bt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function _c(t){if(50<Ul)throw Ul=0,ap=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ga={};function K1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,r,a,l){return new K1(t,r,a,l)}function Xd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ir(t,r){var a=t.alternate;return a===null?(a=Rn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function vc(t,r,a,l,d,f){var v=0;if(l=t,typeof t=="function")Xd(t)&&(v=1);else if(typeof t=="string")v=Xx(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Rn(31,a,r,d),t.elementType=C,t.lanes=f,t;case U:return $s(a.children,d,f,r);case I:v=8,d|=24;break;case Q:return t=Rn(12,a,r,d|2),t.elementType=Q,t.lanes=f,t;case le:return t=Rn(13,a,r,d),t.elementType=le,t.lanes=f,t;case ae:return t=Rn(19,a,r,d),t.elementType=ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:v=10;break e;case ee:v=9;break e;case ie:v=11;break e;case D:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Rn(v,a,r,d),r.elementType=t,r.type=l,r.lanes=f,r}function $s(t,r,a,l){return t=Rn(7,t,l,r),t.lanes=a,t}function Jd(t,r,a){return t=Rn(6,t,null,r),t.lanes=a,t}function fy(t){var r=Rn(18,null,null,0);return r.stateNode=t,r}function Zd(t,r,a){return r=Rn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var py=new WeakMap;function Fn(t,r){if(typeof t=="object"&&t!==null){var a=py.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Yo(r)},py.set(t,r),r)}return{value:t,source:r,stack:Yo(r)}}var Ka=[],Wa=0,bc=null,_l=0,Gn=[],Kn=0,Br=null,Mi=1,Vi="";function rr(t,r){Ka[Wa++]=_l,Ka[Wa++]=bc,bc=t,_l=r}function my(t,r,a){Gn[Kn++]=Mi,Gn[Kn++]=Vi,Gn[Kn++]=Br,Br=t;var l=Mi;t=Vi;var d=32-bt(l)-1;l&=~(1<<d),a+=1;var f=32-bt(r)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Mi=1<<32-bt(r)+d|a<<d|l,Vi=f+t}else Mi=1<<f|a<<d|l,Vi=t}function ef(t){t.return!==null&&(rr(t,1),my(t,1,0))}function tf(t){for(;t===bc;)bc=Ka[--Wa],Ka[Wa]=null,_l=Ka[--Wa],Ka[Wa]=null;for(;t===Br;)Br=Gn[--Kn],Gn[Kn]=null,Vi=Gn[--Kn],Gn[Kn]=null,Mi=Gn[--Kn],Gn[Kn]=null}function gy(t,r){Gn[Kn++]=Mi,Gn[Kn++]=Vi,Gn[Kn++]=Br,Mi=r.id,Vi=r.overflow,Br=t}var Yt=null,st=null,ze=!1,qr=null,Wn=!1,nf=Error(s(519));function Hr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Fn(r,t)),nf}function yy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Ct]=t,r[Bt]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<Bl.length;a++)ke(Bl[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Zu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),jr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||jv(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=ii),r=!0):r=!1,r||Hr(t,!0)}function _y(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Yt=Yt.return}}function Ya(t){if(t!==Yt)return!1;if(!ze)return _y(t),ze=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ep(t.type,t.memoizedProps)),a=!a),a&&st&&Hr(t),_y(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=Hv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=Hv(t)}else r===27?(r=st,is(t.type)?(t=wp,wp=null,st=t):st=r):st=Yt?Qn(t.stateNode.nextSibling):null;return!0}function Xs(){st=Yt=null,ze=!1}function rf(){var t=qr;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),qr=null),t}function vl(t){qr===null?qr=[t]:qr.push(t)}var sf=N(null),Js=null,sr=null;function Fr(t,r,a){he(sf,r._currentValue),r._currentValue=a}function ar(t){t._currentValue=sf.current,X(sf)}function af(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function of(t,r,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=d;for(var j=0;j<r.length;j++)if(x.context===r[j]){f.lanes|=a,x=f.alternate,x!==null&&(x.lanes|=a),af(f.return,a,t),l||(v=null);break e}f=x.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),af(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Qa(t,r,a,l){t=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var x=d.type;wn(d.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(d===Ne.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}d=d.return}t!==null&&of(r,t,a,l),r.flags|=262144}function Ec(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zs(t){Js=t,sr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return vy(Js,t)}function Tc(t,r){return Js===null&&Zs(t),vy(t,r)}function vy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},sr===null){if(t===null)throw Error(s(308));sr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else sr=sr.next=r;return a}var W1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Y1=i.unstable_scheduleCallback,Q1=i.unstable_NormalPriority,Nt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new W1,data:new Map,refCount:0}}function bl(t){t.refCount--,t.refCount===0&&Y1(Q1,function(){t.controller.abort()})}var El=null,uf=0,$a=0,Xa=null;function $1(t,r){if(El===null){var a=El=[];uf=0,$a=dp(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return uf++,r.then(by,by),r}function by(){if(--uf===0&&El!==null){Xa!==null&&(Xa.status="fulfilled");var t=El;El=null,$a=0,Xa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function X1(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Ey=$.S;$.S=function(t,r){rv=ln(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&$1(t,r),Ey!==null&&Ey(t,r)};var ea=N(null);function cf(){var t=ea.current;return t!==null?t:nt.pooledCache}function Sc(t,r){r===null?he(ea,ea.current):he(ea,r.pool)}function Ty(){var t=cf();return t===null?null:{parent:Nt._currentValue,pool:t}}var Ja=Error(s(460)),hf=Error(s(474)),xc=Error(s(542)),Ac={then:function(){}};function Sy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ii,ii),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,wy(t),t;default:if(typeof r.status=="string")r.then(ii,ii);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,wy(t),t}throw na=r,Ja}}function ta(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(na=a,Ja):a}}var na=null;function Ay(){if(na===null)throw Error(s(459));var t=na;return na=null,t}function wy(t){if(t===Ja||t===xc)throw Error(s(483))}var Za=null,Tl=0;function wc(t){var r=Tl;return Tl+=1,Za===null&&(Za=[]),xy(Za,t,r)}function Sl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Rc(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ry(t){function r(B,P){if(t){var H=B.deletions;H===null?(B.deletions=[P],B.flags|=16):H.push(P)}}function a(B,P){if(!t)return null;for(;P!==null;)r(B,P),P=P.sibling;return null}function l(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function d(B,P){return B=ir(B,P),B.index=0,B.sibling=null,B}function f(B,P,H){return B.index=H,t?(H=B.alternate,H!==null?(H=H.index,H<P?(B.flags|=67108866,P):H):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function v(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function x(B,P,H,Z){return P===null||P.tag!==6?(P=Jd(H,B.mode,Z),P.return=B,P):(P=d(P,H),P.return=B,P)}function j(B,P,H,Z){var _e=H.type;return _e===U?J(B,P,H.props.children,Z,H.key):P!==null&&(P.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&ta(_e)===P.type)?(P=d(P,H.props),Sl(P,H),P.return=B,P):(P=vc(H.type,H.key,H.props,null,B.mode,Z),Sl(P,H),P.return=B,P)}function F(B,P,H,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=Zd(H,B.mode,Z),P.return=B,P):(P=d(P,H.children||[]),P.return=B,P)}function J(B,P,H,Z,_e){return P===null||P.tag!==7?(P=$s(H,B.mode,Z,_e),P.return=B,P):(P=d(P,H),P.return=B,P)}function te(B,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Jd(""+P,B.mode,H),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return H=vc(P.type,P.key,P.props,null,B.mode,H),Sl(H,P),H.return=B,H;case M:return P=Zd(P,B.mode,H),P.return=B,P;case A:return P=ta(P),te(B,P,H)}if(He(P)||z(P))return P=$s(P,B.mode,H,null),P.return=B,P;if(typeof P.then=="function")return te(B,wc(P),H);if(P.$$typeof===K)return te(B,Tc(B,P),H);Rc(B,P)}return null}function G(B,P,H,Z){var _e=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:x(B,P,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return H.key===_e?j(B,P,H,Z):null;case M:return H.key===_e?F(B,P,H,Z):null;case A:return H=ta(H),G(B,P,H,Z)}if(He(H)||z(H))return _e!==null?null:J(B,P,H,Z,null);if(typeof H.then=="function")return G(B,P,wc(H),Z);if(H.$$typeof===K)return G(B,P,Tc(B,H),Z);Rc(B,H)}return null}function Y(B,P,H,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(H)||null,x(P,B,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return B=B.get(Z.key===null?H:Z.key)||null,j(P,B,Z,_e);case M:return B=B.get(Z.key===null?H:Z.key)||null,F(P,B,Z,_e);case A:return Z=ta(Z),Y(B,P,H,Z,_e)}if(He(Z)||z(Z))return B=B.get(H)||null,J(P,B,Z,_e,null);if(typeof Z.then=="function")return Y(B,P,H,wc(Z),_e);if(Z.$$typeof===K)return Y(B,P,H,Tc(P,Z),_e);Rc(P,Z)}return null}function me(B,P,H,Z){for(var _e=null,Fe=null,ge=P,De=P=0,Ve=null;ge!==null&&De<H.length;De++){ge.index>De?(Ve=ge,ge=null):Ve=ge.sibling;var Ge=G(B,ge,H[De],Z);if(Ge===null){ge===null&&(ge=Ve);break}t&&ge&&Ge.alternate===null&&r(B,ge),P=f(Ge,P,De),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge,ge=Ve}if(De===H.length)return a(B,ge),ze&&rr(B,De),_e;if(ge===null){for(;De<H.length;De++)ge=te(B,H[De],Z),ge!==null&&(P=f(ge,P,De),Fe===null?_e=ge:Fe.sibling=ge,Fe=ge);return ze&&rr(B,De),_e}for(ge=l(ge);De<H.length;De++)Ve=Y(ge,B,De,H[De],Z),Ve!==null&&(t&&Ve.alternate!==null&&ge.delete(Ve.key===null?De:Ve.key),P=f(Ve,P,De),Fe===null?_e=Ve:Fe.sibling=Ve,Fe=Ve);return t&&ge.forEach(function(ls){return r(B,ls)}),ze&&rr(B,De),_e}function Ee(B,P,H,Z){if(H==null)throw Error(s(151));for(var _e=null,Fe=null,ge=P,De=P=0,Ve=null,Ge=H.next();ge!==null&&!Ge.done;De++,Ge=H.next()){ge.index>De?(Ve=ge,ge=null):Ve=ge.sibling;var ls=G(B,ge,Ge.value,Z);if(ls===null){ge===null&&(ge=Ve);break}t&&ge&&ls.alternate===null&&r(B,ge),P=f(ls,P,De),Fe===null?_e=ls:Fe.sibling=ls,Fe=ls,ge=Ve}if(Ge.done)return a(B,ge),ze&&rr(B,De),_e;if(ge===null){for(;!Ge.done;De++,Ge=H.next())Ge=te(B,Ge.value,Z),Ge!==null&&(P=f(Ge,P,De),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return ze&&rr(B,De),_e}for(ge=l(ge);!Ge.done;De++,Ge=H.next())Ge=Y(ge,B,De,Ge.value,Z),Ge!==null&&(t&&Ge.alternate!==null&&ge.delete(Ge.key===null?De:Ge.key),P=f(Ge,P,De),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return t&&ge.forEach(function(lA){return r(B,lA)}),ze&&rr(B,De),_e}function tt(B,P,H,Z){if(typeof H=="object"&&H!==null&&H.type===U&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case R:e:{for(var _e=H.key;P!==null;){if(P.key===_e){if(_e=H.type,_e===U){if(P.tag===7){a(B,P.sibling),Z=d(P,H.props.children),Z.return=B,B=Z;break e}}else if(P.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&ta(_e)===P.type){a(B,P.sibling),Z=d(P,H.props),Sl(Z,H),Z.return=B,B=Z;break e}a(B,P);break}else r(B,P);P=P.sibling}H.type===U?(Z=$s(H.props.children,B.mode,Z,H.key),Z.return=B,B=Z):(Z=vc(H.type,H.key,H.props,null,B.mode,Z),Sl(Z,H),Z.return=B,B=Z)}return v(B);case M:e:{for(_e=H.key;P!==null;){if(P.key===_e)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(B,P.sibling),Z=d(P,H.children||[]),Z.return=B,B=Z;break e}else{a(B,P);break}else r(B,P);P=P.sibling}Z=Zd(H,B.mode,Z),Z.return=B,B=Z}return v(B);case A:return H=ta(H),tt(B,P,H,Z)}if(He(H))return me(B,P,H,Z);if(z(H)){if(_e=z(H),typeof _e!="function")throw Error(s(150));return H=_e.call(H),Ee(B,P,H,Z)}if(typeof H.then=="function")return tt(B,P,wc(H),Z);if(H.$$typeof===K)return tt(B,P,Tc(B,H),Z);Rc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(B,P.sibling),Z=d(P,H),Z.return=B,B=Z):(a(B,P),Z=Jd(H,B.mode,Z),Z.return=B,B=Z),v(B)):a(B,P)}return function(B,P,H,Z){try{Tl=0;var _e=tt(B,P,H,Z);return Za=null,_e}catch(ge){if(ge===Ja||ge===xc)throw ge;var Fe=Rn(29,ge,null,B.mode);return Fe.lanes=Z,Fe.return=B,Fe}}}var ia=Ry(!0),Cy=Ry(!1),Gr=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=_c(t),hy(t,null,a),r}return yc(t,l,r,a),_c(t)}function xl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Xo(t,a)}}function pf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var mf=!1;function Al(){if(mf){var t=Xa;if(t!==null)throw t}}function wl(t,r,a,l){mf=!1;var d=t.updateQueue;Gr=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var j=x,F=j.next;j.next=null,v===null?f=F:v.next=F,v=j;var J=t.alternate;J!==null&&(J=J.updateQueue,x=J.lastBaseUpdate,x!==v&&(x===null?J.firstBaseUpdate=F:x.next=F,J.lastBaseUpdate=j))}if(f!==null){var te=d.baseState;v=0,J=F=j=null,x=f;do{var G=x.lane&-536870913,Y=G!==x.lane;if(Y?(Me&G)===G:(l&G)===G){G!==0&&G===$a&&(mf=!0),J!==null&&(J=J.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var me=t,Ee=x;G=r;var tt=a;switch(Ee.tag){case 1:if(me=Ee.payload,typeof me=="function"){te=me.call(tt,te,G);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ee.payload,G=typeof me=="function"?me.call(tt,te,G):me,G==null)break e;te=T({},te,G);break e;case 2:Gr=!0}}G=x.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},J===null?(F=J=Y,j=te):J=J.next=Y,v|=G;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);J===null&&(j=te),d.baseState=j,d.firstBaseUpdate=F,d.lastBaseUpdate=J,f===null&&(d.shared.lanes=0),Jr|=v,t.lanes=v,t.memoizedState=te}}function Iy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Dy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Iy(a[t],r)}var eo=N(null),Cc=N(0);function Ny(t,r){t=mr,he(Cc,t),he(eo,r),mr=t|r.baseLanes}function gf(){he(Cc,mr),he(eo,eo.current)}function yf(){mr=Cc.current,X(eo),X(Cc)}var Cn=N(null),Yn=null;function Yr(t){var r=t.alternate;he(Tt,Tt.current&1),he(Cn,t),Yn===null&&(r===null||eo.current!==null||r.memoizedState!==null)&&(Yn=t)}function _f(t){he(Tt,Tt.current),he(Cn,t),Yn===null&&(Yn=t)}function Oy(t){t.tag===22?(he(Tt,Tt.current),he(Cn,t),Yn===null&&(Yn=t)):Qr()}function Qr(){he(Tt,Tt.current),he(Cn,Cn.current)}function In(t){X(Cn),Yn===t&&(Yn=null),X(Tt)}var Tt=N(0);function Ic(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xp(a)||Ap(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var or=0,Ie=null,Ze=null,Ot=null,Dc=!1,to=!1,ra=!1,Nc=0,Rl=0,no=null,J1=0;function yt(){throw Error(s(321))}function vf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!wn(t[a],r[a]))return!1;return!0}function bf(t,r,a,l,d,f){return or=f,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?m_:Mf,ra=!1,f=a(l,d),ra=!1,to&&(f=jy(r,a,l,d)),ky(t),f}function ky(t){$.H=Dl;var r=Ze!==null&&Ze.next!==null;if(or=0,Ot=Ze=Ie=null,Dc=!1,Rl=0,no=null,r)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Ec(t)&&(kt=!0))}function jy(t,r,a,l){Ie=t;var d=0;do{if(to&&(no=null),Rl=0,to=!1,25<=d)throw Error(s(301));if(d+=1,Ot=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=g_,f=r(a,l)}while(to);return f}function Z1(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?Cl(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Ef(){var t=Nc!==0;return Nc=0,t}function Tf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Sf(t){if(Dc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Dc=!1}or=0,Ot=Ze=Ie=null,to=!1,Rl=Nc=0,no=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ie.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function St(){if(Ze===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=Ot===null?Ie.memoizedState:Ot.next;if(r!==null)Ot=r,Ze=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ot===null?Ie.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(t){var r=Rl;return Rl+=1,no===null&&(no=[]),t=xy(no,t,r),r=Ie,(Ot===null?r.memoizedState:Ot.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?m_:Mf),t}function kc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cl(t);if(t.$$typeof===K)return Qt(t)}throw Error(s(438,String(t)))}function xf(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Oc(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=V;return r.index++,a}function lr(t,r){return typeof r=="function"?r(t):r}function jc(t){var r=St();return Af(r,Ze,t)}function Af(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}r.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{r=d.next;var x=v=null,j=null,F=r,J=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Me&te)===te:(or&te)===te){var G=F.revertLane;if(G===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===$a&&(J=!0);else if((or&G)===G){F=F.next,G===$a&&(J=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(x=j=te,v=f):j=j.next=te,Ie.lanes|=G,Jr|=G;te=F.action,ra&&a(f,te),f=F.hasEagerState?F.eagerState:a(f,te)}else G={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(x=j=G,v=f):j=j.next=G,Ie.lanes|=te,Jr|=te;F=F.next}while(F!==null&&F!==r);if(j===null?v=f:j.next=x,!wn(f,t.memoizedState)&&(kt=!0,J&&(a=Xa,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=j,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wf(t){var r=St(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);wn(f,r.memoizedState)||(kt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function My(t,r,a){var l=Ie,d=St(),f=ze;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!wn((Ze||d).memoizedState,a);if(v&&(d.memoizedState=a,kt=!0),d=d.queue,If(Py.bind(null,l,d,t),[t]),d.getSnapshot!==r||v||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,io(9,{destroy:void 0},Ly.bind(null,l,d,a,r),null),nt===null)throw Error(s(349));f||(or&127)!==0||Vy(l,r,a)}return a}function Vy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Oc(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ly(t,r,a,l){r.value=a,r.getSnapshot=l,Uy(r)&&zy(t)}function Py(t,r,a){return a(function(){Uy(r)&&zy(t)})}function Uy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!wn(t,a)}catch{return!0}}function zy(t){var r=Qs(t,2);r!==null&&_n(r,t,2)}function Rf(t){var r=cn();if(typeof t=="function"){var a=t;if(t=a(),ra){Pn(!0);try{a()}finally{Pn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:t},r}function By(t,r,a,l){return t.baseState=a,Af(t,Ze,typeof l=="function"?l:lr)}function ex(t,r,a,l,d){if(Lc(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};$.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,qy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function qy(t,r){var a=r.action,l=r.payload,d=t.state;if(r.isTransition){var f=$.T,v={};$.T=v;try{var x=a(d,l),j=$.S;j!==null&&j(v,x),Hy(t,r,x)}catch(F){Cf(t,r,F)}finally{f!==null&&v.types!==null&&(f.types=v.types),$.T=f}}else try{f=a(d,l),Hy(t,r,f)}catch(F){Cf(t,r,F)}}function Hy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fy(t,r,l)},function(l){return Cf(t,r,l)}):Fy(t,r,a)}function Fy(t,r,a){r.status="fulfilled",r.value=a,Gy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,qy(t,a)))}function Cf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Gy(r),r=r.next;while(r!==l)}t.action=null}function Gy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ky(t,r){return r}function Wy(t,r){if(ze){var a=nt.formState;if(a!==null){e:{var l=Ie;if(ze){if(st){t:{for(var d=st,f=Wn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Qn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){st=Qn(d.nextSibling),l=d.data==="F!";break e}}Hr(l)}l=!1}l&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ky,lastRenderedState:r},a.queue=l,a=d_.bind(null,Ie,l),l.dispatch=a,l=Rf(!1),f=jf.bind(null,Ie,!1,l.queue),l=cn(),d={state:r,dispatch:null,action:t,pending:null},l.queue=d,a=ex.bind(null,Ie,d,f,a),d.dispatch=a,l.memoizedState=t,[r,a,!1]}function Yy(t){var r=St();return Qy(r,Ze,t)}function Qy(t,r,a){if(r=Af(t,r,Ky)[0],t=jc(lr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Cl(r)}catch(v){throw v===Ja?xc:v}else l=r;r=St();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,io(9,{destroy:void 0},tx.bind(null,d,a),null)),[l,f,t]}function tx(t,r){t.action=r}function $y(t){var r=St(),a=Ze;if(a!==null)return Qy(r,a,t);St(),r=r.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function io(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Oc(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Xy(){return St().memoizedState}function Mc(t,r,a,l){var d=cn();Ie.flags|=t,d.memoizedState=io(1|r,{destroy:void 0},a,l===void 0?null:l)}function Vc(t,r,a,l){var d=St();l=l===void 0?null:l;var f=d.memoizedState.inst;Ze!==null&&l!==null&&vf(l,Ze.memoizedState.deps)?d.memoizedState=io(r,f,a,l):(Ie.flags|=t,d.memoizedState=io(1|r,f,a,l))}function Jy(t,r){Mc(8390656,8,t,r)}function If(t,r){Vc(2048,8,t,r)}function nx(t){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=Oc(),Ie.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Zy(t){var r=St().memoizedState;return nx({ref:r,nextImpl:t}),function(){if((We&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function e_(t,r){return Vc(4,2,t,r)}function t_(t,r){return Vc(4,4,t,r)}function n_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function i_(t,r,a){a=a!=null?a.concat([t]):null,Vc(4,4,n_.bind(null,r,t),a)}function Df(){}function r_(t,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&vf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function s_(t,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&vf(r,l[1]))return l[0];if(l=t(),ra){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,r],l}function Nf(t,r,a){return a===void 0||(or&1073741824)!==0&&(Me&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=av(),Ie.lanes|=t,Jr|=t,a)}function a_(t,r,a,l){return wn(a,r)?a:eo.current!==null?(t=Nf(t,a,l),wn(t,r)||(kt=!0),t):(or&42)===0||(or&1073741824)!==0&&(Me&261930)===0?(kt=!0,t.memoizedState=a):(t=av(),Ie.lanes|=t,Jr|=t,r)}function o_(t,r,a,l,d){var f=ce.p;ce.p=f!==0&&8>f?f:8;var v=$.T,x={};$.T=x,jf(t,!1,r,a);try{var j=d(),F=$.S;if(F!==null&&F(x,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var J=X1(j,l);Il(t,r,J,On(t))}else Il(t,r,l,On(t))}catch(te){Il(t,r,{then:function(){},status:"rejected",reason:te},On())}finally{ce.p=f,v!==null&&x.types!==null&&(v.types=x.types),$.T=v}}function ix(){}function Of(t,r,a,l){if(t.tag!==5)throw Error(s(476));var d=l_(t).queue;o_(t,d,r,ye,a===null?ix:function(){return u_(t),a(l)})}function l_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function u_(t){var r=l_(t);r.next===null&&(r=t.alternate.memoizedState),Il(t,r.next.queue,{},On())}function kf(){return Qt(Kl)}function c_(){return St().memoizedState}function h_(){return St().memoizedState}function rx(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=On();t=Kr(a);var l=Wr(r,t,a);l!==null&&(_n(l,r,a),xl(l,r,a)),r={cache:lf()},t.payload=r;return}r=r.return}}function sx(t,r,a){var l=On();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Lc(t)?f_(r,a):(a=$d(t,r,a,l),a!==null&&(_n(a,t,l),p_(a,r,l)))}function d_(t,r,a){var l=On();Il(t,r,a,l)}function Il(t,r,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lc(t))f_(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,x=f(v,a);if(d.hasEagerState=!0,d.eagerState=x,wn(x,v))return yc(t,r,d,0),nt===null&&gc(),!1}catch{}if(a=$d(t,r,d,l),a!==null)return _n(a,t,l),p_(a,r,l),!0}return!1}function jf(t,r,a,l){if(l={lane:2,revertLane:dp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Lc(t)){if(r)throw Error(s(479))}else r=$d(t,a,l,2),r!==null&&_n(r,t,2)}function Lc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function f_(t,r){to=Dc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function p_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Xo(t,a)}}var Dl={readContext:Qt,use:kc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Dl.useEffectEvent=yt;var m_={readContext:Qt,use:kc,useCallback:function(t,r){return cn().memoizedState=[t,r===void 0?null:r],t},useContext:Qt,useEffect:Jy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Mc(4194308,4,n_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Mc(4194308,4,t,r)},useInsertionEffect:function(t,r){Mc(4,2,t,r)},useMemo:function(t,r){var a=cn();r=r===void 0?null:r;var l=t();if(ra){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=cn();if(a!==void 0){var d=a(r);if(ra){Pn(!0);try{a(r)}finally{Pn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=sx.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=cn();return t={current:t},r.memoizedState=t},useState:function(t){t=Rf(t);var r=t.queue,a=d_.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(t,r){var a=cn();return Nf(a,t,r)},useTransition:function(){var t=Rf(!1);return t=o_.bind(null,Ie,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,d=cn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(Me&127)!==0||Vy(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,Jy(Py.bind(null,l,f,t),[t]),l.flags|=2048,io(9,{destroy:void 0},Ly.bind(null,l,f,a,r),null),a},useId:function(){var t=cn(),r=nt.identifierPrefix;if(ze){var a=Vi,l=Mi;a=(l&~(1<<32-bt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Nc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=J1++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:kf,useFormState:Wy,useActionState:Wy,useOptimistic:function(t){var r=cn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=jf.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:xf,useCacheRefresh:function(){return cn().memoizedState=rx.bind(null,Ie)},useEffectEvent:function(t){var r=cn(),a={impl:t};return r.memoizedState=a,function(){if((We&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Mf={readContext:Qt,use:kc,useCallback:r_,useContext:Qt,useEffect:If,useImperativeHandle:i_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:jc,useRef:Xy,useState:function(){return jc(lr)},useDebugValue:Df,useDeferredValue:function(t,r){var a=St();return a_(a,Ze.memoizedState,t,r)},useTransition:function(){var t=jc(lr)[0],r=St().memoizedState;return[typeof t=="boolean"?t:Cl(t),r]},useSyncExternalStore:My,useId:c_,useHostTransitionStatus:kf,useFormState:Yy,useActionState:Yy,useOptimistic:function(t,r){var a=St();return By(a,Ze,t,r)},useMemoCache:xf,useCacheRefresh:h_};Mf.useEffectEvent=Zy;var g_={readContext:Qt,use:kc,useCallback:r_,useContext:Qt,useEffect:If,useImperativeHandle:i_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:wf,useRef:Xy,useState:function(){return wf(lr)},useDebugValue:Df,useDeferredValue:function(t,r){var a=St();return Ze===null?Nf(a,t,r):a_(a,Ze.memoizedState,t,r)},useTransition:function(){var t=wf(lr)[0],r=St().memoizedState;return[typeof t=="boolean"?t:Cl(t),r]},useSyncExternalStore:My,useId:c_,useHostTransitionStatus:kf,useFormState:$y,useActionState:$y,useOptimistic:function(t,r){var a=St();return Ze!==null?By(a,Ze,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:xf,useCacheRefresh:h_};g_.useEffectEvent=Zy;function Vf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Lf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=On(),d=Kr(l);d.payload=r,a!=null&&(d.callback=a),r=Wr(t,d,l),r!==null&&(_n(r,t,l),xl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=On(),d=Kr(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Wr(t,d,l),r!==null&&(_n(r,t,l),xl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=On(),l=Kr(a);l.tag=2,r!=null&&(l.callback=r),r=Wr(t,l,a),r!==null&&(_n(r,t,a),xl(r,t,a))}};function y_(t,r,a,l,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):r.prototype&&r.prototype.isPureReactComponent?!gl(a,l)||!gl(d,f):!0}function __(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Lf.enqueueReplaceState(r,r.state,null)}function sa(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function v_(t){mc(t)}function b_(t){console.error(t)}function E_(t){mc(t)}function Pc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function T_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Pf(t,r,a){return a=Kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(t,r)},a}function S_(t){return t=Kr(t),t.tag=3,t}function x_(t,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){T_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){T_(r,a,l),typeof d!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function ax(t,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Qa(r,a,d,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?$c():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Ac?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),up(t,l,d)),!1;case 22:return a.flags|=65536,l===Ac?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),up(t,l,d)),!1}throw Error(s(435,a.tag))}return up(t,l,d),$c(),!1}if(ze)return r=Cn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==nf&&(t=Error(s(422),{cause:l}),vl(Fn(t,a)))):(l!==nf&&(r=Error(s(423),{cause:l}),vl(Fn(r,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Fn(l,a),d=Pf(t.stateNode,l,d),pf(t,d),_t!==4&&(_t=2)),!1;var f=Error(s(520),{cause:l});if(f=Fn(f,a),Pl===null?Pl=[f]:Pl.push(f),_t!==4&&(_t=2),r===null)return!0;l=Fn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Pf(a.stateNode,l,t),pf(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zr===null||!Zr.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=S_(d),x_(d,t,a,l),pf(a,d),!1}a=a.return}while(a!==null);return!1}var Uf=Error(s(461)),kt=!1;function $t(t,r,a,l){r.child=t===null?Cy(r,null,a,l):ia(r,t.child,a,l)}function A_(t,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var v={};for(var x in l)x!=="ref"&&(v[x]=l[x])}else v=l;return Zs(r),l=bf(t,r,a,v,f,d),x=Ef(),t!==null&&!kt?(Tf(t,r,d),ur(t,r,d)):(ze&&x&&ef(r),r.flags|=1,$t(t,r,l,d),r.child)}function w_(t,r,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Xd(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,R_(t,r,f,l,d)):(t=vc(a.type,null,l,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Wf(t,d)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(v,l)&&t.ref===r.ref)return ur(t,r,d)}return r.flags|=1,t=ir(f,l),t.ref=r.ref,t.return=r,r.child=t}function R_(t,r,a,l,d){if(t!==null){var f=t.memoizedProps;if(gl(f,l)&&t.ref===r.ref)if(kt=!1,r.pendingProps=l=f,Wf(t,d))(t.flags&131072)!==0&&(kt=!0);else return r.lanes=t.lanes,ur(t,r,d)}return zf(t,r,a,l,d)}function C_(t,r,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,r.child=null;return I_(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sc(r,f!==null?f.cachePool:null),f!==null?Ny(r,f):gf(),Oy(r);else return l=r.lanes=536870912,I_(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Sc(r,f.cachePool),Ny(r,f),Qr(),r.memoizedState=null):(t!==null&&Sc(r,null),gf(),Qr());return $t(t,r,d,a),r.child}function Nl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function I_(t,r,a,l,d){var f=cf();return f=f===null?null:{parent:Nt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&Sc(r,null),gf(),Oy(r),t!==null&&Qa(t,r,l,!0),r.childLanes=d,null}function Uc(t,r){return r=Bc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function D_(t,r,a){return ia(r,t.child,null,a),t=Uc(r,r.pendingProps),t.flags|=2,In(r),r.memoizedState=null,t}function ox(t,r,a){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Uc(r,l),r.lanes=536870912,Nl(null,t);if(_f(r),(t=st)?(t=qv(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Br!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=fy(t),a.return=r,r.child=a,Yt=r,st=null)):t=null,t===null)throw Hr(r);return r.lanes=536870912,null}return Uc(r,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(_f(r),d)if(r.flags&256)r.flags&=-257,r=D_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(kt||Qa(t,r,a,!1),d=(a&t.childLanes)!==0,kt||d){if(l=nt,l!==null&&(v=Jo(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Qs(t,v),_n(l,t,v),Uf;$c(),r=D_(t,r,a)}else t=f.treeContext,st=Qn(v.nextSibling),Yt=r,ze=!0,qr=null,Wn=!1,t!==null&&gy(r,t),r=Uc(r,l),r.flags|=4096;return r}return t=ir(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function zc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function zf(t,r,a,l,d){return Zs(r),a=bf(t,r,a,l,void 0,d),l=Ef(),t!==null&&!kt?(Tf(t,r,d),ur(t,r,d)):(ze&&l&&ef(r),r.flags|=1,$t(t,r,a,d),r.child)}function N_(t,r,a,l,d,f){return Zs(r),r.updateQueue=null,a=jy(r,l,a,d),ky(t),l=Ef(),t!==null&&!kt?(Tf(t,r,f),ur(t,r,f)):(ze&&l&&ef(r),r.flags|=1,$t(t,r,a,f),r.child)}function O_(t,r,a,l,d){if(Zs(r),r.stateNode===null){var f=Ga,v=a.contextType;typeof v=="object"&&v!==null&&(f=Qt(v)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},df(r),v=a.contextType,f.context=typeof v=="object"&&v!==null?Qt(v):Ga,f.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Vf(r,a,v,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Lf.enqueueReplaceState(f,f.state,null),wl(r,l,f,d),Al(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var x=r.memoizedProps,j=sa(a,x);f.props=j;var F=f.context,J=a.contextType;v=Ga,typeof J=="object"&&J!==null&&(v=Qt(J));var te=a.getDerivedStateFromProps;J=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||F!==v)&&__(r,f,l,v),Gr=!1;var G=r.memoizedState;f.state=G,wl(r,l,f,d),Al(),F=r.memoizedState,x||G!==F||Gr?(typeof te=="function"&&(Vf(r,a,te,l),F=r.memoizedState),(j=Gr||y_(r,a,j,l,G,F,v))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),f.props=l,f.state=F,f.context=v,l=j):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,ff(t,r),v=r.memoizedProps,J=sa(a,v),f.props=J,te=r.pendingProps,G=f.context,F=a.contextType,j=Ga,typeof F=="object"&&F!==null&&(j=Qt(F)),x=a.getDerivedStateFromProps,(F=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==te||G!==j)&&__(r,f,l,j),Gr=!1,G=r.memoizedState,f.state=G,wl(r,l,f,d),Al();var Y=r.memoizedState;v!==te||G!==Y||Gr||t!==null&&t.dependencies!==null&&Ec(t.dependencies)?(typeof x=="function"&&(Vf(r,a,x,l),Y=r.memoizedState),(J=Gr||y_(r,a,J,l,G,Y,j)||t!==null&&t.dependencies!==null&&Ec(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,j)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),f.props=l,f.state=Y,f.context=j,l=J):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,zc(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=ia(r,t.child,null,d),r.child=ia(r,null,a,d)):$t(t,r,a,d),r.memoizedState=f.state,t=r.child):t=ur(t,r,d),t}function k_(t,r,a,l){return Xs(),r.flags|=256,$t(t,r,a,l),r.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(t){return{baseLanes:t,cachePool:Ty()}}function Hf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Nn),t}function j_(t,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),v&&(d=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(d?Yr(r):Qr(),(t=st)?(t=qv(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Br!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=fy(t),a.return=r,r.child=a,Yt=r,st=null)):t=null,t===null)throw Hr(r);return Ap(t)?r.lanes=32:r.lanes=536870912,null}var x=l.children;return l=l.fallback,d?(Qr(),d=r.mode,x=Bc({mode:"hidden",children:x},d),l=$s(l,d,a,null),x.return=r,l.return=r,x.sibling=l,r.child=x,l=r.child,l.memoizedState=qf(a),l.childLanes=Hf(t,v,a),r.memoizedState=Bf,Nl(null,l)):(Yr(r),Ff(r,x))}var j=t.memoizedState;if(j!==null&&(x=j.dehydrated,x!==null)){if(f)r.flags&256?(Yr(r),r.flags&=-257,r=Gf(t,r,a)):r.memoizedState!==null?(Qr(),r.child=t.child,r.flags|=128,r=null):(Qr(),x=l.fallback,d=r.mode,l=Bc({mode:"visible",children:l.children},d),x=$s(x,d,a,null),x.flags|=2,l.return=r,x.return=r,l.sibling=x,r.child=l,ia(r,t.child,null,a),l=r.child,l.memoizedState=qf(a),l.childLanes=Hf(t,v,a),r.memoizedState=Bf,r=Nl(null,l));else if(Yr(r),Ap(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,vl({value:l,source:null,stack:null}),r=Gf(t,r,a)}else if(kt||Qa(t,r,a,!1),v=(a&t.childLanes)!==0,kt||v){if(v=nt,v!==null&&(l=Jo(v,a),l!==0&&l!==j.retryLane))throw j.retryLane=l,Qs(t,l),_n(v,t,l),Uf;xp(x)||$c(),r=Gf(t,r,a)}else xp(x)?(r.flags|=192,r.child=t.child,r=null):(t=j.treeContext,st=Qn(x.nextSibling),Yt=r,ze=!0,qr=null,Wn=!1,t!==null&&gy(r,t),r=Ff(r,l.children),r.flags|=4096);return r}return d?(Qr(),x=l.fallback,d=r.mode,j=t.child,F=j.sibling,l=ir(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,F!==null?x=ir(F,x):(x=$s(x,d,a,null),x.flags|=2),x.return=r,l.return=r,l.sibling=x,r.child=l,Nl(null,l),l=r.child,x=t.child.memoizedState,x===null?x=qf(a):(d=x.cachePool,d!==null?(j=Nt._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=Ty(),x={baseLanes:x.baseLanes|a,cachePool:d}),l.memoizedState=x,l.childLanes=Hf(t,v,a),r.memoizedState=Bf,Nl(t.child,l)):(Yr(r),a=t.child,t=a.sibling,a=ir(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Ff(t,r){return r=Bc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Bc(t,r){return t=Rn(22,t,null,r),t.lanes=0,t}function Gf(t,r,a){return ia(r,t.child,null,a),t=Ff(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function M_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),af(t.return,r,a)}function Kf(t,r,a,l,d,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=d,v.treeForkCount=f)}function V_(t,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var v=Tt.current,x=(v&2)!==0;if(x?(v=v&1|2,r.flags|=128):v&=1,he(Tt,v),$t(t,r,l,a),l=ze?_l:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&M_(t,a,r);else if(t.tag===19)M_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&Ic(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),Kf(r,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Ic(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Kf(r,!0,a,null,f,l);break;case"together":Kf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ur(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Jr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Qa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=ir(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ir(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Wf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ec(t)))}function lx(t,r,a){switch(r.tag){case 3:gt(r,r.stateNode.containerInfo),Fr(r,Nt,t.memoizedState.cache),Xs();break;case 27:case 5:Ns(r);break;case 4:gt(r,r.stateNode.containerInfo);break;case 10:Fr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,_f(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Yr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?j_(t,r,a):(Yr(r),t=ur(t,r,a),t!==null?t.sibling:null);Yr(r);break;case 19:var d=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Qa(t,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return V_(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),he(Tt,Tt.current),l)break;return null;case 22:return r.lanes=0,C_(t,r,a,r.pendingProps);case 24:Fr(r,Nt,t.memoizedState.cache)}return ur(t,r,a)}function L_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)kt=!0;else{if(!Wf(t,a)&&(r.flags&128)===0)return kt=!1,lx(t,r,a);kt=(t.flags&131072)!==0}else kt=!1,ze&&(r.flags&1048576)!==0&&my(r,_l,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ta(r.elementType),r.type=t,typeof t=="function")Xd(t)?(l=sa(t,l),r.tag=1,r=O_(null,r,t,l,a)):(r.tag=0,r=zf(null,r,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===ie){r.tag=11,r=A_(null,r,t,l,a);break e}else if(d===D){r.tag=14,r=w_(null,r,t,l,a);break e}}throw r=qe(t)||t,Error(s(306,r,""))}}return r;case 0:return zf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=sa(l,r.pendingProps),O_(t,r,l,d,a);case 3:e:{if(gt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,ff(t,r),wl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Fr(r,Nt,l),l!==f.cache&&of(r,[Nt],a,!0),Al(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=k_(t,r,l,a);break e}else if(l!==d){d=Fn(Error(s(424)),r),vl(d),r=k_(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,st=Qn(t.firstChild),Yt=r,ze=!0,qr=null,Wn=!0,a=Cy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xs(),l===d){r=ur(t,r,a);break e}$t(t,r,l,a)}r=r.child}return r;case 26:return zc(t,r),t===null?(a=Yv(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,t=r.pendingProps,l=ih(xe.current).createElement(a),l[Ct]=r,l[Bt]=t,Xt(l,a,t),It(l),r.stateNode=l):r.memoizedState=Yv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ns(r),t===null&&ze&&(l=r.stateNode=Gv(r.type,r.pendingProps,xe.current),Yt=r,Wn=!0,d=st,is(r.type)?(wp=d,st=Qn(l.firstChild)):st=d),$t(t,r,r.pendingProps.children,a),zc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((d=l=st)&&(l=Px(l,r.type,r.pendingProps,Wn),l!==null?(r.stateNode=l,Yt=r,st=Qn(l.firstChild),Wn=!1,d=!0):d=!1),d||Hr(r)),Ns(r),d=r.type,f=r.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Ep(d,f)?l=null:v!==null&&Ep(d,v)&&(r.flags|=32),r.memoizedState!==null&&(d=bf(t,r,Z1,null,null,a),Kl._currentValue=d),zc(t,r),$t(t,r,l,a),r.child;case 6:return t===null&&ze&&((t=a=st)&&(a=Ux(a,r.pendingProps,Wn),a!==null?(r.stateNode=a,Yt=r,st=null,t=!0):t=!1),t||Hr(r)),null;case 13:return j_(t,r,a);case 4:return gt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ia(r,null,l,a):$t(t,r,l,a),r.child;case 11:return A_(t,r,r.type,r.pendingProps,a);case 7:return $t(t,r,r.pendingProps,a),r.child;case 8:return $t(t,r,r.pendingProps.children,a),r.child;case 12:return $t(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Fr(r,r.type,l.value),$t(t,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Zs(r),d=Qt(d),l=l(d),r.flags|=1,$t(t,r,l,a),r.child;case 14:return w_(t,r,r.type,r.pendingProps,a);case 15:return R_(t,r,r.type,r.pendingProps,a);case 19:return V_(t,r,a);case 31:return ox(t,r,a);case 22:return C_(t,r,a,r.pendingProps);case 24:return Zs(r),l=Qt(Nt),t===null?(d=cf(),d===null&&(d=nt,f=lf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},df(r),Fr(r,Nt,d)):((t.lanes&a)!==0&&(ff(t,r),wl(r,null,null,a),Al()),d=t.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Fr(r,Nt,l)):(l=f.cache,Fr(r,Nt,l),l!==d.cache&&of(r,[Nt],a,!0))),$t(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function cr(t){t.flags|=4}function Yf(t,r,a,l,d){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(cv())t.flags|=8192;else throw na=Ac,hf}else t.flags&=-16777217}function P_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zv(r))if(cv())t.flags|=8192;else throw na=Ac,hf}function qc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Yu():536870912,t.lanes|=r,oo|=r)}function Ol(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function ux(t,r,a){var l=r.pendingProps;switch(tf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ar(Nt),it(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ya(r)?cr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,rf())),at(r),null;case 26:var d=r.type,f=r.memoizedState;return t===null?(cr(r),f!==null?(at(r),P_(r,f)):(at(r),Yf(r,d,null,l,a))):f?f!==t.memoizedState?(cr(r),at(r),P_(r,f)):(at(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&cr(r),at(r),Yf(r,d,t,l,a)),null;case 27:if(wa(r),a=xe.current,d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&cr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=de.current,Ya(r)?yy(r):(t=Gv(d,l,a),r.stateNode=t,cr(r))}return at(r),null;case 5:if(wa(r),d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&cr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(f=de.current,Ya(r))yy(r);else{var v=ih(xe.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}f[Ct]=r,f[Bt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=f;e:switch(Xt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&cr(r)}}return at(r),Yf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&cr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=xe.current,Ya(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,d=Yt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Ct]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jv(t.nodeValue,a)),t||Hr(r,!0)}else t=ih(t).createTextNode(l),t[Ct]=r,r.stateNode=t}return at(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ya(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ct]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),t=!1}else a=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(s(558))}return at(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ya(r),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ct]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),d=!1}else d=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),qc(r,r.updateQueue),at(r),null);case 4:return it(),t===null&&gp(r.stateNode.containerInfo),at(r),null;case 10:return ar(r.type),at(r),null;case 19:if(X(Tt),l=r.memoizedState,l===null)return at(r),null;if(d=(r.flags&128)!==0,f=l.rendering,f===null)if(d)Ol(l,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=Ic(t),f!==null){for(r.flags|=128,Ol(l,!1),t=f.updateQueue,r.updateQueue=t,qc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)dy(a,t),a=a.sibling;return he(Tt,Tt.current&1|2),ze&&rr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&ln()>Wc&&(r.flags|=128,d=!0,Ol(l,!1),r.lanes=4194304)}else{if(!d)if(t=Ic(f),t!==null){if(r.flags|=128,d=!0,t=t.updateQueue,r.updateQueue=t,qc(r,t),Ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!ze)return at(r),null}else 2*ln()-l.renderingStartTime>Wc&&a!==536870912&&(r.flags|=128,d=!0,Ol(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ln(),t.sibling=null,a=Tt.current,he(Tt,d?a&1|2:a&1),ze&&rr(r,l.treeForkCount),t):(at(r),null);case 22:case 23:return In(r),yf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&qc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&X(ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ar(Nt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function cx(t,r){switch(tf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ar(Nt),it(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return wa(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(s(340));Xs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(In(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Xs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return X(Tt),null;case 4:return it(),null;case 10:return ar(r.type),null;case 22:case 23:return In(r),yf(),t!==null&&X(ea),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ar(Nt),null;case 25:return null;default:return null}}function U_(t,r){switch(tf(r),r.tag){case 3:ar(Nt),it();break;case 26:case 27:case 5:wa(r);break;case 4:it();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:X(Tt);break;case 10:ar(r.type);break;case 22:case 23:In(r),yf(),t!==null&&X(ea);break;case 24:ar(Nt)}}function kl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==d)}}catch(x){Xe(r,r.return,x)}}function $r(t,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var v=l.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,d=r;var j=a,F=x;try{F()}catch(J){Xe(d,j,J)}}}l=l.next}while(l!==f)}}catch(J){Xe(r,r.return,J)}}function z_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Dy(r,a)}catch(l){Xe(t,t.return,l)}}}function B_(t,r,a){a.props=sa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,r,l)}}function jl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Xe(t,r,d)}}function Li(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Xe(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Xe(t,r,d)}else a.current=null}function q_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Xe(t,t.return,d)}}function Qf(t,r,a){try{var l=t.stateNode;Ox(l,t.type,a,r),l[Bt]=r}catch(d){Xe(t,t.return,d)}}function H_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&is(t.type)||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&is(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ii));else if(l!==4&&(l===27&&is(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Xf(t,r,a),t=t.sibling;t!==null;)Xf(t,r,a),t=t.sibling}function Hc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&is(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Hc(t,r,a),t=t.sibling;t!==null;)Hc(t,r,a),t=t.sibling}function F_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Xt(r,l,a),r[Ct]=t,r[Bt]=a}catch(f){Xe(t,t.return,f)}}var hr=!1,jt=!1,Jf=!1,G_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function hx(t,r){if(t=t.containerInfo,vp=ch,t=iy(t),Fd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,x=-1,j=-1,F=0,J=0,te=t,G=null;t:for(;;){for(var Y;te!==a||d!==0&&te.nodeType!==3||(x=v+d),te!==f||l!==0&&te.nodeType!==3||(j=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(Y=te.firstChild)!==null;)G=te,te=Y;for(;;){if(te===t)break t;if(G===a&&++F===d&&(x=v),G===f&&++J===l&&(j=v),(Y=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Y}a=x===-1||j===-1?null:{start:x,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(bp={focusedElem:t,selectionRange:a},ch=!1,Ht=r;Ht!==null;)if(r=Ht,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ht=t;else for(;Ht!==null;){switch(r=Ht,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=sa(a.type,d);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Xe(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Sp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ht=t;break}Ht=r.return}}function K_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fr(t,a),l&4&&kl(5,a);break;case 1:if(fr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Xe(a,a.return,v)}else{var d=sa(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xe(a,a.return,v)}}l&64&&z_(a),l&512&&jl(a,a.return);break;case 3:if(fr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Dy(t,r)}catch(v){Xe(a,a.return,v)}}break;case 27:r===null&&l&4&&F_(a);case 26:case 5:fr(t,a),r===null&&l&4&&q_(a),l&512&&jl(a,a.return);break;case 12:fr(t,a);break;case 31:fr(t,a),l&4&&Q_(t,a);break;case 13:fr(t,a),l&4&&$_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=bx.bind(null,a),zx(t,a))));break;case 22:if(l=a.memoizedState!==null||hr,!l){r=r!==null&&r.memoizedState!==null||jt,d=hr;var f=jt;hr=l,(jt=r)&&!f?pr(t,a,(a.subtreeFlags&8772)!==0):fr(t,a),hr=d,jt=f}break;case 30:break;default:fr(t,a)}}function W_(t){var r=t.alternate;r!==null&&(t.alternate=null,W_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Na(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,pn=!1;function dr(t,r,a){for(a=a.child;a!==null;)Y_(t,r,a),a=a.sibling}function Y_(t,r,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:jt||Li(a,r),dr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Li(a,r);var l=ct,d=pn;is(a.type)&&(ct=a.stateNode,pn=!1),dr(t,r,a),Hl(a.stateNode),ct=l,pn=d;break;case 5:jt||Li(a,r);case 6:if(l=ct,d=pn,ct=null,dr(t,r,a),ct=l,pn=d,ct!==null)if(pn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(f){Xe(a,r,f)}else try{ct.removeChild(a.stateNode)}catch(f){Xe(a,r,f)}break;case 18:ct!==null&&(pn?(t=ct,zv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),go(t)):zv(ct,a.stateNode));break;case 4:l=ct,d=pn,ct=a.stateNode.containerInfo,pn=!0,dr(t,r,a),ct=l,pn=d;break;case 0:case 11:case 14:case 15:$r(2,a,r),jt||$r(4,a,r),dr(t,r,a);break;case 1:jt||(Li(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&B_(a,r,l)),dr(t,r,a);break;case 21:dr(t,r,a);break;case 22:jt=(l=jt)||a.memoizedState!==null,dr(t,r,a),jt=l;break;default:dr(t,r,a)}}function Q_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{go(t)}catch(a){Xe(r,r.return,a)}}}function $_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{go(t)}catch(a){Xe(r,r.return,a)}}function dx(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new G_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new G_),r;default:throw Error(s(435,t.tag))}}function Fc(t,r){var a=dx(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var d=Ex.bind(null,t,l);l.then(d,d)}})}function mn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,v=r,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(is(x.type)){ct=x.stateNode,pn=!1;break e}break;case 5:ct=x.stateNode,pn=!1;break e;case 3:case 4:ct=x.stateNode.containerInfo,pn=!0;break e}x=x.return}if(ct===null)throw Error(s(160));Y_(f,v,d),ct=null,pn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)X_(r,t),r=r.sibling}var ui=null;function X_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(r,t),gn(t),l&4&&($r(3,t,t.return),kl(3,t),$r(5,t,t.return));break;case 1:mn(r,t),gn(t),l&512&&(jt||a===null||Li(a,a.return)),l&64&&hr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ui;if(mn(r,t),gn(t),l&512&&(jt||a===null||Li(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Si]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Xt(f,l,a),f[Ct]=t,It(f),l=f;break e;case"link":var v=Xv("link","href",d).get(l+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(f=v[x],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}f=d.createElement(l),Xt(f,l,a),d.head.appendChild(f);break;case"meta":if(v=Xv("meta","content",d).get(l+(a.content||""))){for(x=0;x<v.length;x++)if(f=v[x],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}f=d.createElement(l),Xt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ct]=t,It(f),l=f}t.stateNode=l}else Jv(d,t.type,t.stateNode);else t.stateNode=$v(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Jv(d,t.type,t.stateNode):$v(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qf(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(r,t),gn(t),l&512&&(jt||a===null||Li(a,a.return)),a!==null&&l&4&&Qf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(r,t),gn(t),l&512&&(jt||a===null||Li(a,a.return)),t.flags&32){d=t.stateNode;try{fn(d,"")}catch(me){Xe(t,t.return,me)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Qf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Jf=!0);break;case 6:if(mn(r,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){Xe(t,t.return,me)}}break;case 3:if(ah=null,d=ui,ui=rh(r.containerInfo),mn(r,t),ui=d,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{go(r.containerInfo)}catch(me){Xe(t,t.return,me)}Jf&&(Jf=!1,J_(t));break;case 4:l=ui,ui=rh(t.stateNode.containerInfo),mn(r,t),gn(t),ui=l;break;case 12:mn(r,t),gn(t);break;case 31:mn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fc(t,l)));break;case 13:mn(r,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kc=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fc(t,l)));break;case 22:d=t.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,F=hr,J=jt;if(hr=F||d,jt=J||j,mn(r,t),jt=J,hr=F,gn(t),l&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||j||hr||jt||aa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){j=a=r;try{if(f=j.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=j.stateNode;var te=j.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(me){Xe(j,j.return,me)}}}else if(r.tag===6){if(a===null){j=r;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(me){Xe(j,j.return,me)}}}else if(r.tag===18){if(a===null){j=r;try{var Y=j.stateNode;d?Bv(Y,!0):Bv(j.stateNode,!1)}catch(me){Xe(j,j.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Fc(t,a))));break;case 19:mn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fc(t,l)));break;case 30:break;case 21:break;default:mn(r,t),gn(t)}}function gn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(H_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=$f(t);Hc(t,f,d);break;case 5:var v=a.stateNode;a.flags&32&&(fn(v,""),a.flags&=-33);var x=$f(t);Hc(t,x,v);break;case 3:case 4:var j=a.stateNode.containerInfo,F=$f(t);Xf(t,F,j);break;default:throw Error(s(161))}}catch(J){Xe(t,t.return,J)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function J_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;J_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function fr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)K_(t,r.alternate,r),r=r.sibling}function aa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:$r(4,r,r.return),aa(r);break;case 1:Li(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&B_(r,r.return,a),aa(r);break;case 27:Hl(r.stateNode);case 26:case 5:Li(r,r.return),aa(r);break;case 22:r.memoizedState===null&&aa(r);break;case 30:aa(r);break;default:aa(r)}t=t.sibling}}function pr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=t,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:pr(d,f,a),kl(4,f);break;case 1:if(pr(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){Xe(l,l.return,F)}if(l=f,d=l.updateQueue,d!==null){var x=l.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)Iy(j[d],x)}catch(F){Xe(l,l.return,F)}}a&&v&64&&z_(f),jl(f,f.return);break;case 27:F_(f);case 26:case 5:pr(d,f,a),a&&l===null&&v&4&&q_(f),jl(f,f.return);break;case 12:pr(d,f,a);break;case 31:pr(d,f,a),a&&v&4&&Q_(d,f);break;case 13:pr(d,f,a),a&&v&4&&$_(d,f);break;case 22:f.memoizedState===null&&pr(d,f,a),jl(f,f.return);break;case 30:break;default:pr(d,f,a)}r=r.sibling}}function Zf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&bl(a))}function ep(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&bl(t))}function ci(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Z_(t,r,a,l),r=r.sibling}function Z_(t,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:ci(t,r,a,l),d&2048&&kl(9,r);break;case 1:ci(t,r,a,l);break;case 3:ci(t,r,a,l),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&bl(t)));break;case 12:if(d&2048){ci(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,v=f.id,x=f.onPostCommit;typeof x=="function"&&x(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){Xe(r,r.return,j)}}else ci(t,r,a,l);break;case 31:ci(t,r,a,l);break;case 13:ci(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?ci(t,r,a,l):Ml(t,r):f._visibility&2?ci(t,r,a,l):(f._visibility|=2,ro(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Zf(v,r);break;case 24:ci(t,r,a,l),d&2048&&ep(r.alternate,r);break;default:ci(t,r,a,l)}}function ro(t,r,a,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,v=r,x=a,j=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:ro(f,v,x,j,d),kl(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?ro(f,v,x,j,d):Ml(f,v):(J._visibility|=2,ro(f,v,x,j,d)),d&&F&2048&&Zf(v.alternate,v);break;case 24:ro(f,v,x,j,d),d&&F&2048&&ep(v.alternate,v);break;default:ro(f,v,x,j,d)}r=r.sibling}}function Ml(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,d=l.flags;switch(l.tag){case 22:Ml(a,l),d&2048&&Zf(l.alternate,l);break;case 24:Ml(a,l),d&2048&&ep(l.alternate,l);break;default:Ml(a,l)}r=r.sibling}}var Vl=8192;function so(t,r,a){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)ev(t,r,a),t=t.sibling}function ev(t,r,a){switch(t.tag){case 26:so(t,r,a),t.flags&Vl&&t.memoizedState!==null&&Jx(a,ui,t.memoizedState,t.memoizedProps);break;case 5:so(t,r,a);break;case 3:case 4:var l=ui;ui=rh(t.stateNode.containerInfo),so(t,r,a),ui=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,so(t,r,a),Vl=l):so(t,r,a));break;default:so(t,r,a)}}function tv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ll(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ht=l,iv(l,t)}tv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nv(t),t=t.sibling}function nv(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&$r(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Gc(t)):Ll(t);break;default:Ll(t)}}function Gc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ht=l,iv(l,t)}tv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:$r(8,r,r.return),Gc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Gc(r));break;default:Gc(r)}t=t.sibling}}function iv(t,r){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:$r(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ht=l;else e:for(a=t;Ht!==null;){l=Ht;var d=l.sibling,f=l.return;if(W_(l),l===a){Ht=null;break e}if(d!==null){d.return=f,Ht=d;break e}Ht=f}}}var fx={getCacheForType:function(t){var r=Qt(Nt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Qt(Nt).controller.signal}},px=typeof WeakMap=="function"?WeakMap:Map,We=0,nt=null,Oe=null,Me=0,$e=0,Dn=null,Xr=!1,ao=!1,tp=!1,mr=0,_t=0,Jr=0,oa=0,np=0,Nn=0,oo=0,Pl=null,yn=null,ip=!1,Kc=0,rv=0,Wc=1/0,Yc=null,Zr=null,Ut=0,es=null,lo=null,gr=0,rp=0,sp=null,sv=null,Ul=0,ap=null;function On(){return(We&2)!==0&&Me!==0?Me&-Me:$.T!==null?dp():Qu()}function av(){if(Nn===0)if((Me&536870912)===0||ze){var t=js;js<<=1,(js&3932160)===0&&(js=262144),Nn=t}else Nn=536870912;return t=Cn.current,t!==null&&(t.flags|=32),Nn}function _n(t,r,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(uo(t,0),ts(t,Me,Nn,!1)),Ms(t,a),((We&2)===0||t!==nt)&&(t===nt&&((We&2)===0&&(oa|=a),_t===4&&ts(t,Me,Nn,!1)),Pi(t))}function ov(t,r,a){if((We&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ei(t,r),d=l?yx(t,r):lp(t,r,!0),f=l;do{if(d===0){ao&&!l&&ts(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!mx(a)){d=lp(t,r,!1),f=!1;continue}if(d===2){if(f=r,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var x=t;d=Pl;var j=x.current.memoizedState.isDehydrated;if(j&&(uo(x,v).flags|=256),v=lp(x,v,!1),v!==2){if(tp&&!j){x.errorRecoveryDisabledLanes|=f,oa|=f,d=4;break e}f=yn,yn=d,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){uo(t,0),ts(t,r,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ts(l,r,Nn,!Xr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Kc+300-ln(),10<d)){if(ts(l,r,Nn,!Xr),bi(l,0,!0)!==0)break e;gr=r,l.timeoutHandle=Pv(lv.bind(null,l,a,yn,Yc,ip,r,Nn,oa,oo,Xr,f,"Throttled",-0,0),d);break e}lv(l,a,yn,Yc,ip,r,Nn,oa,oo,Xr,f,null,-0,0)}}break}while(!0);Pi(t)}function lv(t,r,a,l,d,f,v,x,j,F,J,te,G,Y){if(t.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},ev(r,f,te);var me=(f&62914560)===f?Kc-ln():(f&4194048)===f?rv-ln():0;if(me=Zx(te,me),me!==null){gr=f,t.cancelPendingCommit=me(gv.bind(null,t,r,f,a,l,d,v,x,j,J,te,null,G,Y)),ts(t,f,v,!F);return}}gv(t,r,f,a,l,d,v,x,j)}function mx(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!wn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ts(t,r,a,l){r&=~np,r&=~oa,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var d=r;0<d;){var f=31-bt(d),v=1<<f;l[f]=-1,d&=~v}a!==0&&Vs(t,a,r)}function Qc(){return(We&6)===0?(zl(0),!1):!0}function op(){if(Oe!==null){if($e===0)var t=Oe.return;else t=Oe,sr=Js=null,Sf(t),Za=null,Tl=0,t=Oe;for(;t!==null;)U_(t.alternate,t),t=t.return;Oe=null}}function uo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Mx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),gr=0,op(),nt=t,Oe=a=ir(t.current,null),Me=r,$e=0,Dn=null,Xr=!1,ao=ei(t,r),tp=!1,oo=Nn=np=oa=Jr=_t=0,yn=Pl=null,ip=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var d=31-bt(l),f=1<<d;r|=t[d],l&=~f}return mr=r,gc(),a}function uv(t,r){Ie=null,$.H=Dl,r===Ja||r===xc?(r=Ay(),$e=3):r===hf?(r=Ay(),$e=4):$e=r===Uf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Oe===null&&(_t=1,Pc(t,Fn(r,t.current)))}function cv(){var t=Cn.current;return t===null?!0:(Me&4194048)===Me?Yn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Yn:!1}function hv(){var t=$.H;return $.H=Dl,t===null?Dl:t}function dv(){var t=$.A;return $.A=fx,t}function $c(){_t=4,Xr||(Me&4194048)!==Me&&Cn.current!==null||(ao=!0),(Jr&134217727)===0&&(oa&134217727)===0||nt===null||ts(nt,Me,Nn,!1)}function lp(t,r,a){var l=We;We|=2;var d=hv(),f=dv();(nt!==t||Me!==r)&&(Yc=null,uo(t,r)),r=!1;var v=_t;e:do try{if($e!==0&&Oe!==null){var x=Oe,j=Dn;switch($e){case 8:op(),v=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(r=!0);var F=$e;if($e=0,Dn=null,co(t,x,j,F),a&&ao){v=0;break e}break;default:F=$e,$e=0,Dn=null,co(t,x,j,F)}}gx(),v=_t;break}catch(J){uv(t,J)}while(!0);return r&&t.shellSuspendCounter++,sr=Js=null,We=l,$.H=d,$.A=f,Oe===null&&(nt=null,Me=0,gc()),v}function gx(){for(;Oe!==null;)fv(Oe)}function yx(t,r){var a=We;We|=2;var l=hv(),d=dv();nt!==t||Me!==r?(Yc=null,Wc=ln()+500,uo(t,r)):ao=ei(t,r);e:do try{if($e!==0&&Oe!==null){r=Oe;var f=Dn;t:switch($e){case 1:$e=0,Dn=null,co(t,r,f,1);break;case 2:case 9:if(Sy(f)){$e=0,Dn=null,pv(r);break}r=function(){$e!==2&&$e!==9||nt!==t||($e=7),Pi(t)},f.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Sy(f)?($e=0,Dn=null,pv(r)):($e=0,Dn=null,co(t,r,f,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var x=Oe;if(v?Zv(v):x.stateNode.complete){$e=0,Dn=null;var j=x.sibling;if(j!==null)Oe=j;else{var F=x.return;F!==null?(Oe=F,Xc(F)):Oe=null}break t}}$e=0,Dn=null,co(t,r,f,5);break;case 6:$e=0,Dn=null,co(t,r,f,6);break;case 8:op(),_t=6;break e;default:throw Error(s(462))}}_x();break}catch(J){uv(t,J)}while(!0);return sr=Js=null,$.H=l,$.A=d,We=a,Oe!==null?0:(nt=null,Me=0,gc(),_t)}function _x(){for(;Oe!==null&&!Ld();)fv(Oe)}function fv(t){var r=L_(t.alternate,t,mr);t.memoizedProps=t.pendingProps,r===null?Xc(t):Oe=r}function pv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=N_(a,r,r.pendingProps,r.type,void 0,Me);break;case 11:r=N_(a,r,r.pendingProps,r.type.render,r.ref,Me);break;case 5:Sf(r);default:U_(a,r),r=Oe=dy(r,mr),r=L_(a,r,mr)}t.memoizedProps=t.pendingProps,r===null?Xc(t):Oe=r}function co(t,r,a,l){sr=Js=null,Sf(r),Za=null,Tl=0;var d=r.return;try{if(ax(t,d,r,a,Me)){_t=1,Pc(t,Fn(a,t.current)),Oe=null;return}}catch(f){if(d!==null)throw Oe=d,f;_t=1,Pc(t,Fn(a,t.current)),Oe=null;return}r.flags&32768?(ze||l===1?t=!0:ao||(Me&536870912)!==0?t=!1:(Xr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),mv(r,t)):Xc(r)}function Xc(t){var r=t;do{if((r.flags&32768)!==0){mv(r,Xr);return}t=r.return;var a=ux(r.alternate,r,mr);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);_t===0&&(_t=5)}function mv(t,r){do{var a=cx(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);_t=6,Oe=null}function gv(t,r,a,l,d,f,v,x,j){t.cancelPendingCommit=null;do Jc();while(Ut!==0);if((We&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Qd,zd(t,a,f,v,x,j),t===nt&&(Oe=nt=null,Me=0),lo=r,es=t,gr=a,rp=f,sp=d,sv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Tx(Nr,function(){return Ev(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,d=ce.p,ce.p=2,v=We,We|=4;try{hx(t,r,a)}finally{We=v,ce.p=d,$.T=l}}Ut=1,yv(),_v(),vv()}}function yv(){if(Ut===1){Ut=0;var t=es,r=lo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ce.p;ce.p=2;var d=We;We|=4;try{X_(r,t);var f=bp,v=iy(t.containerInfo),x=f.focusedElem,j=f.selectionRange;if(v!==x&&x&&x.ownerDocument&&ny(x.ownerDocument.documentElement,x)){if(j!==null&&Fd(x)){var F=j.start,J=j.end;if(J===void 0&&(J=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(J,x.value.length);else{var te=x.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var Y=G.getSelection(),me=x.textContent.length,Ee=Math.min(j.start,me),tt=j.end===void 0?Ee:Math.min(j.end,me);!Y.extend&&Ee>tt&&(v=tt,tt=Ee,Ee=v);var B=ty(x,Ee),P=ty(x,tt);if(B&&P&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var H=te.createRange();H.setStart(B.node,B.offset),Y.removeAllRanges(),Ee>tt?(Y.addRange(H),Y.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),Y.addRange(H))}}}}for(te=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<te.length;x++){var Z=te[x];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ch=!!vp,bp=vp=null}finally{We=d,ce.p=l,$.T=a}}t.current=r,Ut=2}}function _v(){if(Ut===2){Ut=0;var t=es,r=lo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ce.p;ce.p=2;var d=We;We|=4;try{K_(t,r.alternate,r)}finally{We=d,ce.p=l,$.T=a}}Ut=3}}function vv(){if(Ut===4||Ut===3){Ut=0,qu();var t=es,r=lo,a=gr,l=sv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,lo=es=null,bv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Zr=null),Zi(a),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Zn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,d=ce.p,ce.p=2,$.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var x=l[v];f(x.value,{componentStack:x.stack})}}finally{$.T=r,ce.p=d}}(gr&3)!==0&&Jc(),Pi(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===ap?Ul++:(Ul=0,ap=t):Ul=0,zl(0)}}function bv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,bl(r)))}function Jc(){return yv(),_v(),vv(),Ev()}function Ev(){if(Ut!==5)return!1;var t=es,r=rp;rp=0;var a=Zi(gr),l=$.T,d=ce.p;try{ce.p=32>a?32:a,$.T=null,a=sp,sp=null;var f=es,v=gr;if(Ut=0,lo=es=null,gr=0,(We&6)!==0)throw Error(s(331));var x=We;if(We|=4,nv(f.current),Z_(f,f.current,v,a),We=x,zl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Zn,f)}catch{}return!0}finally{ce.p=d,$.T=l,bv(t,r)}}function Tv(t,r,a){r=Fn(a,r),r=Pf(t.stateNode,r,2),t=Wr(t,r,2),t!==null&&(Ms(t,2),Pi(t))}function Xe(t,r,a){if(t.tag===3)Tv(t,t,a);else for(;r!==null;){if(r.tag===3){Tv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zr===null||!Zr.has(l))){t=Fn(a,t),a=S_(2),l=Wr(r,a,2),l!==null&&(x_(a,l,r,t),Ms(l,2),Pi(l));break}}r=r.return}}function up(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new px;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(tp=!0,d.add(a),t=vx.bind(null,t,r,a),r.then(t,t))}function vx(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Me&a)===a&&(_t===4||_t===3&&(Me&62914560)===Me&&300>ln()-Kc?(We&2)===0&&uo(t,0):np|=a,oo===Me&&(oo=0)),Pi(t)}function Sv(t,r){r===0&&(r=Yu()),t=Qs(t,r),t!==null&&(Ms(t,r),Pi(t))}function bx(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Sv(t,a)}function Ex(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Sv(t,a)}function Tx(t,r){return Pt(t,r)}var Zc=null,ho=null,cp=!1,eh=!1,hp=!1,ns=0;function Pi(t){t!==ho&&t.next===null&&(ho===null?Zc=ho=t:ho=ho.next=t),eh=!0,cp||(cp=!0,xx())}function zl(t,r){if(!hp&&eh){hp=!0;do for(var a=!1,l=Zc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=d&~(v&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Rv(l,f))}else f=Me,f=bi(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ei(l,f)||(a=!0,Rv(l,f));l=l.next}while(a);hp=!1}}function Sx(){xv()}function xv(){eh=cp=!1;var t=0;ns!==0&&jx()&&(t=ns);for(var r=ln(),a=null,l=Zc;l!==null;){var d=l.next,f=Av(l,r);f===0?(l.next=null,a===null?Zc=d:a.next=d,d===null&&(ho=a)):(a=l,(t!==0||(f&3)!==0)&&(eh=!0)),l=d}Ut!==0&&Ut!==5||zl(t),ns!==0&&(ns=0)}function Av(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-bt(f),x=1<<v,j=d[v];j===-1?((x&a)===0||(x&l)!==0)&&(d[v]=Ud(x,r)):j<=r&&(t.expiredLanes|=x),f&=~x}if(r=nt,a=Me,a=bi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ei(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Dr(l),Zi(a)){case 2:case 8:a=$o;break;case 32:a=Nr;break;case 268435456:a=Hu;break;default:a=Nr}return l=wv.bind(null,t),a=Pt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Dr(l),t.callbackPriority=2,t.callbackNode=null,2}function wv(t,r){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Jc()&&t.callbackNode!==a)return null;var l=Me;return l=bi(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ov(t,l,r),Av(t,ln()),t.callbackNode!=null&&t.callbackNode===a?wv.bind(null,t):null)}function Rv(t,r){if(Jc())return null;ov(t,r,!0)}function xx(){Vx(function(){(We&6)!==0?Pt(Qo,Sx):xv()})}function dp(){if(ns===0){var t=$a;t===0&&(t=_i,_i<<=1,(_i&261888)===0&&(_i=256)),ns=t}return ns}function Cv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ma(""+t)}function Iv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Ax(t,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=Cv((d[Bt]||null).action),v=l.submitter;v&&(r=(r=v[Bt]||null)?Cv(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var x=new Ni("action","action",null,l,d);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ns!==0){var j=v?Iv(d,v):new FormData(d);Of(a,{pending:!0,data:j,method:d.method,action:f},null,j)}}else typeof f=="function"&&(x.preventDefault(),j=v?Iv(d,v):new FormData(d),Of(a,{pending:!0,data:j,method:d.method,action:f},f,j))},currentTarget:d}]})}}for(var fp=0;fp<Yd.length;fp++){var pp=Yd[fp],wx=pp.toLowerCase(),Rx=pp[0].toUpperCase()+pp.slice(1);li(wx,"on"+Rx)}li(ay,"onAnimationEnd"),li(oy,"onAnimationIteration"),li(ly,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(H1,"onTransitionRun"),li(F1,"onTransitionStart"),li(G1,"onTransitionCancel"),li(uy,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function Dv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var v=l.length-1;0<=v;v--){var x=l[v],j=x.instance,F=x.currentTarget;if(x=x.listener,j!==f&&d.isPropagationStopped())break e;f=x,d.currentTarget=F;try{f(d)}catch(J){mc(J)}d.currentTarget=null,f=j}else for(v=0;v<l.length;v++){if(x=l[v],j=x.instance,F=x.currentTarget,x=x.listener,j!==f&&d.isPropagationStopped())break e;f=x,d.currentTarget=F;try{f(d)}catch(J){mc(J)}d.currentTarget=null,f=j}}}}function ke(t,r){var a=r[Da];a===void 0&&(a=r[Da]=new Set);var l=t+"__bubble";a.has(l)||(Nv(r,t,2,!1),a.add(l))}function mp(t,r,a){var l=0;r&&(l|=4),Nv(a,t,l,r)}var th="_reactListening"+Math.random().toString(36).slice(2);function gp(t){if(!t[th]){t[th]=!0,Zo.forEach(function(a){a!=="selectionchange"&&(Cx.has(a)||mp(a,!1,t),mp(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[th]||(r[th]=!0,mp("selectionchange",!1,r))}}function Nv(t,r,a,l){switch(a0(r)){case 2:var d=nA;break;case 8:d=iA;break;default:d=Np}a=d.bind(null,r,a,t),d=void 0,!Bs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function yp(t,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var x=l.stateNode.containerInfo;if(x===d)break;if(v===4)for(v=l.return;v!==null;){var j=v.tag;if((j===3||j===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;x!==null;){if(v=xi(x),v===null)return;if(j=v.tag,j===5||j===6||j===26||j===27){l=f=v;continue e}x=x.parentNode}}l=l.return}Lr(function(){var F=f,J=zn(a),te=[];e:{var G=cy.get(t);if(G!==void 0){var Y=Ni,me=t;switch(t){case"keypress":if(Hs(a)===0)break e;case"keydown":case"keyup":Y=dc;break;case"focusin":me="focus",Y=Gs;break;case"focusout":me="blur",Y=Gs;break;case"beforeblur":case"afterblur":Y=Gs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_;break;case ay:case oy:case ly:Y=sc;break;case uy:Y=w;break;case"scroll":case"scrollend":Y=hl;break;case"wheel":Y=W;break;case"copy":case"cut":case"paste":Y=ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=nr;break;case"toggle":case"beforetoggle":Y=Ce}var Ee=(r&4)!==0,tt=!Ee&&(t==="scroll"||t==="scrollend"),B=Ee?G!==null?G+"Capture":null:G;Ee=[];for(var P=F,H;P!==null;){var Z=P;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||B===null||(Z=ri(P,B),Z!=null&&Ee.push(ql(P,Z,H))),tt)break;P=P.return}0<Ee.length&&(G=new Y(G,me,null,a,J),te.push({event:G,listeners:Ee}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&a!==ll&&(me=a.relatedTarget||a.fromElement)&&(xi(me)||me[Ti]))break e;if((Y||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(me=a.relatedTarget||a.toElement,Y=F,me=me?xi(me):null,me!==null&&(tt=u(me),Ee=me.tag,me!==tt||Ee!==5&&Ee!==27&&Ee!==6)&&(me=null)):(Y=null,me=F),Y!==me)){if(Ee=dl,Z="onMouseLeave",B="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=nr,Z="onPointerLeave",B="onPointerEnter",P="pointer"),tt=Y==null?G:xn(Y),H=me==null?G:xn(me),G=new Ee(Z,P+"leave",Y,a,J),G.target=tt,G.relatedTarget=H,Z=null,xi(J)===F&&(Ee=new Ee(B,P+"enter",me,a,J),Ee.target=H,Ee.relatedTarget=tt,Z=Ee),tt=Z,Y&&me)t:{for(Ee=Ix,B=Y,P=me,H=0,Z=B;Z;Z=Ee(Z))H++;Z=0;for(var _e=P;_e;_e=Ee(_e))Z++;for(;0<H-Z;)B=Ee(B),H--;for(;0<Z-H;)P=Ee(P),Z--;for(;H--;){if(B===P||P!==null&&B===P.alternate){Ee=B;break t}B=Ee(B),P=Ee(P)}Ee=null}else Ee=null;Y!==null&&Ov(te,G,Y,Ee,!1),me!==null&&tt!==null&&Ov(te,tt,me,Ee,!0)}}e:{if(G=F?xn(F):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var Fe=Qg;else if(Wg(G))if($g)Fe=z1;else{Fe=P1;var ge=L1}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&ja(F.elementType)&&(Fe=Qg):Fe=U1;if(Fe&&(Fe=Fe(t,F))){Yg(te,Fe,a,J);break e}ge&&ge(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&sl(G,"number",G.value)}switch(ge=F?xn(F):window,t){case"focusin":(Wg(ge)||ge.contentEditable==="true")&&(qa=ge,Gd=F,yl=null);break;case"focusout":yl=Gd=qa=null;break;case"mousedown":Kd=!0;break;case"contextmenu":case"mouseup":case"dragend":Kd=!1,ry(te,a,J);break;case"selectionchange":if(q1)break;case"keydown":case"keyup":ry(te,a,J)}var De;if(Ke)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Ba?Ks(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(ji&&a.locale!=="ko"&&(Ba||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Ba&&(De=cl()):(Di=J,ul="value"in Di?Di.value:Di.textContent,Ba=!0)),ge=nh(F,Ve),0<ge.length&&(Ve=new ki(Ve,t,null,a,J),te.push({event:Ve,listeners:ge}),De?Ve.data=De:(De=za(a),De!==null&&(Ve.data=De)))),(De=qn?k1(t,a):j1(t,a))&&(Ve=nh(F,"onBeforeInput"),0<Ve.length&&(ge=new ki("onBeforeInput","beforeinput",null,a,J),te.push({event:ge,listeners:Ve}),ge.data=De)),Ax(te,t,F,a,J)}Dv(te,r)})}function ql(t,r,a){return{instance:t,listener:r,currentTarget:a}}function nh(t,r){for(var a=r+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ri(t,a),d!=null&&l.unshift(ql(t,d,f)),d=ri(t,r),d!=null&&l.push(ql(t,d,f))),t.tag===3)return l;t=t.return}return[]}function Ix(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ov(t,r,a,l,d){for(var f=r._reactName,v=[];a!==null&&a!==l;){var x=a,j=x.alternate,F=x.stateNode;if(x=x.tag,j!==null&&j===l)break;x!==5&&x!==26&&x!==27||F===null||(j=F,d?(F=ri(a,f),F!=null&&v.unshift(ql(a,F,j))):d||(F=ri(a,f),F!=null&&v.push(ql(a,F,j)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var Dx=/\r\n?/g,Nx=/\u0000|\uFFFD/g;function kv(t){return(typeof t=="string"?t:""+t).replace(Dx,`
`).replace(Nx,"")}function jv(t,r){return r=kv(r),kv(t)===r}function et(t,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&fn(t,""+l);break;case"className":An(t,"class",l);break;case"tabIndex":An(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,a,l);break;case"style":ol(t,l,f);break;case"data":if(r!=="object"){An(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&et(t,r,"name",d.name,d,null),et(t,r,"formEncType",d.formEncType,d,null),et(t,r,"formMethod",d.formMethod,d,null),et(t,r,"formTarget",d.formTarget,d,null)):(et(t,r,"encType",d.encType,d,null),et(t,r,"method",d.method,d,null),et(t,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ii);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Oa(t,"popover",l);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Oa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nc.get(a)||a,Oa(t,a,l))}}function _p(t,r,a,l,d,f){switch(a){case"style":ol(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=t[Bt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Oa(t,a,l)}}}function Xt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,f,v,a,null)}}d&&et(t,r,"srcSet",a.srcSet,a,null),l&&et(t,r,"src",a.src,a,null);return;case"input":ke("invalid",t);var x=f=v=d=null,j=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":d=J;break;case"type":v=J;break;case"checked":j=J;break;case"defaultChecked":F=J;break;case"value":f=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:et(t,r,l,J,a,null)}}Zu(t,f,x,j,F,v,d,!1);return;case"select":ke("invalid",t),l=v=f=null;for(d in a)if(a.hasOwnProperty(d)&&(x=a[d],x!=null))switch(d){case"value":f=x;break;case"defaultValue":v=x;break;case"multiple":l=x;default:et(t,r,d,x,a,null)}r=f,a=v,t.multiple=!!l,r!=null?kr(t,!!l,r,!1):a!=null&&kr(t,!!l,a,!0);return;case"textarea":ke("invalid",t),f=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":l=x;break;case"defaultValue":d=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:et(t,r,v,x,a,null)}jr(t,l,d,f);return;case"option":for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!=null)&&(j==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,r,j,l,a,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)ke(Bl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,F,l,a,null)}return;default:if(ja(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&_p(t,r,J,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&et(t,r,x,l,a,null))}function Ox(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,x=null,j=null,F=null,J=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":j=te;default:l.hasOwnProperty(Y)||et(t,r,Y,null,l,te)}}for(var G in l){var Y=l[G];if(te=a[G],l.hasOwnProperty(G)&&(Y!=null||te!=null))switch(G){case"type":f=Y;break;case"name":d=Y;break;case"checked":F=Y;break;case"defaultChecked":J=Y;break;case"value":v=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==te&&et(t,r,G,Y,l,te)}}ka(t,v,x,j,F,J,f,d);return;case"select":Y=v=x=G=null;for(f in a)if(j=a[f],a.hasOwnProperty(f)&&j!=null)switch(f){case"value":break;case"multiple":Y=j;default:l.hasOwnProperty(f)||et(t,r,f,null,l,j)}for(d in l)if(f=l[d],j=a[d],l.hasOwnProperty(d)&&(f!=null||j!=null))switch(d){case"value":G=f;break;case"defaultValue":x=f;break;case"multiple":v=f;default:f!==j&&et(t,r,d,f,l,j)}r=x,a=v,l=Y,G!=null?kr(t,!!a,G,!1):!!l!=!!a&&(r!=null?kr(t,!!a,r,!0):kr(t,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(x in a)if(d=a[x],a.hasOwnProperty(x)&&d!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:et(t,r,x,null,l,d)}for(v in l)if(d=l[v],f=a[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":G=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&et(t,r,v,d,l,f)}ec(t,G,Y);return;case"option":for(var me in a)G=a[me],a.hasOwnProperty(me)&&G!=null&&!l.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:et(t,r,me,null,l,G));for(j in l)G=l[j],Y=a[j],l.hasOwnProperty(j)&&G!==Y&&(G!=null||Y!=null)&&(j==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":et(t,r,j,G,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)G=a[Ee],a.hasOwnProperty(Ee)&&G!=null&&!l.hasOwnProperty(Ee)&&et(t,r,Ee,null,l,G);for(F in l)if(G=l[F],Y=a[F],l.hasOwnProperty(F)&&G!==Y&&(G!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:et(t,r,F,G,l,Y)}return;default:if(ja(r)){for(var tt in a)G=a[tt],a.hasOwnProperty(tt)&&G!==void 0&&!l.hasOwnProperty(tt)&&_p(t,r,tt,void 0,l,G);for(J in l)G=l[J],Y=a[J],!l.hasOwnProperty(J)||G===Y||G===void 0&&Y===void 0||_p(t,r,J,G,l,Y);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&et(t,r,B,null,l,G);for(te in l)G=l[te],Y=a[te],!l.hasOwnProperty(te)||G===Y||G==null&&Y==null||et(t,r,te,G,l,Y)}function Mv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,v=d.initiatorType,x=d.duration;if(f&&x&&Mv(v)){for(v=0,x=d.responseEnd,l+=1;l<a.length;l++){var j=a[l],F=j.startTime;if(F>x)break;var J=j.transferSize,te=j.initiatorType;J&&Mv(te)&&(j=j.responseEnd,v+=J*(j<x?1:(x-F)/(j-F)))}if(--l,r+=8*(f+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vp=null,bp=null;function ih(t){return t.nodeType===9?t:t.ownerDocument}function Vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Ep(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tp=null;function jx(){var t=window.event;return t&&t.type==="popstate"?t===Tp?!1:(Tp=t,!0):(Tp=null,!1)}var Pv=typeof setTimeout=="function"?setTimeout:void 0,Mx=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,Vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(t){return Uv.resolve(null).then(t).catch(Lx)}:Pv;function Lx(t){setTimeout(function(){throw t})}function is(t){return t==="head"}function zv(t,r){var a=r,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),go(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Hl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Hl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,x=f.nodeName;f[Si]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Hl(t.ownerDocument.body);a=d}while(a);go(r)}function Bv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Sp(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sp(a),Na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Px(t,r,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Si])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function Ux(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function qv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Qn(t.nextSibling),t===null))return null;return t}function xp(t){return t.data==="$?"||t.data==="$~"}function Ap(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function zx(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var wp=null;function Hv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Qn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Fv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Gv(t,r,a){switch(r=ih(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Hl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Na(t)}var $n=new Map,Kv=new Set;function rh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var yr=ce.d;ce.d={f:Bx,r:qx,D:Hx,C:Fx,L:Gx,m:Kx,X:Yx,S:Wx,M:Qx};function Bx(){var t=yr.f(),r=Qc();return t||r}function qx(t){var r=Un(t);r!==null&&r.tag===5&&r.type==="form"?u_(r):yr.r(t)}var fo=typeof document>"u"?null:document;function Wv(t,r,a){var l=fo;if(l&&typeof r=="string"&&r){var d=dn(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Kv.has(d)||(Kv.add(d),t={rel:t,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),Xt(r,"link",t),It(r),l.head.appendChild(r)))}}function Hx(t){yr.D(t),Wv("dns-prefetch",t,null)}function Fx(t,r){yr.C(t,r),Wv("preconnect",t,r)}function Gx(t,r,a){yr.L(t,r,a);var l=fo;if(l&&t&&r){var d='link[rel="preload"][as="'+dn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+dn(a.imageSizes)+'"]')):d+='[href="'+dn(t)+'"]';var f=d;switch(r){case"style":f=po(t);break;case"script":f=mo(t)}$n.has(f)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),$n.set(f,t),l.querySelector(d)!==null||r==="style"&&l.querySelector(Fl(f))||r==="script"&&l.querySelector(Gl(f))||(r=l.createElement("link"),Xt(r,"link",t),It(r),l.head.appendChild(r)))}}function Kx(t,r){yr.m(t,r);var a=fo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=mo(t)}if(!$n.has(f)&&(t=T({rel:"modulepreload",href:t},r),$n.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(f)))return}l=a.createElement("link"),Xt(l,"link",t),It(l),a.head.appendChild(l)}}}function Wx(t,r,a){yr.S(t,r,a);var l=fo;if(l&&t){var d=Ai(l).hoistableStyles,f=po(t);r=r||"default";var v=d.get(f);if(!v){var x={loading:0,preload:null};if(v=l.querySelector(Fl(f)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=$n.get(f))&&Rp(t,a);var j=v=l.createElement("link");It(j),Xt(j,"link",t),j._p=new Promise(function(F,J){j.onload=F,j.onerror=J}),j.addEventListener("load",function(){x.loading|=1}),j.addEventListener("error",function(){x.loading|=2}),x.loading|=4,sh(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:x},d.set(f,v)}}}function Yx(t,r){yr.X(t,r);var a=fo;if(a&&t){var l=Ai(a).hoistableScripts,d=mo(t),f=l.get(d);f||(f=a.querySelector(Gl(d)),f||(t=T({src:t,async:!0},r),(r=$n.get(d))&&Cp(t,r),f=a.createElement("script"),It(f),Xt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Qx(t,r){yr.M(t,r);var a=fo;if(a&&t){var l=Ai(a).hoistableScripts,d=mo(t),f=l.get(d);f||(f=a.querySelector(Gl(d)),f||(t=T({src:t,async:!0,type:"module"},r),(r=$n.get(d))&&Cp(t,r),f=a.createElement("script"),It(f),Xt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Yv(t,r,a,l){var d=(d=xe.current)?rh(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=po(a.href),a=Ai(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=po(a.href);var f=Ai(d).hoistableStyles,v=f.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=d.querySelector(Fl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),f||$x(d,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=mo(a),a=Ai(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function po(t){return'href="'+dn(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function Qv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function $x(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Xt(r,"link",a),It(r),t.head.appendChild(r))}function mo(t){return'[src="'+dn(t)+'"]'}function Gl(t){return"script[async]"+t}function $v(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return r.instance=l,It(l),l;var d=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),Xt(l,"style",d),sh(l,a.precedence,t),r.instance=l;case"stylesheet":d=po(a.href);var f=t.querySelector(Fl(d));if(f)return r.state.loading|=4,r.instance=f,It(f),f;l=Qv(a),(d=$n.get(d))&&Rp(l,d),f=(t.ownerDocument||t).createElement("link"),It(f);var v=f;return v._p=new Promise(function(x,j){v.onload=x,v.onerror=j}),Xt(f,"link",l),r.state.loading|=4,sh(f,a.precedence,t),r.instance=f;case"script":return f=mo(a.src),(d=t.querySelector(Gl(f)))?(r.instance=d,It(d),d):(l=a,(d=$n.get(f))&&(l=T({},a),Cp(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),It(d),Xt(d,"link",l),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,sh(l,a.precedence,t));return r.instance}function sh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var x=l[v];if(x.dataset.precedence===r)f=x;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Rp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Cp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var ah=null;function Xv(t,r,a){if(ah===null){var l=new Map,d=ah=new Map;d.set(a,l)}else d=ah,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[Si]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=t+v;var x=l.get(v);x?x.push(f):l.set(v,[f])}}return l}function Jv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Xx(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Zv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Jx(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=po(l.href),f=r.querySelector(Fl(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=oh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,It(f);return}f=r.ownerDocument||r,l=Qv(l),(d=$n.get(d))&&Rp(l,d),f=f.createElement("link"),It(f);var v=f;v._p=new Promise(function(x,j){v.onload=x,v.onerror=j}),Xt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=oh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Ip=0;function Zx(t,r){return t.stylesheets&&t.count===0&&uh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&uh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&Ip===0&&(Ip=62500*kx());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&uh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ip?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lh=null;function uh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lh=new Map,r.forEach(eA,t),lh=null,oh.call(t))}function eA(t,r){if(!(r.state.loading&4)){var a=lh.get(t);if(a)var l=a.get(null);else{a=new Map,lh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=r.instance,v=d.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,d),a.set(v,d),this.count++,l=oh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var Kl={$$typeof:K,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function tA(t,r,a,l,d,f,v,x,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function e0(t,r,a,l,d,f,v,x,j,F,J,te){return t=new tA(t,r,a,v,j,F,J,te,x),r=1,f===!0&&(r|=24),f=Rn(3,null,null,r),t.current=f,f.stateNode=t,r=lf(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},df(f),t}function t0(t){return t?(t=Ga,t):Ga}function n0(t,r,a,l,d,f){d=t0(d),l.context===null?l.context=d:l.pendingContext=d,l=Kr(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Wr(t,l,r),a!==null&&(_n(a,t,r),xl(a,t,r))}function i0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Dp(t,r){i0(t,r),(t=t.alternate)&&i0(t,r)}function r0(t){if(t.tag===13||t.tag===31){var r=Qs(t,67108864);r!==null&&_n(r,t,67108864),Dp(t,67108864)}}function s0(t){if(t.tag===13||t.tag===31){var r=On();r=Ls(r);var a=Qs(t,r);a!==null&&_n(a,t,r),Dp(t,r)}}var ch=!0;function nA(t,r,a,l){var d=$.T;$.T=null;var f=ce.p;try{ce.p=2,Np(t,r,a,l)}finally{ce.p=f,$.T=d}}function iA(t,r,a,l){var d=$.T;$.T=null;var f=ce.p;try{ce.p=8,Np(t,r,a,l)}finally{ce.p=f,$.T=d}}function Np(t,r,a,l){if(ch){var d=Op(l);if(d===null)yp(t,r,l,hh,a),o0(t,l);else if(sA(d,t,r,a,l))l.stopPropagation();else if(o0(t,l),r&4&&-1<rA.indexOf(t)){for(;d!==null;){var f=Un(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=vi(f.pendingLanes);if(v!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var j=1<<31-bt(v);x.entanglements[1]|=j,v&=~j}Pi(f),(We&6)===0&&(Wc=ln()+500,zl(0))}}break;case 31:case 13:x=Qs(f,2),x!==null&&_n(x,f,2),Qc(),Dp(f,2)}if(f=Op(l),f===null&&yp(t,r,l,hh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else yp(t,r,l,null,a)}}function Op(t){return t=zn(t),kp(t)}var hh=null;function kp(t){if(hh=null,t=xi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return hh=t,null}function a0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case Qo:return 2;case $o:return 8;case Nr:case Pd:return 32;case Hu:return 268435456;default:return 32}default:return 32}}var jp=!1,rs=null,ss=null,as=null,Wl=new Map,Yl=new Map,os=[],rA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(t,r){switch(t){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":Wl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(r.pointerId)}}function Ql(t,r,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=Un(r),r!==null&&r0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function sA(t,r,a,l,d){switch(r){case"focusin":return rs=Ql(rs,t,r,a,l,d),!0;case"dragenter":return ss=Ql(ss,t,r,a,l,d),!0;case"mouseover":return as=Ql(as,t,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return Wl.set(f,Ql(Wl.get(f)||null,t,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Yl.set(f,Ql(Yl.get(f)||null,t,r,a,l,d)),!0}return!1}function l0(t){var r=xi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,ti(t.priority,function(){s0(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,ti(t.priority,function(){s0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Op(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ll=l,a.target.dispatchEvent(l),ll=null}else return r=Un(a),r!==null&&r0(r),t.blockedOn=a,!1;r.shift()}return!0}function u0(t,r,a){dh(t)&&a.delete(r)}function aA(){jp=!1,rs!==null&&dh(rs)&&(rs=null),ss!==null&&dh(ss)&&(ss=null),as!==null&&dh(as)&&(as=null),Wl.forEach(u0),Yl.forEach(u0)}function fh(t,r){t.blockedOn===r&&(t.blockedOn=null,jp||(jp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,aA)))}var ph=null;function c0(t){ph!==t&&(ph=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ph===t&&(ph=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],d=t[r+2];if(typeof l!="function"){if(kp(l||a)===null)continue;break}var f=Un(a);f!==null&&(t.splice(r,3),r-=3,Of(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function go(t){function r(j){return fh(j,t)}rs!==null&&fh(rs,t),ss!==null&&fh(ss,t),as!==null&&fh(as,t),Wl.forEach(r),Yl.forEach(r);for(var a=0;a<os.length;a++){var l=os[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<os.length&&(a=os[0],a.blockedOn===null);)l0(a),a.blockedOn===null&&os.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],v=d[Bt]||null;if(typeof f=="function")v||c0(a);else if(v){var x=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Bt]||null)x=v.formAction;else if(kp(d)!==null)continue}else x=v.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),c0(a)}}}function h0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Mp(t){this._internalRoot=t}mh.prototype.render=Mp.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=On();n0(a,l,t,r,null,null)},mh.prototype.unmount=Mp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;n0(t.current,2,null,t,null,null),Qc(),r[Ti]=null}};function mh(t){this._internalRoot=t}mh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Qu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<os.length&&r!==0&&r<os[a].priority;a++);os.splice(a,0,t),a===0&&l0(t)}};var d0=e.version;if(d0!=="19.2.4")throw Error(s(527,d0,"19.2.4"));ce.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(r),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var oA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{Zn=gh.inject(oA),Kt=gh}catch{}}return Xl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",d=v_,f=b_,v=E_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=e0(t,1,!1,null,null,a,l,null,d,f,v,h0),t[Ti]=r.current,gp(t),new Mp(r)},Xl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=v_,v=b_,x=E_,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(j=a.formState)),r=e0(t,1,!0,r,a??null,l,d,j,f,v,x,h0),r.context=t0(null),a=r.current,l=On(),l=Ls(l),d=Kr(l),d.callback=null,Wr(a,d,l),a=l,r.current.lanes=a,Ms(r,a),Pi(r),t[Ti]=r.current,gp(t),new mh(r)},Xl.version="19.2.4",Xl}var T0;function yA(){if(T0)return Pp.exports;T0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Pp.exports=gA(),Pp.exports}var _A=yA();var S0="popstate";function x0(i){return typeof i=="object"&&i!=null&&"pathname"in i&&"search"in i&&"hash"in i&&"state"in i&&"key"in i}function vA(i={}){function e(s,o){let u=o.state?.masked,{pathname:h,search:m,hash:g}=u||s.location;return lm("",{pathname:h,search:m,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default",u?{pathname:s.location.pathname,search:s.location.search,hash:s.location.hash}:void 0)}function n(s,o){return typeof o=="string"?o:pu(o)}return EA(e,n,null,i)}function dt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function pi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bA(){return Math.random().toString(36).substring(2,10)}function A0(i,e){return{usr:i.state,key:i.key,idx:e,masked:i.unstable_mask?{pathname:i.pathname,search:i.search,hash:i.hash}:void 0}}function lm(i,e,n=null,s,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Lo(e):e,state:n,key:e&&e.key||s||bA(),unstable_mask:o}}function pu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Lo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function EA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,y=b();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function b(){return(h.state||{idx:null}).idx}function T(){m="POP";let I=b(),Q=I==null?null:I-y;y=I,g&&g({action:m,location:U.location,delta:Q})}function S(I,Q){m="PUSH";let ee=x0(I)?I:lm(U.location,I,Q);y=b()+1;let K=A0(ee,y),ie=U.createHref(ee.unstable_mask||ee);try{h.pushState(K,"",ie)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ie)}u&&g&&g({action:m,location:U.location,delta:1})}function R(I,Q){m="REPLACE";let ee=x0(I)?I:lm(U.location,I,Q);y=b();let K=A0(ee,y),ie=U.createHref(ee.unstable_mask||ee);h.replaceState(K,"",ie),u&&g&&g({action:m,location:U.location,delta:0})}function M(I){return TA(I)}let U={get action(){return m},get location(){return i(o,h)},listen(I){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(S0,T),g=I,()=>{o.removeEventListener(S0,T),g=null}},createHref(I){return e(o,I)},createURL:M,encodeLocation(I){let Q=M(I);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:S,replace:R,go(I){return h.go(I)}};return U}function TA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:pu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function vE(i,e,n="/"){return SA(i,e,n,!1)}function SA(i,e,n,s){let o=typeof e=="string"?Lo(e):e,u=Sr(o.pathname||"/",n);if(u==null)return null;let h=bE(i);xA(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let y=MA(u);m=kA(h[g],y,s)}return m}function bE(i,e=[],n=[],s="",o=!1){let u=(h,m,g=o,y)=>{let b={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&g)return;dt(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let T=Bi([s,b.relativePath]),S=n.concat(b);h.children&&h.children.length>0&&(dt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),bE(h.children,e,S,T,g)),!(h.path==null&&!h.index)&&e.push({path:T,score:NA(T,h.index),routesMeta:S})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of EE(h.path))u(h,m,!0,g)}),e}function EE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=EE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function xA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:OA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var AA=/^:[\w-]+$/,wA=3,RA=2,CA=1,IA=10,DA=-2,w0=i=>i==="*";function NA(i,e){let n=i.split("/"),s=n.length;return n.some(w0)&&(s+=DA),e&&(s+=RA),n.filter(o=>!w0(o)).reduce((o,u)=>o+(AA.test(u)?wA:u===""?CA:IA),s)}function OA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function kA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=Ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),S=g.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=Ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Bi([u,T.pathname]),pathnameBase:UA(Bi([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=Bi([u,T.pathnameBase]))}return h}function Ph(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=jA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:b,isOptional:T},S)=>{if(b==="*"){let M=m[S]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const R=m[S];return T&&!R?y[b]=void 0:y[b]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function jA(i,e=!1,n=!0){pi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g,y,b)=>{if(s.push({paramName:m,isOptional:g!=null}),g){let T=b.charAt(y+h.length);return T&&T!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function MA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Sr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var VA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function LA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Lo(i):i,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=R0(n.substring(1),"/"):u=R0(n,e)):u=e,{pathname:u,search:zA(s),hash:BA(o)}}function R0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function qp(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pm(i){let e=PA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ud(i,e,n,s=!1){let o;typeof i=="string"?o=Lo(i):(o={...i},dt(!o.pathname||!o.pathname.includes("?"),qp("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),qp("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),qp("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let g=LA(o,m),y=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var Bi=i=>i.join("/").replace(/\/\/+/g,"/"),UA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),zA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,BA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,qA=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function HA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function FA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var TE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function SE(i,e){let n=i;if(typeof n!="string"||!VA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(TE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Sr(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{pi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xE=["POST","PUT","PATCH","DELETE"];new Set(xE);var GA=["GET",...xE];new Set(GA);var Po=k.createContext(null);Po.displayName="DataRouter";var cd=k.createContext(null);cd.displayName="DataRouterState";var KA=k.createContext(!1),AE=k.createContext({isTransitioning:!1});AE.displayName="ViewTransition";var WA=k.createContext(new Map);WA.displayName="Fetchers";var YA=k.createContext(null);YA.displayName="Await";var Vn=k.createContext(null);Vn.displayName="Navigation";var xu=k.createContext(null);xu.displayName="Location";var $i=k.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var Um=k.createContext(null);Um.displayName="RouteError";var wE="REACT_ROUTER_ERROR",QA="REDIRECT",$A="ROUTE_ERROR_RESPONSE";function XA(i){if(i.startsWith(`${wE}:${QA}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function JA(i){if(i.startsWith(`${wE}:${$A}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new qA(e.status,e.statusText,e.data)}catch{}}function ZA(i,{relative:e}={}){dt(Uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(Vn),{hash:o,pathname:u,search:h}=wu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Bi([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Uo(){return k.useContext(xu)!=null}function Xi(){return dt(Uo(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(xu).location}var RE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CE(i){k.useContext(Vn).static||k.useLayoutEffect(i)}function Au(){let{isDataRoute:i}=k.useContext($i);return i?dw():ew()}function ew(){dt(Uo(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(Po),{basename:e,navigator:n}=k.useContext(Vn),{matches:s}=k.useContext($i),{pathname:o}=Xi(),u=JSON.stringify(Pm(s)),h=k.useRef(!1);return CE(()=>{h.current=!0}),k.useCallback((g,y={})=>{if(pi(h.current,RE),!h.current)return;if(typeof g=="number"){n.go(g);return}let b=ud(g,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Bi([e,b.pathname])),(y.replace?n.replace:n.push)(b,y.state,y)},[e,n,u,o,i])}k.createContext(null);function wu(i,{relative:e}={}){let{matches:n}=k.useContext($i),{pathname:s}=Xi(),o=JSON.stringify(Pm(n));return k.useMemo(()=>ud(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function tw(i,e){return IE(i,e)}function IE(i,e,n){dt(Uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(Vn),{matches:o}=k.useContext($i),u=o[o.length-1],h=u?u.params:{},m=u?u.pathname:"/",g=u?u.pathnameBase:"/",y=u&&u.route;{let I=y&&y.path||"";NE(m,!y||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let b=Xi(),T;if(e){let I=typeof e=="string"?Lo(e):e;dt(g==="/"||I.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${I.pathname}" was given in the \`location\` prop.`),T=I}else T=b;let S=T.pathname||"/",R=S;if(g!=="/"){let I=g.replace(/^\//,"").split("/");R="/"+S.replace(/^\//,"").split("/").slice(I.length).join("/")}let M=vE(i,{pathname:R});pi(y||M!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),pi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=aw(M&&M.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:Bi([g,s.encodeLocation?s.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?g:Bi([g,s.encodeLocation?s.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),o,n);return e&&U?k.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...T},navigationType:"POP"}},U):U}function nw(){let i=hw(),e=HA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,h)}var iw=k.createElement(nw,null),DE=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=JA(i.digest);n&&(i=n)}let e=i!==void 0?k.createElement($i.Provider,{value:this.props.routeContext},k.createElement(Um.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?k.createElement(rw,{error:i},e):e}};DE.contextType=KA;var Hp=new WeakMap;function rw({children:i,error:e}){let{basename:n}=k.useContext(Vn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=XA(e.digest);if(s){let o=Hp.get(e);if(o)throw o;let u=SE(s.location,n);if(TE&&!Hp.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Hp.set(e,h),h}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function sw({routeContext:i,match:e,children:n}){let s=k.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement($i.Provider,{value:i},n)}function aw(i,e=[],n){let s=n?.state;if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let o=i,u=s?.errors;if(u!=null){let b=o.findIndex(T=>T.route.id&&u?.[T.route.id]!==void 0);dt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,b+1))}let h=!1,m=-1;if(n&&s){h=s.renderFallback;for(let b=0;b<o.length;b++){let T=o[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=b),T.route.id){let{loaderData:S,errors:R}=s,M=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!R||R[T.route.id]===void 0);if(T.route.lazy||M){n.isStatic&&(h=!0),m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}}let g=n?.onError,y=s&&g?(b,T)=>{g(b,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:FA(s.matches),errorInfo:T})}:void 0;return o.reduceRight((b,T,S)=>{let R,M=!1,U=null,I=null;s&&(R=u&&T.route.id?u[T.route.id]:void 0,U=T.route.errorElement||iw,h&&(m<0&&S===0?(NE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,I=null):m===S&&(M=!0,I=T.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,S+1)),ee=()=>{let K;return R?K=U:M?K=I:T.route.Component?K=k.createElement(T.route.Component,null):T.route.element?K=T.route.element:K=b,k.createElement(sw,{match:T,routeContext:{outlet:b,matches:Q,isDataRoute:s!=null},children:K})};return s&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?k.createElement(DE,{location:s.location,revalidation:s.revalidation,component:U,error:R,children:ee(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},onError:y}):ee()},null)}function zm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ow(i){let e=k.useContext(Po);return dt(e,zm(i)),e}function lw(i){let e=k.useContext(cd);return dt(e,zm(i)),e}function uw(i){let e=k.useContext($i);return dt(e,zm(i)),e}function Bm(i){let e=uw(i),n=e.matches[e.matches.length-1];return dt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function cw(){return Bm("useRouteId")}function hw(){let i=k.useContext(Um),e=lw("useRouteError"),n=Bm("useRouteError");return i!==void 0?i:e.errors?.[n]}function dw(){let{router:i}=ow("useNavigate"),e=Bm("useNavigate"),n=k.useRef(!1);return CE(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{pi(n.current,RE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var C0={};function NE(i,e,n){!e&&!C0[i]&&(C0[i]=!0,pi(!1,n))}k.memo(fw);function fw({routes:i,future:e,state:n,isStatic:s,onError:o}){return IE(i,void 0,{state:n,isStatic:s,onError:o})}function _o({to:i,replace:e,state:n,relative:s}){dt(Uo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(Vn);pi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext($i),{pathname:h}=Xi(),m=Au(),g=ud(i,Pm(u),h,s==="path"),y=JSON.stringify(g);return k.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function Ft(i){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){dt(!Uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=k.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Lo(n));let{pathname:y="/",search:b="",hash:T="",state:S=null,key:R="default",unstable_mask:M}=n,U=k.useMemo(()=>{let I=Sr(y,m);return I==null?null:{location:{pathname:I,search:b,hash:T,state:S,key:R,unstable_mask:M},navigationType:s}},[m,y,b,T,S,R,s,M]);return pi(U!=null,`<Router basename="${m}"> is not able to match the URL "${y}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:k.createElement(Vn.Provider,{value:g},k.createElement(xu.Provider,{children:e,value:U}))}function mw({children:i,location:e}){return tw(um(i),e)}function um(i,e=[]){let n=[];return k.Children.forEach(i,(s,o)=>{if(!k.isValidElement(s))return;let u=[...e,o];if(s.type===k.Fragment){n.push.apply(n,um(s.props.children,u));return}dt(s.type===Ft,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=um(s.props.children,u)),n.push(h)}),n}var wh="get",Rh="application/x-www-form-urlencoded";function hd(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function gw(i){return hd(i)&&i.tagName.toLowerCase()==="button"}function yw(i){return hd(i)&&i.tagName.toLowerCase()==="form"}function _w(i){return hd(i)&&i.tagName.toLowerCase()==="input"}function vw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function bw(i,e){return i.button===0&&(!e||e==="_self")&&!vw(i)}var yh=null;function Ew(){if(yh===null)try{new FormData(document.createElement("form"),0),yh=!1}catch{yh=!0}return yh}var Tw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fp(i){return i!=null&&!Tw.has(i)?(pi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rh}"`),null):i}function Sw(i,e){let n,s,o,u,h;if(yw(i)){let m=i.getAttribute("action");s=m?Sr(m,e):null,n=i.getAttribute("method")||wh,o=Fp(i.getAttribute("enctype"))||Rh,u=new FormData(i)}else if(gw(i)||_w(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Sr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||wh,o=Fp(i.getAttribute("formenctype"))||Fp(m.getAttribute("enctype"))||Rh,u=new FormData(m,i),!Ew()){let{name:y,type:b,value:T}=i;if(b==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,T)}}else{if(hd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wh,s=null,o=Rh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function xw(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Sr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Aw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ww(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Rw(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Aw(u,n);return h.links?h.links():[]}return[]}));return Nw(s.flat(1).filter(ww).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I0(i,e,n,s,o,u){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>h(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let b=s.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(h(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Cw(i,e,{includeHydrateFallback:n}={}){return Iw(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Iw(i){return[...new Set(i)]}function Dw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Nw(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(Dw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function OE(){let i=k.useContext(Po);return qm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Ow(){let i=k.useContext(cd);return qm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Hm=k.createContext(void 0);Hm.displayName="FrameworkContext";function kE(){let i=k.useContext(Hm);return qm(i,"You must render this element inside a <HydratedRouter> element"),i}function kw(i,e){let n=k.useContext(Hm),[s,o]=k.useState(!1),[u,h]=k.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:T}=e,S=k.useRef(null);k.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let U=Q=>{Q.forEach(ee=>{h(ee.isIntersecting)})},I=new IntersectionObserver(U,{threshold:.5});return S.current&&I.observe(S.current),()=>{I.disconnect()}}},[i]),k.useEffect(()=>{if(s){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[s]);let R=()=>{o(!0)},M=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Jl(m,R),onBlur:Jl(g,M),onMouseEnter:Jl(y,R),onMouseLeave:Jl(b,M),onTouchStart:Jl(T,R)}]:[!1,S,{}]}function Jl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function jw({page:i,...e}){let{router:n}=OE(),s=k.useMemo(()=>vE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?k.createElement(Vw,{page:i,matches:s,...e}):null}function Mw(i){let{manifest:e,routeModules:n}=kE(),[s,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return Rw(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function Vw({page:i,matches:e,...n}){let s=Xi(),{future:o,manifest:u,routeModules:h}=kE(),{basename:m}=OE(),{loaderData:g,matches:y}=Ow(),b=k.useMemo(()=>I0(i,e,y,u,s,"data"),[i,e,y,u,s]),T=k.useMemo(()=>I0(i,e,y,u,s,"assets"),[i,e,y,u,s]),S=k.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,I=!1;if(e.forEach(ee=>{let K=u.routes[ee.route.id];!K||!K.hasLoader||(!b.some(ie=>ie.route.id===ee.route.id)&&ee.route.id in g&&h[ee.route.id]?.shouldRevalidate||K.hasClientLoader?I=!0:U.add(ee.route.id))}),U.size===0)return[];let Q=xw(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return I&&U.size>0&&Q.searchParams.set("_routes",e.filter(ee=>U.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[Q.pathname+Q.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,b,e,i,h]),R=k.useMemo(()=>Cw(T,u),[T,u]),M=Mw(T);return k.createElement(k.Fragment,null,S.map(U=>k.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),R.map(U=>k.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),M.map(({key:U,link:I})=>k.createElement("link",{key:U,nonce:n.nonce,...I,crossOrigin:I.crossOrigin??n.crossOrigin})))}function Lw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Pw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pw&&(window.__reactRouterVersion="7.13.1")}catch{}function Uw({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=k.useRef();o.current==null&&(o.current=vA({window:s,v5Compat:!0}));let u=o.current,[h,m]=k.useState({action:u.action,location:u.location}),g=k.useCallback(y=>{n===!1?m(y):k.startTransition(()=>m(y))},[n]);return k.useLayoutEffect(()=>u.listen(g),[u,g]),k.createElement(pw,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var jE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fm=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,unstable_mask:m,state:g,target:y,to:b,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:R,...M},U){let{basename:I,navigator:Q,unstable_useTransitions:ee}=k.useContext(Vn),K=typeof b=="string"&&jE.test(b),ie=SE(b,I);b=ie.to;let le=ZA(b,{relative:o}),ae=Xi(),D=null;if(m){let He=ud(m,[],ae.unstable_mask?ae.unstable_mask.pathname:"/",!0);I!=="/"&&(He.pathname=He.pathname==="/"?I:Bi([I,He.pathname])),D=Q.createHref(He)}let[A,C,V]=kw(s,M),L=Hw(b,{replace:h,unstable_mask:m,state:g,target:y,preventScrollReset:T,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:R,unstable_useTransitions:ee});function z(He){e&&e(He),He.defaultPrevented||L(He)}let O=!(ie.isExternal||u),qe=k.createElement("a",{...M,...V,href:(O?D:void 0)||ie.absoluteURL||le,onClick:O?z:e,ref:Lw(U,C),target:y,"data-discover":!K&&n==="render"?"true":void 0});return A&&!K?k.createElement(k.Fragment,null,qe,k.createElement(jw,{page:le})):qe});Fm.displayName="Link";var zw=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...y},b){let T=wu(h,{relative:y.relative}),S=Xi(),R=k.useContext(cd),{navigator:M,basename:U}=k.useContext(Vn),I=R!=null&&Yw(T)&&m===!0,Q=M.encodeLocation?M.encodeLocation(T).pathname:T.pathname,ee=S.pathname,K=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),K=K?K.toLowerCase():null,Q=Q.toLowerCase()),K&&U&&(K=Sr(K,U)||K);const ie=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let le=ee===Q||!o&&ee.startsWith(Q)&&ee.charAt(ie)==="/",ae=K!=null&&(K===Q||!o&&K.startsWith(Q)&&K.charAt(Q.length)==="/"),D={isActive:le,isPending:ae,isTransitioning:I},A=le?e:void 0,C;typeof s=="function"?C=s(D):C=[s,le?"active":null,ae?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(D):u;return k.createElement(Fm,{...y,"aria-current":A,className:C,ref:b,style:V,to:h,viewTransition:m},typeof g=="function"?g(D):g)});zw.displayName="NavLink";var Bw=k.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=wh,action:m,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:S,...R},M)=>{let{unstable_useTransitions:U}=k.useContext(Vn),I=Kw(),Q=Ww(m,{relative:y}),ee=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&jE.test(m),ie=le=>{if(g&&g(le),le.defaultPrevented)return;le.preventDefault();let ae=le.nativeEvent.submitter,D=ae?.getAttribute("formmethod")||h,A=()=>I(ae||le.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:o,state:u,relative:y,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:S});U&&n!==!1?k.startTransition(()=>A()):A()};return k.createElement("form",{ref:M,method:ee,action:Q,onSubmit:s?g:ie,...R,"data-discover":!K&&i==="render"?"true":void 0})});Bw.displayName="Form";function qw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ME(i){let e=k.useContext(Po);return dt(e,qw(i)),e}function Hw(i,{target:e,replace:n,unstable_mask:s,state:o,preventScrollReset:u,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y}={}){let b=Au(),T=Xi(),S=wu(i,{relative:h});return k.useCallback(R=>{if(bw(R,e)){R.preventDefault();let M=n!==void 0?n:pu(T)===pu(S),U=()=>b(i,{replace:M,unstable_mask:s,state:o,preventScrollReset:u,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:g});y?k.startTransition(()=>U()):U()}},[T,b,S,n,s,o,e,i,u,h,m,g,y])}var Fw=0,Gw=()=>`__${String(++Fw)}__`;function Kw(){let{router:i}=ME("useSubmit"),{basename:e}=k.useContext(Vn),n=cw(),s=i.fetch,o=i.navigate;return k.useCallback(async(u,h={})=>{let{action:m,method:g,encType:y,formData:b,body:T}=Sw(u,e);if(h.navigate===!1){let S=h.fetcherKey||Gw();await s(S,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:T,formMethod:h.method||g,formEncType:h.encType||y,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:T,formMethod:h.method||g,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function Ww(i,{relative:e}={}){let{basename:n}=k.useContext(Vn),s=k.useContext($i);dt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...wu(i||".",{relative:e})},h=Xi();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Bi([n,u.pathname])),pu(u)}function Yw(i,{relative:e}={}){let n=k.useContext(AE);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ME("useViewTransitionState"),o=wu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ph(o.pathname,h)!=null||Ph(o.pathname,u)!=null}const Qw=()=>{};var D0={};const VE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$w=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},LE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,R=y&63;g||(R=64,h||(S=64)),s.push(n[b],n[T],n[S],n[R])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(VE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):$w(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new Xw;const S=u<<2|m>>4;if(s.push(S),y!==64){const R=m<<4&240|y>>2;if(s.push(R),T!==64){const M=y<<6&192|T;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Xw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jw=function(i){const e=VE(i);return LE.encodeByteArray(e,!0)},Uh=function(i){return Jw(i).replace(/\./g,"")},PE=function(i){try{return LE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eR=()=>Zw().__FIREBASE_DEFAULTS__,tR=()=>{if(typeof process>"u"||typeof D0>"u")return;const i=D0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},nR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&PE(i[1]);return e&&JSON.parse(e)},dd=()=>{try{return Qw()||eR()||tR()||nR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},UE=i=>dd()?.emulatorHosts?.[i],zE=i=>{const e=UE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},BE=()=>dd()?.config,qE=i=>dd()?.[`_${i}`];class iR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Rs(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gm(i){return(await fetch(i,{credentials:"include"})).ok}function HE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Uh(JSON.stringify(n)),Uh(JSON.stringify(h)),""].join(".")}const ou={};function rR(){const i={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?i.emulator.push(e):i.prod.push(e);return i}function sR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let N0=!1;function Km(i,e){if(typeof window>"u"||typeof document>"u"||!Rs(window.location.host)||ou[i]===e||ou[i]||N0)return;ou[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=rR().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,R){S.setAttribute("width","24"),S.setAttribute("id",R),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{N0=!0,h()},S}function b(S,R){S.setAttribute("id",R),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=sR(s),R=n("text"),M=document.getElementById(R)||document.createElement("span"),U=n("learnmore"),I=document.getElementById(U)||document.createElement("a"),Q=n("preprendIcon"),ee=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const K=S.element;m(K),b(I,U);const ie=y();g(ee,Q),K.append(ee,M,I,ie),document.body.appendChild(K)}u?(M.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function oR(){const i=dd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function cR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hR(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function dR(){return!oR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fR(){try{return typeof indexedDB=="object"}catch{return!1}}function pR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const mR="FirebaseError";class Ji extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=mR,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?gR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ji(o,m,s)}}function gR(i,e){return i.replace(yR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const yR=/\{\$([^}]+)}/g;function _R(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function fa(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(O0(u)&&O0(h)){if(!fa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function O0(i){return i!==null&&typeof i=="object"}function Cu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function tu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function nu(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function vR(i,e){const n=new bR(i,e);return n.subscribe.bind(n)}class bR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ER(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Gp),o.error===void 0&&(o.error=Gp),o.complete===void 0&&(o.complete=Gp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ER(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Gp(){}function ft(i){return i&&i._delegate?i._delegate:i}class bs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class TR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new iR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xR(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SR(i){return i===la?void 0:i}function xR(i){return i.instantiationMode==="EAGER"}class AR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const wR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},RR=Le.INFO,CR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},IR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=CR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=RR,this._logHandler=IR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const DR=(i,e)=>e.some(n=>i instanceof n);let k0,j0;function NR(){return k0||(k0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OR(){return j0||(j0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FE=new WeakMap,cm=new WeakMap,GE=new WeakMap,Kp=new WeakMap,Ym=new WeakMap;function kR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(gs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&FE.set(n,i)}).catch(()=>{}),Ym.set(e,i),e}function jR(i){if(cm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});cm.set(i,e)}let hm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return cm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||GE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function MR(i){hm=i(hm)}function VR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Wp(this),e,...n);return GE.set(s,e.sort?e.sort():[e]),gs(s)}:OR().includes(i)?function(...e){return i.apply(Wp(this),e),gs(FE.get(this))}:function(...e){return gs(i.apply(Wp(this),e))}}function LR(i){return typeof i=="function"?VR(i):(i instanceof IDBTransaction&&jR(i),DR(i,NR())?new Proxy(i,hm):i)}function gs(i){if(i instanceof IDBRequest)return kR(i);if(Kp.has(i))return Kp.get(i);const e=LR(i);return e!==i&&(Kp.set(i,e),Ym.set(e,i)),e}const Wp=i=>Ym.get(i);function PR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=gs(h);return s&&h.addEventListener("upgradeneeded",g=>{s(gs(h.result),g.oldVersion,g.newVersion,gs(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const UR=["get","getKey","getAll","getAllKeys","count"],zR=["put","add","delete","clear"],Yp=new Map;function M0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=zR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||UR.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Yp.set(e,u),u}MR(i=>({...i,get:(e,n,s)=>M0(e,n)||i.get(e,n,s),has:(e,n)=>!!M0(e,n)||i.has(e,n)}));class BR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function qR(i){return i.getComponent()?.type==="VERSION"}const dm="@firebase/app",V0="0.14.8";const xr=new Wm("@firebase/app"),HR="@firebase/app-compat",FR="@firebase/analytics-compat",GR="@firebase/analytics",KR="@firebase/app-check-compat",WR="@firebase/app-check",YR="@firebase/auth",QR="@firebase/auth-compat",$R="@firebase/database",XR="@firebase/data-connect",JR="@firebase/database-compat",ZR="@firebase/functions",eC="@firebase/functions-compat",tC="@firebase/installations",nC="@firebase/installations-compat",iC="@firebase/messaging",rC="@firebase/messaging-compat",sC="@firebase/performance",aC="@firebase/performance-compat",oC="@firebase/remote-config",lC="@firebase/remote-config-compat",uC="@firebase/storage",cC="@firebase/storage-compat",hC="@firebase/firestore",dC="@firebase/ai",fC="@firebase/firestore-compat",pC="firebase",mC="12.9.0";const fm="[DEFAULT]",gC={[dm]:"fire-core",[HR]:"fire-core-compat",[GR]:"fire-analytics",[FR]:"fire-analytics-compat",[WR]:"fire-app-check",[KR]:"fire-app-check-compat",[YR]:"fire-auth",[QR]:"fire-auth-compat",[$R]:"fire-rtdb",[XR]:"fire-data-connect",[JR]:"fire-rtdb-compat",[ZR]:"fire-fn",[eC]:"fire-fn-compat",[tC]:"fire-iid",[nC]:"fire-iid-compat",[iC]:"fire-fcm",[rC]:"fire-fcm-compat",[sC]:"fire-perf",[aC]:"fire-perf-compat",[oC]:"fire-rc",[lC]:"fire-rc-compat",[uC]:"fire-gcs",[cC]:"fire-gcs-compat",[hC]:"fire-fst",[fC]:"fire-fst-compat",[dC]:"fire-vertex","fire-js":"fire-js",[pC]:"fire-js-all"};const zh=new Map,yC=new Map,pm=new Map;function L0(i,e){try{i.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function pa(i){const e=i.name;if(pm.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,i);for(const n of zh.values())L0(n,i);for(const n of yC.values())L0(n,i);return!0}function fd(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function kn(i){return i==null?!1:i.settings!==void 0}const _C={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new Ru("app","Firebase",_C);class vC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}const Ea=mC;function KE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:fm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ys.create("bad-app-name",{appName:String(o)});if(n||(n=BE()),!n)throw ys.create("no-options");const u=zh.get(o);if(u){if(fa(n,u.options)&&fa(s,u.config))return u;throw ys.create("duplicate-app",{appName:o})}const h=new AR(o);for(const g of pm.values())h.addComponent(g);const m=new vC(n,s,h);return zh.set(o,m),m}function Qm(i=fm){const e=zh.get(i);if(!e&&i===fm&&BE())return KE();if(!e)throw ys.create("no-app",{appName:i});return e}function qi(i,e,n){let s=gC[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(h.join(" "));return}pa(new bs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const bC="firebase-heartbeat-database",EC=1,mu="firebase-heartbeat-store";let Qp=null;function WE(){return Qp||(Qp=PR(bC,EC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ys.create("idb-open",{originalErrorMessage:i.message})})),Qp}async function TC(i){try{const n=(await WE()).transaction(mu),s=await n.objectStore(mu).get(YE(i));return await n.done,s}catch(e){if(e instanceof Ji)xr.warn(e.message);else{const n=ys.create("idb-get",{originalErrorMessage:e?.message});xr.warn(n.message)}}}async function P0(i,e){try{const s=(await WE()).transaction(mu,"readwrite");await s.objectStore(mu).put(e,YE(i)),await s.done}catch(n){if(n instanceof Ji)xr.warn(n.message);else{const s=ys.create("idb-set",{originalErrorMessage:n?.message});xr.warn(s.message)}}}function YE(i){return`${i.name}!${i.options.appId}`}const SC=1024,xC=30;class AC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=U0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>xC){const o=CC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=U0(),{heartbeatsToSend:n,unsentEntries:s}=wC(this._heartbeatsCache.heartbeats),o=Uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return xr.warn(e),""}}}function U0(){return new Date().toISOString().substring(0,10)}function wC(i,e=SC){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),z0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),z0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class RC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fR()?pR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function z0(i){return Uh(JSON.stringify({version:2,heartbeats:i})).length}function CC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function IC(i){pa(new bs("platform-logger",e=>new BR(e),"PRIVATE")),pa(new bs("heartbeat",e=>new AC(e),"PRIVATE")),qi(dm,V0,i),qi(dm,V0,"esm2020"),qi("fire-js","")}IC("");var DC="firebase",NC="12.9.0";qi(DC,NC,"app");function QE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OC=QE,$E=new Ru("auth","Firebase",QE());const Bh=new Wm("@firebase/auth");function kC(i,...e){Bh.logLevel<=Le.WARN&&Bh.warn(`Auth (${Ea}): ${i}`,...e)}function Ch(i,...e){Bh.logLevel<=Le.ERROR&&Bh.error(`Auth (${Ea}): ${i}`,...e)}function mi(i,...e){throw $m(i,...e)}function Hi(i,...e){return $m(i,...e)}function XE(i,e,n){const s={...OC(),[e]:n};return new Ru("auth","Firebase",s).create(e,{appName:i.name})}function br(i){return XE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $m(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return $E.create(i,...e)}function Te(i,e,...n){if(!i)throw $m(e,...n)}function _r(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ch(e),new Error(e)}function Ar(i,e){i||_r(e)}function mm(){return typeof self<"u"&&self.location?.href||""}function jC(){return B0()==="http:"||B0()==="https:"}function B0(){return typeof self<"u"&&self.location?.protocol||null}function MC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jC()||uR()||"connection"in navigator)?navigator.onLine:!0}function VC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=aR()||cR()}get(){return MC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xm(i,e){Ar(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class JE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const LC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const PC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UC=new Iu(3e4,6e4);function Cs(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ir(i,e,n,s,o={}){return ZE(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Cu({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...u};return lR()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Rs(i.emulatorConfig.host)&&(y.credentials="include"),JE.fetch()(await eT(i,i.config.apiHost,n,m),y)})}async function ZE(i,e,n){i._canInitEmulator=!1;const s={...LC,...e};try{const o=new BC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw _h(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw _h(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw _h(i,"user-disabled",h);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw XE(i,b,y);mi(i,b)}}catch(o){if(o instanceof Ji)throw o;mi(i,"network-request-failed",{message:String(o)})}}async function Du(i,e,n,s,o={}){const u=await Ir(i,e,n,s,o);return"mfaPendingCredential"in u&&mi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function eT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Xm(i.config,o):`${i.config.apiScheme}://${o}`;return PC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function zC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Hi(this.auth,"network-request-failed")),UC.get())})}}function _h(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Hi(i,e,s);return o.customData._tokenResponse=n,o}function q0(i){return i!==void 0&&i.enterprise!==void 0}class qC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HC(i,e){return Ir(i,"GET","/v2/recaptchaConfig",Cs(i,e))}async function FC(i,e){return Ir(i,"POST","/v1/accounts:delete",e)}async function qh(i,e){return Ir(i,"POST","/v1/accounts:lookup",e)}function lu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GC(i,e=!1){const n=ft(i),s=await n.getIdToken(e),o=Jm(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:lu($p(o.auth_time)),issuedAtTime:lu($p(o.iat)),expirationTime:lu($p(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function $p(i){return Number(i)*1e3}function Jm(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=PE(n);return o?JSON.parse(o):(Ch("Failed to decode base64 JWT payload"),null)}catch(o){return Ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function H0(i){const e=Jm(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Do(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ji&&KC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function KC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class WC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hh(i){const e=i.auth,n=await i.getIdToken(),s=await Do(i,qh(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?tT(o.providerUserInfo):[],h=QC(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,y=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new gm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,b)}async function YC(i){const e=ft(i);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function tT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function $C(i,e){const n=await ZE(i,{},async()=>{const s=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await eT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&Rs(i.emulatorConfig.host)&&(g.credentials="include"),JE.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XC(i,e){return Ir(i,"POST","/v2/accounts:revokeToken",Cs(i,e))}class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=H0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await $C(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Ao;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return _r("not implemented")}}function us(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new WC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Do(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GC(this,e)}reload(){return YC(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await Do(this,FC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:R,providerData:M,stsTokenManager:U}=n;Te(T&&U,e,"internal-error");const I=Ao.fromJSON(this.name,U);Te(typeof T=="string",e,"internal-error"),us(s,e.name),us(o,e.name),Te(typeof S=="boolean",e,"internal-error"),Te(typeof R=="boolean",e,"internal-error"),us(u,e.name),us(h,e.name),us(m,e.name),us(g,e.name),us(y,e.name),us(b,e.name);const Q=new hi({uid:T,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:R,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:I,createdAt:y,lastLoginAt:b});return M&&Array.isArray(M)&&(Q.providerData=M.map(ee=>({...ee}))),g&&(Q._redirectEventId=g),Q}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ao;o.updateFromServerResponse(n);const u=new hi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Hh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?tT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Ao;m.updateFromIdToken(s);const g=new hi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const F0=new Map;function vr(i){Ar(i instanceof Function,"Expected a class definition");let e=F0.get(i);return e?(Ar(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,F0.set(i,e),e)}class nT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nT.type="NONE";const G0=nT;function Ih(i,e,n){return`firebase:${i}:${e}:${n}`}class wo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qh(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new wo(vr(G0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||vr(G0);const h=Ih(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const b=await y._get(h);if(b){let T;if(typeof b=="string"){const S=await qh(e,{idToken:b}).catch(()=>{});if(!S)break;T=await hi._fromGetAccountInfoResponse(e,S,b)}else T=hi._fromJSON(e,b);y!==u&&(m=T),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new wo(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new wo(u,e,s))}}function K0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lT(e))return"Blackberry";if(uT(e))return"Webos";if(rT(e))return"Safari";if((e.includes("chrome/")||sT(e))&&!e.includes("edge/"))return"Chrome";if(oT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function iT(i=on()){return/firefox\//i.test(i)}function rT(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sT(i=on()){return/crios\//i.test(i)}function aT(i=on()){return/iemobile/i.test(i)}function oT(i=on()){return/android/i.test(i)}function lT(i=on()){return/blackberry/i.test(i)}function uT(i=on()){return/webos/i.test(i)}function Zm(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function JC(i=on()){return Zm(i)&&!!window.navigator?.standalone}function ZC(){return hR()&&document.documentMode===10}function cT(i=on()){return Zm(i)||oT(i)||uT(i)||lT(i)||/windows phone/i.test(i)||aT(i)}function hT(i,e=[]){let n;switch(i){case"Browser":n=K0(on());break;case"Worker":n=`${K0(on())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ea}/${s}`}class eI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function tI(i,e={}){return Ir(i,"GET","/v2/passwordPolicy",Cs(i,e))}const nI=6;class iI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class rI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W0(this),this.idTokenSubscription=new W0(this),this.beforeStateQueue=new eI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$E,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qh(this,{idToken:e}),s=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(br(this));const n=e?ft(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tI(this),n=new iI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await XC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ta(i){return ft(i)}class W0{constructor(e){this.auth=e,this.observer=null,this.addObserver=vR(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sI(i){pd=i}function dT(i){return pd.loadJS(i)}function aI(){return pd.recaptchaEnterpriseScript}function oI(){return pd.gapiScript}function lI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class uI{constructor(){this.enterprise=new cI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hI="recaptcha-enterprise",fT="NO_RECAPTCHA";class dI{constructor(e){this.type=hI,this.auth=Ta(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{HC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new qC(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;q0(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(fT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&q0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=aI();g.length!==0&&(g+=m),dT(g).then(()=>{o(m,u,h)}).catch(y=>{h(y)})}}).catch(m=>{h(m)})})}}async function Y0(i,e,n,s=!1,o=!1){const u=new dI(i);let h;if(o)h=fT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ym(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Y0(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Y0(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function fI(i,e){const n=fd(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(fa(u,e??{}))return o;mi(o,"already-initialized")}return n.initialize({options:e})}function pI(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(vr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function mI(i,e,n){const s=Ta(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=pT(e),{host:h,port:m}=gI(e),g=m===null?"":`:${m}`,y={url:`${u}//${h}${g}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(fa(y,s.config.emulator)&&fa(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Rs(h)?(Gm(`${u}//${h}${g}`),Km("Auth",!0)):yI()}function pT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function gI(i){const e=pT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Q0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Q0(h)}}}function Q0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function yI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class eg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,n){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}async function _I(i,e){return Ir(i,"POST","/v1/accounts:signUp",e)}async function vI(i,e){return Du(i,"POST","/v1/accounts:signInWithPassword",Cs(i,e))}async function bI(i,e){return Du(i,"POST","/v1/accounts:signInWithEmailLink",Cs(i,e))}async function EI(i,e){return Du(i,"POST","/v1/accounts:signInWithEmailLink",Cs(i,e))}class gu extends eg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new gu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new gu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(e,n,"signInWithPassword",vI);case"emailLink":return bI(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(e,s,"signUpPassword",_I);case"emailLink":return EI(e,{idToken:n,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ro(i,e){return Du(i,"POST","/v1/accounts:signInWithIdp",Cs(i,e))}const TI="http://localhost";class ma extends eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ma(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Ro(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ro(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ro(e,n)}buildRequest(){const e={requestUri:TI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cu(n)}return e}}function SI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xI(i){const e=tu(nu(i)).link,n=e?tu(nu(e)).deep_link_id:null,s=tu(nu(i)).deep_link_id;return(s?tu(nu(s)).link:null)||s||n||e||i}class tg{constructor(e){const n=tu(nu(e)),s=n.apiKey??null,o=n.oobCode??null,u=SI(n.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=xI(e);try{return new tg(n)}catch{return null}}}class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,n){return gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=tg.parseLink(n);return Te(s,"argument-error"),gu._fromEmailAndCode(e,s.code,s.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class mT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Nu extends mT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cs extends Nu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";class hs extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return hs.credential(n,s)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";class ds extends Nu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";class fs extends Nu{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return fs.credential(n,s)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";async function AI(i,e){return Du(i,"POST","/v1/accounts:signUp",Cs(i,e))}class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await hi._fromIdTokenResponse(e,s,o),h=$0(s);return new ga({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=$0(s);return new ga({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function $0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Fh extends Ji{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Fh(e,n,s,o)}}function gT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(i,u,e,s):u})}async function wI(i,e,n=!1){const s=await Do(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ga._forOperation(i,"link",s)}async function RI(i,e,n=!1){const{auth:s}=i;if(kn(s.app))return Promise.reject(br(s));const o="reauthenticate";try{const u=await Do(i,gT(s,o,e,i),n);Te(u.idToken,s,"internal-error");const h=Jm(u.idToken);Te(h,s,"internal-error");const{sub:m}=h;return Te(i.uid===m,s,"user-mismatch"),ga._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&mi(s,"user-mismatch"),u}}async function yT(i,e,n=!1){if(kn(i.app))return Promise.reject(br(i));const s="signIn",o=await gT(i,s,e),u=await ga._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function CI(i,e){return yT(Ta(i),e)}async function _T(i){const e=Ta(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function II(i,e,n){if(kn(i.app))return Promise.reject(br(i));const s=Ta(i),h=await ym(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&_T(i),g}),m=await ga._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function DI(i,e,n){return kn(i.app)?Promise.reject(br(i)):CI(ft(i),zo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&_T(i),s})}async function NI(i,e){return Ir(i,"POST","/v1/accounts:update",e)}async function OI(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ft(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await Do(s,NI(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function kI(i,e,n,s){return ft(i).onIdTokenChanged(e,n,s)}function jI(i,e,n){return ft(i).beforeAuthStateChanged(e,n)}function MI(i,e,n,s){return ft(i).onAuthStateChanged(e,n,s)}function VI(i){return ft(i).signOut()}const Gh="__sak";class vT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const LI=1e3,PI=10;class bT extends vT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);ZC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,PI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bT.type="LOCAL";const UI=bT;class ET extends vT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ET.type="SESSION";const TT=ET;function zI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new md(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async y=>y(n.origin,u)),g=await zI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];function ng(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class BI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const y=ng("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Fi(){return window}function qI(i){Fi().location.href=i}function ST(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function HI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FI(){return navigator?.serviceWorker?.controller||null}function GI(){return ST()?self:null}const xT="firebaseLocalStorageDb",KI=1,Kh="firebaseLocalStorage",AT="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gd(i,e){return i.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function WI(){const i=indexedDB.deleteDatabase(xT);return new Ou(i).toPromise()}function _m(){const i=indexedDB.open(xT,KI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Kh,{keyPath:AT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Kh)?e(s):(s.close(),await WI(),e(await _m()))})})}async function X0(i,e,n){const s=gd(i,!0).put({[AT]:e,value:n});return new Ou(s).toPromise()}async function YI(i,e){const n=gd(i,!1).get(e),s=await new Ou(n).toPromise();return s===void 0?null:s.value}function J0(i,e){const n=gd(i,!0).delete(e);return new Ou(n).toPromise()}const QI=800,$I=3;class wT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>$I)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ST()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(GI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HI(),!this.activeServiceWorker)return;this.sender=new BI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await X0(e,Gh,"1"),await J0(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>X0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>YI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>J0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=gd(o,!1).getAll();return new Ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wT.type="LOCAL";const XI=wT;new Iu(3e4,6e4);function JI(i,e){return e?vr(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class ig extends eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZI(i){return yT(i.auth,new ig(i),i.bypassAuthState)}function e2(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),RI(n,new ig(i),i.bypassAuthState)}async function t2(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),wI(n,new ig(i),i.bypassAuthState)}class RT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZI;case"linkViaPopup":case"linkViaRedirect":return t2;case"reauthViaPopup":case"reauthViaRedirect":return e2;default:mi(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const n2=new Iu(2e3,1e4);class xo extends RT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n2.get())};e()}}xo.currentPopupAction=null;const i2="pendingRedirect",Dh=new Map;class r2 extends RT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Dh.get(this.auth._key());if(!e){try{const s=await s2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Dh.set(this.auth._key(),e)}return this.bypassAuthState||Dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s2(i,e){const n=l2(e),s=o2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function a2(i,e){Dh.set(i._key(),e)}function o2(i){return vr(i._redirectPersistence)}function l2(i){return Ih(i2,i.config.apiKey,i.name)}async function u2(i,e,n=!1){if(kn(i.app))return Promise.reject(br(i));const s=Ta(i),o=JI(s,e),h=await new r2(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const c2=600*1e3;class h2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!CT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Hi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z0(e))}saveEventToCache(e){this.cachedEventUids.add(Z0(e)),this.lastProcessedEventTime=Date.now()}}function Z0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function CT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function d2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CT(i);default:return!1}}async function f2(i,e={}){return Ir(i,"GET","/v1/projects",e)}const p2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m2=/^https?/;async function g2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await f2(i);for(const n of e)try{if(y2(n))return}catch{}mi(i,"unauthorized-domain")}function y2(i){const e=mm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!m2.test(n))return!1;if(p2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const _2=new Iu(3e4,6e4);function eb(){const i=Fi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function v2(i){return new Promise((e,n)=>{function s(){eb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eb(),n(Hi(i,"network-request-failed"))},timeout:_2.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)s();else{const o=lI("iframefcb");return Fi()[o]=()=>{gapi.load?s():n(Hi(i,"network-request-failed"))},dT(`${oI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Nh=null,e})}let Nh=null;function b2(i){return Nh=Nh||v2(i),Nh}const E2=new Iu(5e3,15e3),T2="__/auth/iframe",S2="emulator/auth/iframe",x2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w2(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Xm(e,S2):`https://${i.config.authDomain}/${T2}`,s={apiKey:e.apiKey,appName:i.name,v:Ea},o=A2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Cu(s).slice(1)}`}async function R2(i){const e=await b2(i),n=Fi().gapi;return Te(n,i,"internal-error"),e.open({where:document.body,url:w2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Hi(i,"network-request-failed"),m=Fi().setTimeout(()=>{u(h)},E2.get());function g(){Fi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const C2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I2=500,D2=600,N2="_blank",O2="http://localhost";class tb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k2(i,e,n,s=I2,o=D2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...C2,width:s.toString(),height:o.toString(),top:u,left:h},y=on().toLowerCase();n&&(m=sT(y)?N2:n),iT(y)&&(e=e||O2,g.scrollbars="yes");const b=Object.entries(g).reduce((S,[R,M])=>`${S}${R}=${M},`,"");if(JC(y)&&m!=="_self")return j2(e||"",m),new tb(null);const T=window.open(e||"",m,b);Te(T,i,"popup-blocked");try{T.focus()}catch{}return new tb(T)}function j2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const M2="__/auth/handler",V2="emulator/auth/handler",L2=encodeURIComponent("fac");async function nb(i,e,n,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ea,eventId:o};if(e instanceof mT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",_R(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))h[b]=T}if(e instanceof Nu){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(h.scopes=b.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await i._getAppCheckToken(),y=g?`#${L2}=${encodeURIComponent(g)}`:"";return`${P2(i)}?${Cu(m).slice(1)}${y}`}function P2({config:i}){return i.emulator?Xm(i,V2):`https://${i.authDomain}/${M2}`}const Xp="webStorageSupport";class U2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TT,this._completeRedirectFn=u2,this._overrideRedirectResult=a2}async _openPopup(e,n,s,o){Ar(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await nb(e,n,s,mm(),o);return k2(e,u,ng())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await nb(e,n,s,mm(),o);return qI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await R2(e),s=new h2(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xp,{type:Xp},o=>{const u=o?.[0]?.[Xp];u!==void 0&&n(!!u),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cT()||rT()||Zm()}}const z2=U2;var ib="@firebase/auth",rb="1.12.0";class B2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function q2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H2(i){pa(new bs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(i)},y=new rI(s,o,u,g);return pI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),pa(new bs("auth-internal",e=>{const n=Ta(e.getProvider("auth").getImmediate());return(s=>new B2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(ib,rb,q2(i)),qi(ib,rb,"esm2020")}const F2=300,G2=qE("authIdTokenMaxAge")||F2;let sb=null;const K2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>G2)return;const o=n?.token;sb!==o&&(sb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function W2(i=Qm()){const e=fd(i,"auth");if(e.isInitialized())return e.getImmediate();const n=fI(i,{popupRedirectResolver:z2,persistence:[XI,UI,TT]}),s=qE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=K2(u.toString());jI(n,h,()=>h(n.currentUser)),kI(n,m=>h(m))}}const o=UE("auth");return o&&mI(n,`http://${o}`),n}function Y2(){return document.getElementsByTagName("head")?.[0]??document}sI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Hi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Y2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H2("Browser");var ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _s,IT;(function(){var i;function e(D,A){function C(){}C.prototype=A.prototype,D.F=A.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(V,L,z){for(var O=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)O[qe-2]=arguments[qe];return A.prototype[L].apply(V,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var L=0;L<16;++L)V[L]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(L=0;L<16;++L)V[L]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=D.g[0],C=D.g[1],L=D.g[2];let z=D.g[3],O;O=A+(z^C&(L^z))+V[0]+3614090360&4294967295,A=C+(O<<7&4294967295|O>>>25),O=z+(L^A&(C^L))+V[1]+3905402710&4294967295,z=A+(O<<12&4294967295|O>>>20),O=L+(C^z&(A^C))+V[2]+606105819&4294967295,L=z+(O<<17&4294967295|O>>>15),O=C+(A^L&(z^A))+V[3]+3250441966&4294967295,C=L+(O<<22&4294967295|O>>>10),O=A+(z^C&(L^z))+V[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=z+(L^A&(C^L))+V[5]+1200080426&4294967295,z=A+(O<<12&4294967295|O>>>20),O=L+(C^z&(A^C))+V[6]+2821735955&4294967295,L=z+(O<<17&4294967295|O>>>15),O=C+(A^L&(z^A))+V[7]+4249261313&4294967295,C=L+(O<<22&4294967295|O>>>10),O=A+(z^C&(L^z))+V[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=z+(L^A&(C^L))+V[9]+2336552879&4294967295,z=A+(O<<12&4294967295|O>>>20),O=L+(C^z&(A^C))+V[10]+4294925233&4294967295,L=z+(O<<17&4294967295|O>>>15),O=C+(A^L&(z^A))+V[11]+2304563134&4294967295,C=L+(O<<22&4294967295|O>>>10),O=A+(z^C&(L^z))+V[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=z+(L^A&(C^L))+V[13]+4254626195&4294967295,z=A+(O<<12&4294967295|O>>>20),O=L+(C^z&(A^C))+V[14]+2792965006&4294967295,L=z+(O<<17&4294967295|O>>>15),O=C+(A^L&(z^A))+V[15]+1236535329&4294967295,C=L+(O<<22&4294967295|O>>>10),O=A+(L^z&(C^L))+V[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=z+(C^L&(A^C))+V[6]+3225465664&4294967295,z=A+(O<<9&4294967295|O>>>23),O=L+(A^C&(z^A))+V[11]+643717713&4294967295,L=z+(O<<14&4294967295|O>>>18),O=C+(z^A&(L^z))+V[0]+3921069994&4294967295,C=L+(O<<20&4294967295|O>>>12),O=A+(L^z&(C^L))+V[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=z+(C^L&(A^C))+V[10]+38016083&4294967295,z=A+(O<<9&4294967295|O>>>23),O=L+(A^C&(z^A))+V[15]+3634488961&4294967295,L=z+(O<<14&4294967295|O>>>18),O=C+(z^A&(L^z))+V[4]+3889429448&4294967295,C=L+(O<<20&4294967295|O>>>12),O=A+(L^z&(C^L))+V[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=z+(C^L&(A^C))+V[14]+3275163606&4294967295,z=A+(O<<9&4294967295|O>>>23),O=L+(A^C&(z^A))+V[3]+4107603335&4294967295,L=z+(O<<14&4294967295|O>>>18),O=C+(z^A&(L^z))+V[8]+1163531501&4294967295,C=L+(O<<20&4294967295|O>>>12),O=A+(L^z&(C^L))+V[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=z+(C^L&(A^C))+V[2]+4243563512&4294967295,z=A+(O<<9&4294967295|O>>>23),O=L+(A^C&(z^A))+V[7]+1735328473&4294967295,L=z+(O<<14&4294967295|O>>>18),O=C+(z^A&(L^z))+V[12]+2368359562&4294967295,C=L+(O<<20&4294967295|O>>>12),O=A+(C^L^z)+V[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=z+(A^C^L)+V[8]+2272392833&4294967295,z=A+(O<<11&4294967295|O>>>21),O=L+(z^A^C)+V[11]+1839030562&4294967295,L=z+(O<<16&4294967295|O>>>16),O=C+(L^z^A)+V[14]+4259657740&4294967295,C=L+(O<<23&4294967295|O>>>9),O=A+(C^L^z)+V[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=z+(A^C^L)+V[4]+1272893353&4294967295,z=A+(O<<11&4294967295|O>>>21),O=L+(z^A^C)+V[7]+4139469664&4294967295,L=z+(O<<16&4294967295|O>>>16),O=C+(L^z^A)+V[10]+3200236656&4294967295,C=L+(O<<23&4294967295|O>>>9),O=A+(C^L^z)+V[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=z+(A^C^L)+V[0]+3936430074&4294967295,z=A+(O<<11&4294967295|O>>>21),O=L+(z^A^C)+V[3]+3572445317&4294967295,L=z+(O<<16&4294967295|O>>>16),O=C+(L^z^A)+V[6]+76029189&4294967295,C=L+(O<<23&4294967295|O>>>9),O=A+(C^L^z)+V[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=z+(A^C^L)+V[12]+3873151461&4294967295,z=A+(O<<11&4294967295|O>>>21),O=L+(z^A^C)+V[15]+530742520&4294967295,L=z+(O<<16&4294967295|O>>>16),O=C+(L^z^A)+V[2]+3299628645&4294967295,C=L+(O<<23&4294967295|O>>>9),O=A+(L^(C|~z))+V[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=z+(C^(A|~L))+V[7]+1126891415&4294967295,z=A+(O<<10&4294967295|O>>>22),O=L+(A^(z|~C))+V[14]+2878612391&4294967295,L=z+(O<<15&4294967295|O>>>17),O=C+(z^(L|~A))+V[5]+4237533241&4294967295,C=L+(O<<21&4294967295|O>>>11),O=A+(L^(C|~z))+V[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=z+(C^(A|~L))+V[3]+2399980690&4294967295,z=A+(O<<10&4294967295|O>>>22),O=L+(A^(z|~C))+V[10]+4293915773&4294967295,L=z+(O<<15&4294967295|O>>>17),O=C+(z^(L|~A))+V[1]+2240044497&4294967295,C=L+(O<<21&4294967295|O>>>11),O=A+(L^(C|~z))+V[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=z+(C^(A|~L))+V[15]+4264355552&4294967295,z=A+(O<<10&4294967295|O>>>22),O=L+(A^(z|~C))+V[6]+2734768916&4294967295,L=z+(O<<15&4294967295|O>>>17),O=C+(z^(L|~A))+V[13]+1309151649&4294967295,C=L+(O<<21&4294967295|O>>>11),O=A+(L^(C|~z))+V[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=z+(C^(A|~L))+V[11]+3174756917&4294967295,z=A+(O<<10&4294967295|O>>>22),O=L+(A^(z|~C))+V[2]+718787259&4294967295,L=z+(O<<15&4294967295|O>>>17),O=C+(z^(L|~A))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.v=function(D,A){A===void 0&&(A=D.length);const C=A-this.blockSize,V=this.C;let L=this.h,z=0;for(;z<A;){if(L==0)for(;z<=C;)o(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<A;)if(V[L++]=D.charCodeAt(z++),L==this.blockSize){o(this,V),L=0;break}}else for(;z<A;)if(V[L++]=D[z++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=A},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)D[A++]=this.g[C]>>>V&255;return D};function u(D,A){var C=m;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=A(D)}function h(D,A){this.h=A;const C=[];let V=!0;for(let L=D.length-1;L>=0;L--){const z=D[L]|0;V&&z==A||(C[L]=z,V=!1)}this.g=C}var m={};function g(D){return-128<=D&&D<128?u(D,function(A){return new h([A|0],A<0?-1:0)}):new h([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return I(y(-D));const A=[];let C=1;for(let V=0;D>=C;V++)A[V]=D/C|0,C*=4294967296;return new h(A,0)}function b(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return I(b(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let V=T;for(let z=0;z<D.length;z+=8){var L=Math.min(8,D.length-z);const O=parseInt(D.substring(z,z+L),A);L<8?(L=y(Math.pow(A,L)),V=V.j(L).add(y(O))):(V=V.j(C),V=V.add(y(O)))}return V}var T=g(0),S=g(1),R=g(16777216);i=h.prototype,i.m=function(){if(U(this))return-I(this).m();let D=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);D+=(V>=0?V:4294967296+V)*A,A*=4294967296}return D},i.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(U(this))return"-"+I(this).toString(D);const A=y(Math.pow(D,6));var C=this;let V="";for(;;){const L=ie(C,A).g;C=Q(C,L.j(A));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=L,M(C))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},i.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function U(D){return D.h==-1}i.l=function(D){return D=Q(this,D),U(D)?-1:M(D)?0:1};function I(D){const A=D.g.length,C=[];for(let V=0;V<A;V++)C[V]=~D.g[V];return new h(C,~D.h).add(S)}i.abs=function(){return U(this)?I(this):this},i.add=function(D){const A=Math.max(this.g.length,D.g.length),C=[];let V=0;for(let L=0;L<=A;L++){let z=V+(this.i(L)&65535)+(D.i(L)&65535),O=(z>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);V=O>>>16,z&=65535,O&=65535,C[L]=O<<16|z}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Q(D,A){return D.add(I(A))}i.j=function(D){if(M(this)||M(D))return T;if(U(this))return U(D)?I(this).j(I(D)):I(I(this).j(D));if(U(D))return I(this.j(I(D)));if(this.l(R)<0&&D.l(R)<0)return y(this.m()*D.m());const A=this.g.length+D.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let L=0;L<D.g.length;L++){const z=this.i(V)>>>16,O=this.i(V)&65535,qe=D.i(L)>>>16,He=D.i(L)&65535;C[2*V+2*L]+=O*He,ee(C,2*V+2*L),C[2*V+2*L+1]+=z*He,ee(C,2*V+2*L+1),C[2*V+2*L+1]+=O*qe,ee(C,2*V+2*L+1),C[2*V+2*L+2]+=z*qe,ee(C,2*V+2*L+2)}for(D=0;D<A;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=A;D<2*A;D++)C[D]=0;return new h(C,0)};function ee(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function K(D,A){this.g=D,this.h=A}function ie(D,A){if(M(A))throw Error("division by zero");if(M(D))return new K(T,T);if(U(D))return A=ie(I(D),A),new K(I(A.g),I(A.h));if(U(A))return A=ie(D,I(A)),new K(I(A.g),A.h);if(D.g.length>30){if(U(D)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var C=S,V=A;V.l(D)<=0;)C=le(C),V=le(V);var L=ae(C,1),z=ae(V,1);for(V=ae(V,2),C=ae(C,2);!M(V);){var O=z.add(V);O.l(D)<=0&&(L=L.add(C),z=O),V=ae(V,1),C=ae(C,1)}return A=Q(D,L.j(A)),new K(L,A)}for(L=T;D.l(A)>=0;){for(C=Math.max(1,Math.floor(D.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=y(C),O=z.j(A);U(O)||O.l(D)>0;)C-=V,z=y(C),O=z.j(A);M(z)&&(z=S),L=L.add(z),D=Q(D,O)}return new K(L,D)}i.B=function(D){return ie(this,D).h},i.and=function(D){const A=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&D.i(V);return new h(C,this.h&D.h)},i.or=function(D){const A=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|D.i(V);return new h(C,this.h|D.h)},i.xor=function(D){const A=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^D.i(V);return new h(C,this.h^D.h)};function le(D){const A=D.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=D.i(V)<<1|D.i(V-1)>>>31;return new h(C,D.h)}function ae(D,A){const C=A>>5;A%=32;const V=D.g.length-C,L=[];for(let z=0;z<V;z++)L[z]=A>0?D.i(z+C)>>>A|D.i(z+C+1)<<32-A:D.i(z+C);return new h(L,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,IT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=b,_s=h}).apply(typeof ab<"u"?ab:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var DT,iu,NT,Oh,vm,OT,kT,jT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var E=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in E))break e;E=E[q]}c=c[c.length-1],w=E[c],_=_(w),_!=w&&_!=null&&e(E,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var E=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&E.push([w,_[w]]);return E}});var u=u||{},h=this||self;function m(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function g(c,_,E){return c.call.apply(c.bind,arguments)}function y(c,_,E){return y=g,y.apply(null,arguments)}function b(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,_){function E(){}E.prototype=_.prototype,c.Z=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,q,W){for(var ue=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ue[Ce-2]=arguments[Ce];return _.prototype[q].apply(w,ue)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function R(c){const _=c.length;if(_>0){const E=Array(_);for(let w=0;w<_;w++)E[w]=c[w];return E}return[]}function M(c,_){for(let w=1;w<arguments.length;w++){const q=arguments[w];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const W=q.length||0;c.length=E+W;for(let ue=0;ue<W;ue++)c[E+ue]=q[ue]}else c.push(q)}}class U{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(c){h.setTimeout(()=>{throw c},0)}function Q(){var c=D;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class ee{constructor(){this.h=this.g=null}add(_,E){const w=K.get();w.set(_,E),this.h?this.h.next=w:this.g=w,this.h=w}}var K=new U(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ae=!1,D=new ee,A=()=>{const c=Promise.resolve(void 0);le=()=>{c.then(C)}};function C(){for(var c;c=Q();){try{c.h.call(c.g)}catch(E){I(E)}var _=K;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}ae=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,_),h.removeEventListener("test",E,_)}catch{}return c})();function O(c){return/^[\s\xa0]*$/.test(c)}function qe(c,_){L.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}T(qe,L),qe.prototype.init=function(c,_){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var He="closure_listenable_"+(Math.random()*1e6|0),$=0;function ce(c,_,E,w,q){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!w,this.ha=q,this.key=++$,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function oe(c,_,E){for(const w in c)_.call(E,c[w],w,c)}function re(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function N(c){const _={};for(const E in c)_[E]=c[E];return _}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(c,_){let E,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(E in w)c[E]=w[E];for(let W=0;W<X.length;W++)E=X[W],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function de(c){this.src=c,this.g={},this.h=0}de.prototype.add=function(c,_,E,w,q){const W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);const ue=xe(c,_,w,q);return ue>-1?(_=c[ue],E||(_.fa=!1)):(_=new ce(_,this.src,W,!!w,q),_.fa=E,c.push(_)),_};function be(c,_){const E=_.type;if(E in c.g){var w=c.g[E],q=Array.prototype.indexOf.call(w,_,void 0),W;(W=q>=0)&&Array.prototype.splice.call(w,q,1),W&&(ye(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function xe(c,_,E,w){for(let q=0;q<c.length;++q){const W=c[q];if(!W.da&&W.listener==_&&W.capture==!!E&&W.ha==w)return q}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),gt={};function it(c,_,E,w,q){if(Array.isArray(_)){for(let W=0;W<_.length;W++)it(c,_[W],E,w,q);return null}return E=Yo(E),c&&c[He]?c.J(_,E,m(w)?!!w.capture:!1,q):Ns(c,_,E,!1,w,q)}function Ns(c,_,E,w,q,W){if(!_)throw Error("Invalid event type");const ue=m(q)?!!q.capture:!!q;let Ce=Os(c);if(Ce||(c[Ne]=Ce=new de(c)),E=Ce.add(_,E,w,ue,W),E.proxy)return E;if(w=wa(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)z||(q=ue),q===void 0&&(q=!1),c.addEventListener(_.toString(),w,q);else if(c.attachEvent)c.attachEvent(yi(_.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function wa(){function c(E){return _.call(c.src,c.listener,E)}const _=Ko;return c}function Ra(c,_,E,w,q){if(Array.isArray(_))for(var W=0;W<_.length;W++)Ra(c,_[W],E,w,q);else w=m(w)?!!w.capture:!!w,E=Yo(E),c&&c[He]?(c=c.i,W=String(_).toString(),W in c.g&&(_=c.g[W],E=xe(_,E,w,q),E>-1&&(ye(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete c.g[W],c.h--)))):c&&(c=Os(c))&&(_=c.g[_.toString()],c=-1,_&&(c=xe(_,E,w,q)),(E=c>-1?_[c]:null)&&Ca(E))}function Ca(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[He])be(_.i,c);else{var E=c.type,w=c.proxy;_.removeEventListener?_.removeEventListener(E,w,c.capture):_.detachEvent?_.detachEvent(yi(E),w):_.addListener&&_.removeListener&&_.removeListener(w),(E=Os(_))?(be(E,c),E.h==0&&(E.src=null,_[Ne]=null)):ye(c)}}}function yi(c){return c in gt?gt[c]:gt[c]="on"+c}function Ko(c,_){if(c.da)c=!0;else{_=new qe(_,this);const E=c.listener,w=c.ha||c.src;c.fa&&Ca(c),c=E.call(w,_)}return c}function Os(c){return c=c[Ne],c instanceof de?c:null}var Wo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yo(c){return typeof c=="function"?c:(c[Wo]||(c[Wo]=function(_){return c.handleEvent(_)}),c[Wo])}function wt(){V.call(this),this.i=new de(this),this.M=this,this.G=null}T(wt,V),wt.prototype[He]=!0,wt.prototype.removeEventListener=function(c,_,E,w){Ra(this,c,_,E,w)};function Pt(c,_){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=_.type||_,typeof _=="string")_=new L(_,c);else if(_ instanceof L)_.target=_.target||c;else{var q=_;_=new L(w,c),he(_,q)}q=!0;let W,ue;if(E)for(ue=E.length-1;ue>=0;ue--)W=_.g=E[ue],q=Dr(W,w,!0,_)&&q;if(W=_.g=c,q=Dr(W,w,!0,_)&&q,q=Dr(W,w,!1,_)&&q,E)for(ue=0;ue<E.length;ue++)W=_.g=E[ue],q=Dr(W,w,!1,_)&&q}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const E=c.g[_];for(let w=0;w<E.length;w++)ye(E[w]);delete c.g[_],c.h--}}this.G=null},wt.prototype.J=function(c,_,E,w){return this.i.add(String(c),_,!1,E,w)},wt.prototype.K=function(c,_,E,w){return this.i.add(String(c),_,!0,E,w)};function Dr(c,_,E,w){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let W=0;W<_.length;++W){const ue=_[W];if(ue&&!ue.da&&ue.capture==E){const Ce=ue.listener,Et=ue.ha||ue.src;ue.fa&&be(c.i,ue),q=Ce.call(Et,w)!==!1&&q}}return q&&!w.defaultPrevented}function Ld(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:h.setTimeout(c,_||0)}function qu(c){c.g=Ld(()=>{c.g=null,c.i&&(c.i=!1,qu(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class ln extends V{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:qu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(c){V.call(this),this.h=c,this.g={}}T(ks,V);var Qo=[];function $o(c){oe(c.g,function(_,E){this.g.hasOwnProperty(E)&&Ca(_)},c),c.g={}}ks.prototype.N=function(){ks.Z.N.call(this),$o(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nr=h.JSON.stringify,Pd=h.JSON.parse,Hu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Fu(){}function Gu(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){L.call(this,"d")}T(Kt,L);function Pn(){L.call(this,"c")}T(Pn,L);var bt={},Ku=null;function Ia(){return Ku=Ku||new wt}bt.Ia="serverreachability";function Wu(c){L.call(this,bt.Ia,c)}T(Wu,L);function _i(c){const _=Ia();Pt(_,new Wu(_))}bt.STAT_EVENT="statevent";function js(c,_){L.call(this,bt.STAT_EVENT,c),this.stat=_}T(js,L);function Rt(c){const _=Ia();Pt(_,new js(_,c))}bt.Ja="timingevent";function vi(c,_){L.call(this,bt.Ja,c),this.size=_}T(vi,L);function bi(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},_)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Ud(c,_,E,w,q,W){c.info(function(){if(c.g)if(W){var ue="",Ce=W.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var Et=Ce[Ke].split("=");if(Et.length>1){const ut=Et[0];Et=Et[1];const qn=ut.split("_");ue=qn.length>=2&&qn[1]=="type"?ue+(ut+"="+Et+"&"):ue+(ut+"=redacted&")}}}else ue=null;else ue=W;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+_+`
`+E+`
`+ue})}function Yu(c,_,E,w,q,W,ue){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+_+`
`+E+`
`+W+" "+ue})}function Ei(c,_,E,w){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+zd(c,E)+(w?" "+w:"")})}function Ms(c,_){c.info(function(){return"TIMEOUT: "+_})}ei.prototype.info=function(){};function zd(c,_){if(!c.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(c=0;c<W.length;c++)if(Array.isArray(W[c])){var E=W[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ue=1;ue<w.length;ue++)w[ue]=""}}}}return Nr(W)}catch{return _}}var Vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jo;function Ls(){}T(Ls,Fu),Ls.prototype.g=function(){return new XMLHttpRequest},Jo=new Ls;function Zi(c){return encodeURIComponent(String(c))}function Qu(c){var _=1;c=c.split(":");const E=[];for(;_>0&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function ti(c,_,E,w){this.j=c,this.i=_,this.l=E,this.S=w||1,this.V=new ks(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Ct={},Bt={};function Ti(c,_,E){c.M=1,c.A=Ps(Dt(_)),c.u=E,c.R=!0,Da(c,null)}function Da(c,_){c.F=Date.now(),Si(c),c.B=Dt(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),ja(E.i,"t",w),c.C=0,E=c.j.L,c.h=new ni,c.g=cc(c.j,E?_:null,!c.u),c.P>0&&(c.O=new ln(y(c.Y,c,c.g),c.P)),_=c.V,E=c.g,w=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(Qo[0]=q.toString()),q=Qo);for(let W=0;W<q.length;W++){const ue=it(E,q[W],w||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=c.J?N(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),_i(),Ud(c.i,c.v,c.B,c.l,c.S,c.u)}ti.prototype.ba=function(c){c=c.target;const _=this.O;_&&si(c)==3?_.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=si(this.g),Et=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Ce!=4||Et==7||(Et==8||Ke<=0?_i(3):_i(2)),xi(this);var _=this.g.ca();this.X=_;var E=Bd(this);if(this.o=_==200,Yu(this.i,this.v,this.B,this.l,this.S,Ce,_),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(w)){var W=w;break t}}W=null}if(c=W)Ei(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,c);else{this.o=!1,this.m=3,Rt(12),xn(this),Un(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=Xu(this,E),ut==Bt){Ce==4&&(this.m=4,Rt(14),c=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Ct){this.m=4,Rt(15),Ei(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Ei(this.i,this.l,ut,null),Ai(this,ut);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,Rt(16),c=!1),this.o=this.o&&c,!c)Ei(this.i,this.l,E,"[Invalid Chunked Response]"),xn(this),Un(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),fl(ue),ue.P=!0,Rt(11))}}else Ei(this.i,this.l,E,null),Ai(this,E);Ce==4&&xn(this),this.o&&!this.K&&(Ce==4?ac(this.j,this):(this.o=!1,Si(this)))}else tr(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),xn(this),Un(this)}}}catch{}};function Bd(c){if(!$u(c))return c.g.la();const _=Wt(c.g);if(_==="")return"";let E="";const w=_.length,q=si(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return xn(c),Un(c),"";c.h.i=new h.TextDecoder}for(let W=0;W<w;W++)c.h.h=!0,E+=c.h.i.decode(_[W],{stream:!(q&&W==w-1)});return _.length=0,c.h.g+=E,c.C=0,c.h.g}function $u(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Xu(c,_){var E=c.C,w=_.indexOf(`
`,E);return w==-1?Bt:(E=Number(_.substring(E,w)),isNaN(E)?Ct:(w+=1,w+E>_.length?Bt:(_=_.slice(w,w+E),c.C=w+E,_)))}ti.prototype.cancel=function(){this.K=!0,xn(this)};function Si(c){c.T=Date.now()+c.H,Na(c,c.H)}function Na(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=bi(y(c.aa,c),_)}function xi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}ti.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ms(this.i,this.B),this.M!=2&&(_i(),Rt(17)),xn(this),this.m=2,Un(this)):Na(this,this.T-c)};function Un(c){c.j.I==0||c.K||ac(c.j,c)}function xn(c){xi(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,$o(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function Ai(c,_){try{var E=c.j;if(E.I!=0&&(E.g==c||Ri(E.h,c))){if(!c.L&&Ri(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ua(E),Ur(E);else break e;Gs(E),Rt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=bi(y(E.Va,E),6e3));wi(E.h)<=1&&E.ta&&(E.ta=void 0)}else ki(E,11)}else if((c.L||E.g==c)&&Ua(E),!O(_))for(q=E.Ba.g.parse(_),_=0;_<q.length;_++){let Ke=q[_];const ut=Ke[0];if(!(ut<=E.K))if(E.K=ut,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const qn=Ke[3];qn!=null&&(E.ka=qn,E.j.info("VER="+E.ka));const ji=Ke[4];ji!=null&&(E.za=ji,E.j.info("SVER="+E.za));const ai=Ke[5];ai!=null&&typeof ai=="number"&&ai>0&&(w=1.5*ai,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const oi=c.g;if(oi){const Ks=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ks){var W=w.h;W.g||Ks.indexOf("spdy")==-1&&Ks.indexOf("quic")==-1&&Ks.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(tl(W,W.h),W.h=null))}if(w.G){const za=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(w.wa=za,Qe(w.J,w.G,za))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ue=c;if(w.na=uc(w,w.L?w.ba:null,w.W),ue.L){nl(w.h,ue);var Ce=ue,Et=w.O;Et&&(Ce.H=Et),Ce.D&&(xi(Ce),Si(Ce)),w.g=ue}else rc(w);E.i.length>0&&Oi(E)}else Ke[0]!="stop"&&Ke[0]!="close"||ki(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?ki(E,7):hl(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}_i(4)}catch{}}var It=class{constructor(c,_){this.g=c,this.map=_}};function Zo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wi(c){return c.h?1:c.g?c.g.size:0}function Ri(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function tl(c,_){c.g?c.g.add(_):c.h=_}function nl(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Zo.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function il(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.G);return _}return R(c.i)}var Ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(c,_){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let q,W=null;w>=0?(q=c[E].substring(0,w),W=c[E].substring(w+1)):q=c[E],_(q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function An(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof An?(this.l=c.l,qt(this,c.j),this.o=c.o,this.g=c.g,Or(this,c.u),this.h=c.h,rl(this,nc(c.i)),this.m=c.m):c&&(_=String(c).match(Ju))?(this.l=!1,qt(this,_[1]||"",!0),this.o=Ci(_[2]||""),this.g=Ci(_[3]||"",!0),Or(this,_[4]),this.h=Ci(_[5]||"",!0),rl(this,_[6]||"",!0),this.m=Ci(_[7]||"")):(this.l=!1,this.i=new jr(null,this.l))}An.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(Us(_,ka,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Us(_,ka,!0),"@"),c.push(Zi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Us(E,E.charAt(0)=="/"?sl:Zu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Us(E,ec)),c.join("")},An.prototype.resolve=function(c){const _=Dt(this);let E=!!c.j;E?qt(_,c.j):E=!!c.o,E?_.o=c.o:E=!!c.g,E?_.g=c.g:E=c.u!=null;var w=c.h;if(E)Or(_,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=_.h.lastIndexOf("/");q!=-1&&(w=_.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const W=[];for(let ue=0;ue<q.length;){const Ce=q[ue++];Ce=="."?w&&ue==q.length&&W.push(""):Ce==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),w&&ue==q.length&&W.push("")):(W.push(Ce),w=!0)}w=W.join("/")}else w=q}return E?_.h=w:E=c.i.toString()!=="",E?rl(_,nc(c.i)):E=!!c.m,E&&(_.m=c.m),_};function Dt(c){return new An(c)}function qt(c,_,E){c.j=E?Ci(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Or(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function rl(c,_,E){_ instanceof jr?(c.i=_,Ma(c.i,c.l)):(E||(_=Us(_,kr)),c.i=new jr(_,c.l))}function Qe(c,_,E){c.i.set(_,E)}function Ps(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ci(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Us(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,dn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function dn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ka=/[#\/\?@]/g,Zu=/[#\?:]/g,sl=/[#\?]/g,kr=/[#\?@]/g,ec=/#/g;function jr(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&Oa(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=jr.prototype,i.add=function(c,_){fn(this),this.i=null,c=Mr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function tc(c,_){fn(c),_=Mr(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function al(c,_){return fn(c),_=Mr(c,_),c.g.has(_)}i.forEach=function(c,_){fn(this),this.g.forEach(function(E,w){E.forEach(function(q){c.call(_,q,w,this)},this)},this)};function ol(c,_){fn(c);let E=[];if(typeof _=="string")al(c,_)&&(E=E.concat(c.g.get(Mr(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)E=E.concat(c[_]);return E}i.set=function(c,_){return fn(this),this.i=null,c=Mr(this,c),al(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=ol(this,c),c.length>0?String(c[0]):_):_};function ja(c,_,E){tc(c,_),E.length>0&&(c.i=null,c.g.set(Mr(c,_),R(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var E=_[w];const q=Zi(E);E=ol(this,E);for(let W=0;W<E.length;W++){let ue=q;E[W]!==""&&(ue+="="+Zi(E[W])),c.push(ue)}}return this.i=c.join("&")};function nc(c){const _=new jr;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function Mr(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Ma(c,_){_&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(E,w){const q=w.toLowerCase();w!=q&&(tc(this,w),ja(this,q,E))},c)),c.j=_}function ii(c,_){const E=new ei;if(h.Image){const w=new Image;w.onload=b(zn,E,"TestLoadImage: loaded",!0,_,w),w.onerror=b(zn,E,"TestLoadImage: error",!1,_,w),w.onabort=b(zn,E,"TestLoadImage: abort",!1,_,w),w.ontimeout=b(zn,E,"TestLoadImage: timeout",!1,_,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else _(!1)}function ll(c,_){const E=new ei,w=new AbortController,q=setTimeout(()=>{w.abort(),zn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:w.signal}).then(W=>{clearTimeout(q),W.ok?zn(E,"TestPingServer: ok",!0,_):zn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),zn(E,"TestPingServer: error",!1,_)})}function zn(c,_,E,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(E)}catch{}}function Vr(){this.g=new Hu}function Ii(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ii,Fu),Ii.prototype.g=function(){return new zs(this.i,this.h)};function zs(c,_){wt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(zs,wt),i=zs.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||h).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Va(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Va(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?Lr(this):ri(this),this.readyState==3&&Va(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Lr(this))},i.Na=function(c){this.g&&(this.response=c,Lr(this))},i.ga=function(){this.g&&Lr(this)};function Lr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ri(c)}i.setRequestHeader=function(c,_){this.A.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bn(c){let _="";return oe(c,function(E,w){_+=w,_+=":",_+=E,_+=`\r
`}),_}function Bs(c,_,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Bn(E),typeof c=="string"?E!=null&&Zi(E):Qe(c,_,E))}function Je(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,wt);var Di=/^https?$/i,ul=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,_,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jo.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(W){qs(this,W);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)E.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())E.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(ul,_,void 0)>=0)||w||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of E)this.g.setRequestHeader(W,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(W){qs(this,W)}};function qs(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,cl(c),er(c)}function cl(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pt(this,"complete"),Pt(this,"abort"),er(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),er(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Hs(this):this.Xa())},i.Xa=function(){Hs(this)};function Hs(c){if(c.h&&typeof u<"u"){if(c.v&&si(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pt(c,"readystatechange"),si(c)==4){c.h=!1;try{const W=c.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var w;if(w=W===0){let ue=String(c.D).match(Ju)[1]||null;!ue&&h.self&&h.self.location&&(ue=h.self.location.protocol.slice(0,-1)),w=!Di.test(ue?ue.toLowerCase():"")}E=w}if(E)Pt(c,"complete"),Pt(c,"success");else{c.o=6;try{var q=si(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",cl(c)}}finally{er(c)}}}}function er(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,_||Pt(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function si(c){return c.g?c.g.readyState:0}i.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Pd(_)}};function Wt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tr(c){const _={};c=(c.g&&si(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(O(c[w]))continue;var E=Qu(c[w]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=_[q]||[];_[q]=W,W.push(E)}re(_,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function Pr(c){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,c),this.Za=Ni("retryDelaySeedMs",1e4,c),this.Ta=Ni("forwardChannelMaxRetries",2,c),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Zo(c&&c.concurrentRequestLimit),this.Ba=new Vr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Pr.prototype,i.ka=8,i.I=1,i.connect=function(c,_,E,w){Rt(0),this.W=c,this.H=_||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=uc(this,null,this.W),Oi(this)};function hl(c){if(La(c),c.I==3){var _=c.V++,E=Dt(c.J);if(Qe(E,"SID",c.M),Qe(E,"RID",_),Qe(E,"TYPE","terminate"),Fs(c,E),_=new ti(c,c.j,_),_.M=2,_.A=Ps(Dt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=_.A,E=!0),E||(_.g=cc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Si(_)}lc(c)}function Ur(c){c.g&&(fl(c),c.g.cancel(),c.g=null)}function La(c){Ur(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ua(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Oi(c){if(!el(c.h)&&!c.m){c.m=!0;var _=c.Ea;le||A(),ae||(le(),ae=!0),D.add(_,c),c.D=0}}function Pa(c,_){return wi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=bi(y(c.Ea,c,_),oc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new ti(this,this.j,c);let W=this.o;if(this.U&&(W?(W=N(W),he(W,this.U)):W=this.U),this.u!==null||this.R||(q.J=W,W=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ic(this,q,_),E=Dt(this.J),Qe(E,"RID",c),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),Fs(this,E),W&&(this.R?_="headers="+Zi(Bn(W))+"&"+_:this.u&&Bs(E,this.u,W)),tl(this.h,q),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",_),Qe(E,"SID","null"),q.U=!0,Ti(q,E,null)):Ti(q,E,_),this.I=2}}else this.I==3&&(c?dl(this,c):this.i.length==0||el(this.h)||dl(this))};function dl(c,_){var E;_?E=_.l:E=c.V++;const w=Dt(c.J);Qe(w,"SID",c.M),Qe(w,"RID",E),Qe(w,"AID",c.K),Fs(c,w),c.u&&c.o&&Bs(w,c.u,c.o),E=new ti(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),_&&(c.i=_.G.concat(c.i)),_=ic(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),tl(c.h,E),Ti(E,w,_)}function Fs(c,_){c.H&&oe(c.H,function(E,w){Qe(_,w,E)}),c.l&&oe({},function(E,w){Qe(_,w,E)})}function ic(c,_,E){E=Math.min(c.i.length,E);const w=c.l?y(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ce=-1;for(;;){const Et=["count="+E];Ce==-1?E>0?(Ce=q[0].g,Et.push("ofs="+Ce)):Ce=0:Et.push("ofs="+Ce);let Ke=!0;for(let ut=0;ut<E;ut++){var W=q[ut].g;const qn=q[ut].map;if(W-=Ce,W<0)Ce=Math.max(0,q[ut].g-100),Ke=!1;else try{W="req"+W+"_"||"";try{var ue=qn instanceof Map?qn:Object.entries(qn);for(const[ji,ai]of ue){let oi=ai;m(ai)&&(oi=Nr(ai)),Et.push(W+ji+"="+encodeURIComponent(oi))}}catch(ji){throw Et.push(W+"type="+encodeURIComponent("_badmap")),ji}}catch{w&&w(qn)}}if(Ke){ue=Et.join("&");break e}}ue=void 0}return c=c.i.splice(0,E),_.G=c,ue}function rc(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;le||A(),ae||(le(),ae=!0),D.add(_,c),c.A=0}}function Gs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=bi(y(c.Da,c),oc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,sc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=bi(y(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Ur(this),sc(this))};function fl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function sc(c){c.g=new ti(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=Dt(c.na);Qe(_,"RID","rpc"),Qe(_,"SID",c.M),Qe(_,"AID",c.K),Qe(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(_,"TO",c.ia),Qe(_,"TYPE","xmlhttp"),Fs(c,_),c.u&&c.o&&Bs(_,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Ps(Dt(_)),E.u=null,E.R=!0,Da(E,c)}i.Va=function(){this.C!=null&&(this.C=null,Ur(this),Gs(this),Rt(19))};function Ua(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function ac(c,_){var E=null;if(c.g==_){Ua(c),fl(c),c.g=null;var w=2}else if(Ri(c.h,_))E=_.G,nl(c.h,_),w=1;else return;if(c.I!=0){if(_.o)if(w==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var q=c.D;w=Ia(),Pt(w,new vi(w,E)),Oi(c)}else rc(c);else if(q=_.m,q==3||q==0&&_.X>0||!(w==1&&Pa(c,_)||w==2&&Gs(c)))switch(E&&E.length>0&&(_=c.h,_.i=_.i.concat(E)),q){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function oc(c,_){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*_}function ki(c,_){if(c.j.info("Error code "+_),_==2){var E=y(c.bb,c),w=c.Ua;const q=!w;w=new An(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||qt(w,"https"),Ps(w),q?ii(w.toString(),E):ll(w.toString(),E)}else Rt(2);c.I=0,c.l&&c.l.pa(_),lc(c),La(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function lc(c){if(c.I=0,c.ja=[],c.l){const _=il(c.h);(_.length!=0||c.i.length!=0)&&(M(c.ja,_),M(c.ja,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.oa()}}function uc(c,_,E){var w=E instanceof An?Dt(E):new An(E);if(w.g!="")_&&(w.g=_+"."+w.g),Or(w,w.u);else{var q=h.location;w=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const W=new An(null);w&&qt(W,w),_&&(W.g=_),q&&Or(W,q),E&&(W.h=E),w=W}return E=c.G,_=c.wa,E&&_&&Qe(w,E,_),Qe(w,"VER",c.ka),Fs(c,w),w}function cc(c,_,E){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Je(new Ii({ab:E})):new Je(c.ma),_.Fa(c.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}i=hc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function zr(){}zr.prototype.g=function(c,_){return new un(c,_)};function un(c,_){wt.call(this),this.g=new Pr(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!O(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new nr(this)}T(un,wt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){hl(this.g)},un.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Nr(c),c=E);_.i.push(new It(_.Ya++,c)),_.I==3&&Oi(_)},un.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,un.Z.N.call(this)};function dc(c){Kt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const E in _){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}T(dc,Kt);function fc(){Pn.call(this),this.status=1}T(fc,Pn);function nr(c){this.g=c}T(nr,hc),nr.prototype.ra=function(){Pt(this.g,"a")},nr.prototype.qa=function(c){Pt(this.g,new dc(c))},nr.prototype.pa=function(c){Pt(this.g,new fc)},nr.prototype.oa=function(){Pt(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,jT=function(){return new zr},kT=function(){return Ia()},OT=bt,vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,Oh=Vs,Xo.COMPLETE="complete",NT=Xo,Gu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,iu=Gu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,DT=Je}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Bo="12.9.0";function Q2(i){Bo=i}const ya=new Wm("@firebase/firestore");function vo(){return ya.logLevel}function pe(i,...e){if(ya.logLevel<=Le.DEBUG){const n=e.map(rg);ya.debug(`Firestore (${Bo}): ${i}`,...n)}}function wr(i,...e){if(ya.logLevel<=Le.ERROR){const n=e.map(rg);ya.error(`Firestore (${Bo}): ${i}`,...n)}}function _a(i,...e){if(ya.logLevel<=Le.WARN){const n=e.map(rg);ya.warn(`Firestore (${Bo}): ${i}`,...n)}}function rg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Se(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,MT(i,s,n)}function MT(i,e,n){let s=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw wr(s),new Error(s)}function Ye(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||MT(e,o,s)}function Re(i,e){return i}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class VT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class X2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class J2{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Er,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Er)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new VT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class Z2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class eD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Z2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ob{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ob(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ob(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function bm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Jp(o)===Jp(u)?Pe(o,u):Jp(o)?1:-1}return Pe(i.length,e.length)}const iD=55296,rD=57343;function Jp(i){const e=i.charCodeAt(0);return e>=iD&&e<=rD}function No(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const lb="__name__";class Ui{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ui.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Ui.isNumericId(e),o=Ui.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ui.extractNumericId(e).compare(Ui.extractNumericId(n)):bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class rt extends Ui{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const sD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Ui{construct(e,n,s){return new Zt(e,n,s)}static isValidIdentifier(e){return sD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lb}static keyField(){return new Zt([lb])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(rt.fromString(e))}static fromName(e){return new ve(rt.fromString(e).popFirst(5))}static empty(){return new ve(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new rt(e.slice()))}}function LT(i,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function aD(i,e,n,s){if(e===!0&&s===!0)throw new fe(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function ub(i){if(!ve.isDocumentKey(i))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cb(i){if(ve.isDocumentKey(i))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function PT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function yd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function Tn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yd(i);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Lt(i,e){const n={typeString:i};return e&&(n.value=e),n}function ku(i,e){if(!PT(i))throw new fe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new fe(ne.INVALID_ARGUMENT,n);return!0}const hb=-62135596800,db=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*db);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hb)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/db}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Lt("string",ot._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ot(0,0))}static max(){return new Ae(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const yu=-1;function oD(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new Es(o,ve.empty(),e)}function lD(i){return new Es(i.readTime,i.key,yu)}class Es{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Es(Ae.min(),ve.empty(),yu)}static max(){return new Es(Ae.max(),ve.empty(),yu)}}function uD(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}const cD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qo(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==cD)throw i;pe("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((o=>o?se.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((b=>{h[y]=b,++m,m===u&&s(h)}),(b=>o(b)))}}))}static doWhile(e,n){return new se(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function dD(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(i){return i.name==="IndexedDbTransactionError"}class _d{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_d.ce=-1;const ag=-1;function vd(i){return i==null}function Wh(i){return i===0&&1/i==-1/0}function fD(i){return typeof i=="number"&&Number.isInteger(i)&&!Wh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const UT="";function pD(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=fb(e)),e=mD(i.get(n),e);return fb(e)}function mD(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case UT:n+="";break;default:n+=u}}return n}function fb(i){return i+UT+""}function pb(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Is(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function zT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mb(this.data.getIterator())}getIteratorFrom(e){return new mb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class mb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new zt(Zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class BT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new BT("Invalid base64 string: "+u):u}})(e);return new en(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const gD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const n=gD.exec(i);if(Ye(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:xt(i.seconds),nanos:xt(i.nanos)}}function xt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ss(i){return typeof i=="string"?en.fromBase64String(i):en.fromUint8Array(i)}const qT="server_timestamp",HT="__type__",FT="__previous_value__",GT="__local_write_time__";function og(i){return(i?.mapValue?.fields||{})[HT]?.stringValue===qT}function bd(i){const e=i.mapValue.fields[FT];return og(e)?bd(e):e}function _u(i){const e=Ts(i.mapValue.fields[GT].timestampValue);return new ot(e.seconds,e.nanos)}class yD{constructor(e,n,s,o,u,h,m,g,y,b,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=T}}const Yh="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||Yh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}function _D(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(i.options.projectId,e)}const KT="__type__",vD="__max__",Eh={mapValue:{}},WT="__vector__",Qh="value";function xs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?og(i)?4:ED(i)?9007199254740991:bD(i)?10:11:Se(28295,{value:i})}function Yi(i,e){if(i===e)return!0;const n=xs(i);if(n!==xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _u(i).isEqual(_u(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ts(o.timestampValue),m=Ts(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Ss(o.bytesValue).isEqual(Ss(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=xt(o.doubleValue),m=xt(u.doubleValue);return h===m?Wh(h)===Wh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return No(i.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(pb(h)!==pb(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Yi(h[g],m[g])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function bu(i,e){return(i.values||[]).find((n=>Yi(n,e)))!==void 0}function Oo(i,e){if(i===e)return 0;const n=xs(i),s=xs(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=xt(u.integerValue||u.doubleValue),g=xt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return gb(i.timestampValue,e.timestampValue);case 4:return gb(_u(i),_u(e));case 5:return bm(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=Ss(u),g=Ss(h);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let y=0;y<m.length&&y<g.length;y++){const b=Pe(m[y],g[y]);if(b!==0)return b}return Pe(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Pe(xt(u.latitude),xt(h.latitude));return m!==0?m:Pe(xt(u.longitude),xt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return yb(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},y=m[Qh]?.arrayValue,b=g[Qh]?.arrayValue,T=Pe(y?.values?.length||0,b?.values?.length||0);return T!==0?T:yb(y,b)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Eh.mapValue&&h===Eh.mapValue)return 0;if(u===Eh.mapValue)return 1;if(h===Eh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=h.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let T=0;T<g.length&&T<b.length;++T){const S=bm(g[T],b[T]);if(S!==0)return S;const R=Oo(m[g[T]],y[b[T]]);if(R!==0)return R}return Pe(g.length,b.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function gb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=Ts(i),s=Ts(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function yb(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Oo(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function ko(i){return Em(i)}function Em(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Ts(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ss(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ve.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Em(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Em(n.fields[h])}`;return o+"}"})(i.mapValue):Se(61005,{value:i})}function kh(i){switch(xs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bd(i);return e?16+kh(e):16;case 5:return 2*i.stringValue.length;case 6:return Ss(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+kh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Is(s.fields,((u,h)=>{o+=u.length+kh(h)})),o})(i.mapValue);default:throw Se(13486,{value:i})}}function _b(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Tm(i){return!!i&&"integerValue"in i}function lg(i){return!!i&&"arrayValue"in i}function vb(i){return!!i&&"nullValue"in i}function bb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function jh(i){return!!i&&"mapValue"in i}function bD(i){return(i?.mapValue?.fields||{})[KT]?.stringValue===WT}function uu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Is(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=uu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(i.arrayValue.values[n]);return e}return{...i}}function ED(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===vD}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!jh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=Zt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=uu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];jh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Is(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new En(uu(this.value))}}function YT(i){const e=[];return Is(i.fields,((n,s)=>{const o=new Zt([n]);if(jh(s)){const u=YT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new jn(e)}class an{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Ae.min(),Ae.min(),Ae.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new an(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new an(e,2,n,Ae.min(),Ae.min(),En.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Ae.min(),Ae.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $h{constructor(e,n){this.position=e,this.inclusive=n}}function Eb(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),n.key):s=Oo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Yi(i.position[n],e.position[n]))return!1;return!0}class Xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function TD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class QT{}class Vt extends QT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new xD(e,n,s):n==="array-contains"?new RD(e,s):n==="in"?new CD(e,s):n==="not-in"?new ID(e,s):n==="array-contains-any"?new DD(e,s):new Vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new AD(e,s):new wD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oo(n,this.value)):n!==null&&xs(this.value)===xs(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends QT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new gi(e,n)}matches(e){return $T(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $T(i){return i.op==="and"}function XT(i){return SD(i)&&$T(i)}function SD(i){for(const e of i.filters)if(e instanceof gi)return!1;return!0}function Sm(i){if(i instanceof Vt)return i.field.canonicalString()+i.op.toString()+ko(i.value);if(XT(i))return i.filters.map((e=>Sm(e))).join(",");{const e=i.filters.map((n=>Sm(n))).join(",");return`${i.op}(${e})`}}function JT(i,e){return i instanceof Vt?(function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Yi(s.value,o.value)})(i,e):i instanceof gi?(function(s,o){return o instanceof gi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&JT(h,o.filters[m])),!0):!1})(i,e):void Se(19439)}function ZT(i){return i instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`})(i):i instanceof gi?(function(n){return n.op.toString()+" {"+n.getFilters().map(ZT).join(" ,")+"}"})(i):"Filter"}class xD extends Vt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class AD extends Vt{constructor(e,n){super(e,"in",n),this.keys=eS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class wD extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=eS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function eS(i,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class RD extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lg(n)&&bu(n.arrayValue,this.value)}}class CD extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bu(this.value.arrayValue,n)}}class ID extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bu(this.value.arrayValue,n)}}class DD extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>bu(this.value.arrayValue,s)))}}class ND{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Sb(i,e=null,n=[],s=[],o=null,u=null,h=null){return new ND(i,e,n,s,o,u,h)}function ug(i){const e=Re(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Sm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ko(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ko(s))).join(",")),e.Te=n}return e.Te}function cg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!TD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!JT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Tb(i.startAt,e.startAt)&&Tb(i.endAt,e.endAt)}function xm(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class ju{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function OD(i,e,n,s,o,u,h,m){return new ju(i,e,n,s,o,u,h,m)}function Ed(i){return new ju(i)}function xb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function kD(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function tS(i){return i.collectionGroup!==null}function cu(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new zt(Zt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Xh(u,s))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new Xh(Zt.keyField(),s))}return e.Ie}function Gi(i){const e=Re(i);return e.Ee||(e.Ee=jD(e,cu(i))),e.Ee}function jD(i,e){if(i.limitType==="F")return Sb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Xh(o.field,u)}));const n=i.endAt?new $h(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new $h(i.startAt.position,i.startAt.inclusive):null;return Sb(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Am(i,e){const n=i.filters.concat([e]);return new ju(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function wm(i,e,n){return new ju(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Td(i,e){return cg(Gi(i),Gi(e))&&i.limitType===e.limitType}function nS(i){return`${ug(Gi(i))}|lt:${i.limitType}`}function bo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ZT(o))).join(", ")}]`),vd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ko(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ko(o))).join(",")),`Target(${s})`})(Gi(i))}; limitType=${i.limitType})`}function Sd(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of cu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const y=Eb(h,m,g);return h.inclusive?y<=0:y<0})(s.startAt,cu(s),o)||s.endAt&&!(function(h,m,g){const y=Eb(h,m,g);return h.inclusive?y>=0:y>0})(s.endAt,cu(s),o))})(i,e)}function MD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function iS(i){return(e,n)=>{let s=!1;for(const o of cu(i)){const u=VD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function VD(i,e,n){const s=i.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Oo(g,y):Se(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Is(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return zT(this.inner)}size(){return this.innerSize}}const LD=new pt(ve.comparator);function Rr(){return LD}const rS=new pt(ve.comparator);function ru(...i){let e=rS;for(const n of i)e=e.insert(n.key,n);return e}function sS(i){let e=rS;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ua(){return hu()}function aS(){return hu()}function hu(){return new Sa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const PD=new pt(ve.comparator),UD=new zt(ve.comparator);function Ue(...i){let e=UD;for(const n of i)e=e.add(n);return e}const zD=new zt(Pe);function BD(){return zD}function hg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(e)?"-0":e}}function oS(i){return{integerValue:""+i}}function qD(i,e){return fD(e)?oS(e):hg(i,e)}class xd{constructor(){this._=void 0}}function HD(i,e,n){return i instanceof Jh?(function(o,u){const h={fields:{[HT]:{stringValue:qT},[GT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&og(u)&&(u=bd(u)),u&&(h.fields[FT]=u),{mapValue:h}})(n,e):i instanceof Eu?uS(i,e):i instanceof Tu?cS(i,e):(function(o,u){const h=lS(o,u),m=Ab(h)+Ab(o.Ae);return Tm(h)&&Tm(o.Ae)?oS(m):hg(o.serializer,m)})(i,e)}function FD(i,e,n){return i instanceof Eu?uS(i,e):i instanceof Tu?cS(i,e):n}function lS(i,e){return i instanceof Zh?(function(s){return Tm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Jh extends xd{}class Eu extends xd{constructor(e){super(),this.elements=e}}function uS(i,e){const n=hS(e);for(const s of i.elements)n.some((o=>Yi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Tu extends xd{constructor(e){super(),this.elements=e}}function cS(i,e){let n=hS(e);for(const s of i.elements)n=n.filter((o=>!Yi(o,s)));return{arrayValue:{values:n}}}class Zh extends xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ab(i){return xt(i.integerValue||i.doubleValue)}function hS(i){return lg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function GD(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Eu&&o instanceof Eu||s instanceof Tu&&o instanceof Tu?No(s.elements,o.elements,Yi):s instanceof Zh&&o instanceof Zh?Yi(s.Ae,o.Ae):s instanceof Jh&&o instanceof Jh})(i.transform,e.transform)}class KD{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ad{}function dS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new dg(i.key,Jn.none()):new Mu(i.key,i.data,Jn.none());{const n=i.data,s=En.empty();let o=new zt(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ds(i.key,s,new jn(o.toArray()),Jn.none())}}function WD(i,e,n){i instanceof Mu?(function(o,u,h){const m=o.value.clone(),g=Rb(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ds?(function(o,u,h){if(!Mh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Rb(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(fS(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function du(i,e,n,s){return i instanceof Mu?(function(u,h,m,g){if(!Mh(u.precondition,h))return m;const y=u.value.clone(),b=Cb(u.fieldTransforms,g,h);return y.setAll(b),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,n,s):i instanceof Ds?(function(u,h,m,g){if(!Mh(u.precondition,h))return m;const y=Cb(u.fieldTransforms,g,h),b=h.data;return b.setAll(fS(u)),b.setAll(y),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,h,m){return Mh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function YD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=lS(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function wb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&No(s,o,((u,h)=>GD(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Mu extends Ad{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends Ad{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function fS(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function Rb(i,e,n){const s=new Map;Ye(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,FD(h,m,n[o]))}return s}function Cb(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,HD(u,h,e))}return s}class dg extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QD extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $D{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&WD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=aS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=dS(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,((n,s)=>wb(n,s)))&&No(this.baseMutations,e.baseMutations,((n,s)=>wb(n,s)))}}class fg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return PD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new fg(e,n,s,o)}}class XD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Mt,Be;function ZD(i){switch(i){case ne.OK:return Se(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function pS(i){if(i===void 0)return wr("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Mt.OK:return ne.OK;case Mt.CANCELLED:return ne.CANCELLED;case Mt.UNKNOWN:return ne.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ne.INTERNAL;case Mt.UNAVAILABLE:return ne.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ne.NOT_FOUND;case Mt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Mt.ABORTED:return ne.ABORTED;case Mt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Mt.DATA_LOSS:return ne.DATA_LOSS;default:return Se(39323,{code:i})}}(Be=Mt||(Mt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function eN(){return new TextEncoder}const tN=new _s([4294967295,4294967295],0);function Ib(i){const e=eN().encode(i),n=new IT;return n.update(e),new Uint8Array(n.digest())}function Db(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new _s([n,s],0),new _s([o,u],0)]}class pg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(s<0)throw new su(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_s.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(_s.fromNumber(s)));return o.compare(tN)===1&&(o=new _s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ib(e),[s,o]=Db(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new pg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=Ib(e),[s,o]=Db(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wd{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new wd(Ae.min(),o,new pt(Pe),Rr(),Ue())}}class Vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Vu(s,n,Ue(),Ue(),Ue())}}class Vh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class mS{constructor(e,n){this.targetId=e,this.Ce=n}}class gS{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Nb{constructor(){this.ve=0,this.Fe=Ob(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}})),new Vu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=Ob()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class nN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rr(),this.He=Th(),this.Je=Th(),this.Ze=new pt(Pe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(xm(u))if(s===0){const h=new ve(u.path);this.et(n,h,an.newNoDocument(h,Ae.min()))}else Ye(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Ss(s).toUint8Array()}catch(g){if(g instanceof BT)return _a("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new pg(h,o,u)}catch(g){return _a(g instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&xm(m.target)){const g=new ve(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,an.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=Ue();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new wd(e,n,this.Ze,this.je,s);return this.je=Rr(),this.He=Th(),this.Je=Th(),this.Ze=new pt(Pe),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Nb,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new zt(Pe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new zt(Pe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Nb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Th(){return new pt(ve.comparator)}function Ob(){return new pt(ve.comparator)}const iN={asc:"ASCENDING",desc:"DESCENDING"},rN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sN={and:"AND",or:"OR"};class aN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rm(i,e){return i.useProto3Json||vd(e)?e:{value:e}}function ed(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function oN(i,e){return ed(i,e.toTimestamp())}function Ki(i){return Ye(!!i,49232),Ae.fromTimestamp((function(n){const s=Ts(n);return new ot(s.seconds,s.nanos)})(i))}function mg(i,e){return Cm(i,e).canonicalString()}function Cm(i,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function _S(i){const e=rt.fromString(i);return Ye(SS(e),10190,{key:e.toString()}),e}function Im(i,e){return mg(i.databaseId,e.path)}function Zp(i,e){const n=_S(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(bS(n))}function vS(i,e){return mg(i.databaseId,e)}function lN(i){const e=_S(i);return e.length===4?rt.emptyPath():bS(e)}function Dm(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function bS(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function kb(i,e,n){return{name:Im(i,e),fields:n.value.mapValue.fields}}function uN(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Ye(b===void 0||typeof b=="string",58123),en.fromBase64String(b||"")):(Ye(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),en.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(y){const b=y.code===void 0?ne.UNKNOWN:pS(y.code);return new fe(b,y.message||"")})(h);n=new gS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zp(i,s.document.name),u=Ki(s.document.updateTime),h=s.document.createTime?Ki(s.document.createTime):Ae.min(),m=new En({mapValue:{fields:s.document.fields}}),g=an.newFoundDocument(o,u,h,m),y=s.targetIds||[],b=s.removedTargetIds||[];n=new Vh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Zp(i,s.document),u=s.readTime?Ki(s.readTime):Ae.min(),h=an.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Vh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Zp(i,s.document),u=s.removedTargetIds||[];n=new Vh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new JD(o,u),m=s.targetId;n=new mS(m,h)}}return n}function cN(i,e){let n;if(e instanceof Mu)n={update:kb(i,e.key,e.value)};else if(e instanceof dg)n={delete:Im(i,e.key)};else if(e instanceof Ds)n={update:kb(i,e.key,e.data),updateMask:vN(e.fieldMask)};else{if(!(e instanceof QD))return Se(16599,{dt:e.type});n={verify:Im(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Jh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Eu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Tu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Zh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:oN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(i,e.precondition)),n}function hN(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Ki(o.updateTime):Ki(u);return h.isEqual(Ae.min())&&(h=Ki(u)),new KD(h,o.transformResults||[])})(n,e)))):[]}function dN(i,e){return{documents:[vS(i,e.path)]}}function fN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vS(i,o);const u=(function(y){if(y.length!==0)return TS(gi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((b=>(function(S){return{field:Eo(S.field),direction:gN(S.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Rm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function pN(i){let e=lN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(T){const S=ES(T);return S instanceof gi&&XT(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(M){return new Xh(To(M.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,vd(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(T){const S=!!T.before,R=T.values||[];return new $h(R,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const S=!T.before,R=T.values||[];return new $h(R,S)})(n.endAt)),OD(e,o,h,u,m,"F",g,y)}function mN(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ES(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=To(n.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=To(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=To(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=To(n.unaryFilter.field);return Vt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Vt.create(To(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return gi.create(n.compositeFilter.filters.map((s=>ES(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(i):Se(30097,{filter:i})}function gN(i){return iN[i]}function yN(i){return rN[i]}function _N(i){return sN[i]}function Eo(i){return{fieldPath:i.canonicalString()}}function To(i){return Zt.fromServerFormat(i.fieldPath)}function TS(i){return i instanceof Vt?(function(n){if(n.op==="=="){if(bb(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(vb(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bb(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(vb(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:yN(n.op),value:n.value}}})(i):i instanceof gi?(function(n){const s=n.getFilters().map((o=>TS(o)));return s.length===1?s[0]:{compositeFilter:{op:_N(n.op),filters:s}}})(i):Se(54877,{filter:i})}function vN(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function SS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function xS(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class ms{constructor(e,n,s,o,u=Ae.min(),h=Ae.min(),m=en.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bN{constructor(e){this.yt=e}}function EN(i){const e=pN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?wm(e,e.limit,"L"):e}class TN{constructor(){this.Sn=new SN}addToCollectionParentIndex(e,n){return this.Sn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Es.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class SN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new zt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new zt(rt.comparator)).toArray()}}const jb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AS=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(AS,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class jo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new jo(0)}static ar(){return new jo(-1)}}const Mb="LruGarbageCollector",xN=1048576;function Vb([i,e],[n,s]){const o=Pe(i,n);return o===0?Pe(e,s):o}class AN{constructor(e){this.Pr=e,this.buffer=new zt(Vb),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Vb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(Mb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?pe(Mb,"Ignoring IndexedDB error during garbage collection: ",n):await qo(n)}await this.Ar(3e5)}))}}class RN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(_d.ce);const s=new AN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(jb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jb):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),vo()<=Le.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function CN(i,e){return new RN(i,e)}class IN{constructor(){this.changes=new Sa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class DN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class NN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&du(s.mutation,o,jn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=ua();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=ru();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ua();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Rr();const h=hu(),m=(function(){return hu()})();return n.forEach(((g,y)=>{const b=s.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof Ds)?u=u.insert(y.key,y):b!==void 0?(h.set(y.key,b.mutation.getFieldMask()),du(b.mutation,y,b.mutation.getFieldMask(),ot.now())):h.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>h.set(y,b))),n.forEach(((y,b)=>m.set(y,new DN(b,h.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=hu();let o=new pt(((h,m)=>h-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let b=s.get(g)||jn.empty();b=m.applyToLocalView(y,b),s.set(g,b);const T=(o.get(m.batchId)||Ue()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,b=g.value,T=aS();b.forEach((S=>{if(!u.has(S)){const R=dS(n.get(S),s.get(S));R!==null&&T.set(S,R),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return se.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return kD(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):se.resolve(ua());let m=yu,g=u;return h.next((y=>se.forEach(y,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?se.resolve():this.remoteDocumentCache.getEntry(e,b).next((S=>{g=g.insert(b,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Ue()))).next((b=>({batchId:m,changes:sS(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=ru();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=ru();return this.indexManager.getCollectionParents(e,u).next((m=>se.forEach(m,(g=>{const y=(function(T,S){return new ju(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((b=>{b.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,y)=>{const b=y.getKey();h.get(b)===null&&(h=h.insert(b,an.newInvalidDocument(b)))}));let m=ru();return h.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&du(b.mutation,y,jn.empty(),ot.now()),Sd(n,y)&&(m=m.insert(g,y))})),m}))}}class ON{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return se.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ki(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:EN(o.bundledQuery),readTime:Ki(o.readTime)}})(n)),se.resolve()}}class kN{constructor(){this.overlays=new pt(ve.comparator),this.Lr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ua();return se.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const o=ua(),u=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new pt(((y,b)=>y-b));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=ua(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=ua(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=o)););return se.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new XD(n,s));let u=this.Lr.get(n);u===void 0&&(u=Ue(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class jN{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class gg{constructor(){this.kr=new zt(Gt.Kr),this.qr=new zt(Gt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Gt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Gt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ve(new rt([])),s=new Gt(n,e),o=new Gt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new rt([])),s=new Gt(n,e),o=new Gt(n,e+1);let u=Ue();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Gt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Pe(e.Hr,n.Hr)}static Ur(e,n){return Pe(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}class MN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new zt(Gt.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new $D(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Gt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,n){return se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?ag:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Gt(n,0),o=new Gt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new zt(Pe);return n.forEach((o=>{const u=new Gt(o,0),h=new Gt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),se.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new Gt(new ve(u),0);let m=new zt(Pe);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),h),se.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return se.forEach(n.mutations,(o=>{const u=new Gt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Gt(n,0),o=this.Jr.firstAfterOrEqual(s);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class VN{constructor(e){this.ti=e,this.docs=(function(){return new pt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let s=Rr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Rr();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||uD(lD(b),s)<=0||(o.has(b.key)||Sd(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ni(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new LN(this)}getSize(e){return se.resolve(this.size)}}class LN extends IN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class PN{constructor(e){this.persistence=e,this.ri=new Sa((n=>ug(n)),cg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new gg,this.targetCount=0,this.oi=jo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),se.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.lr(n),se.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),se.waitFor(u).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.si.containsKey(n))}}class wS{constructor(e,n){this._i={},this.overlays={},this.ai=new _d(0),this.ui=!1,this.ui=!0,this.ci=new jN,this.referenceDelegate=e(this),this.li=new PN(this),this.indexManager=new TN,this.remoteDocumentCache=(function(o){return new VN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new bN(n),this.Pi=new ON(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new MN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const o=new UN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return se.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class UN extends hD{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Ri=new gg,this.Ai=null}static Vi(e){return new yg(e)}get di(){if(this.Ai)return this.Ai;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(s=>{const o=ve.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class td{constructor(e,n){this.persistence=e,this.fi=new Sa((s=>pD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=CN(this,n)}static Vi(e,n){return new td(e,n)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return se.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?se.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kh(e.data.value)),n}wr(e,n,s){return se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _g{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new _g(e,n.fromCache,s,o)}}class zN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class BN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return dR()?8:dD(on())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new zN;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(vo()<=Le.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(vo()<=Le.DEBUG&&pe("QueryEngine","Query:",bo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(vo()<=Le.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(n))):se.resolve())}gs(e,n){if(xb(n))return se.resolve(null);let s=Gi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=wm(n,null,"F"),s=Gi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ue(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,h,g.readTime)?this.gs(e,wm(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,s,o){return xb(n)||o.isEqual(Ae.min())?se.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?se.resolve(null):(vo()<=Le.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bo(n)),this.Ds(e,h,n,oD(o,yu)).next((m=>m)))}))}bs(e,n){let s=new zt(iS(e));return n.forEach(((o,u)=>{Sd(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return vo()<=Le.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",bo(n)),this.fs.getDocumentsMatchingQuery(e,n,Es.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const vg="LocalStore",qN=3e8;class HN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new pt(Pe),this.Fs=new Sa((u=>ug(u)),cg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function FN(i,e,n,s){return new HN(i,e,n,s)}async function RS(i,e){const n=Re(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=Ue();for(const y of o){h.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:m})))}))}))}function GN(i,e){const n=Re(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,b){const T=y.batch,S=T.keys();let R=se.resolve();return S.forEach((M=>{R=R.next((()=>b.getEntry(g,M))).next((U=>{const I=y.docVersions.get(M);Ye(I!==null,48541),U.version.compareTo(I)<0&&(T.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),b.addEntry(U)))}))})),R.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function CS(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function KN(i,e){const n=Re(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((b,T)=>{const S=o.get(T);if(!S)return;m.push(n.li.removeMatchingKeys(u,b.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,b.addedDocuments,T))));let R=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(en.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):b.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(b.resumeToken,s)),o=o.insert(T,R),(function(U,I,Q){return U.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=qN?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(S,R,b)&&m.push(n.li.updateTargetData(u,R))}));let g=Rr(),y=Ue();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(WN(u,h,e.documentUpdates).next((b=>{g=b.Bs,y=b.Ls}))),!s.isEqual(Ae.min())){const b=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return se.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function WN(i,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Rr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):pe(vg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function YN(i,e){const n=Re(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ag),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function QN(i,e){const n=Re(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,se.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new ms(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Nm(i,e,n){const s=Re(i),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ho(h))throw h;pe(vg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function Lb(i,e,n){const s=Re(i);let o=Ae.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,b){const T=Re(g),S=T.Fs.get(b);return S!==void 0?se.resolve(T.vs.get(S)):T.li.getTargetData(y,b)})(s,h,Gi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Ae.min(),n?u:Ue()))).next((m=>($N(s,MD(e),m),{documents:m,ks:u})))))}function $N(i,e,n){let s=i.Ms.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(e,s)}class Pb{constructor(){this.activeTargetIds=BD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XN{constructor(){this.vo=new Pb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Pb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JN{Mo(e){}shutdown(){}}const Ub="ConnectivityMonitor";class zb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(Ub,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(Ub,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sh=null;function Om(){return Sh===null?Sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sh++,"0x"+Sh.toString(16)}const em="RestConnection",ZN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class eO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=Om(),m=this.Qo(e,n.toUriEncodedString());pe(em,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(m),b=Rs(y);return this.zo(e,m,g,s,b).then((T=>(pe(em,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw _a(em,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=ZN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class tO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const nn="WebChannelConnection",Zl=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Co extends eO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Co.c_){const e=kT();Zl(e,OT.STAT_EVENT,(n=>{n.stat===vm.PROXY?pe(nn,"STAT_EVENT: detected buffering proxy"):n.stat===vm.NOPROXY&&pe(nn,"STAT_EVENT: detected no buffering proxy")})),Co.c_=!0}}zo(e,n,s,o,u){const h=Om();return new Promise(((m,g)=>{const y=new DT;y.setWithCredentials(!0),y.listenOnce(NT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Oh.NO_ERROR:const T=y.getResponseJson();pe(nn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Oh.TIMEOUT:pe(nn,`RPC '${e}' ${h} timed out`),g(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const S=y.getStatus();if(pe(nn,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R?.error;if(M&&M.status&&M.message){const U=(function(Q){const ee=Q.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(ee)>=0?ee:ne.UNKNOWN})(M.status);g(new fe(U,M.message))}else g(new fe(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{pe(nn,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(o);pe(nn,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=Om(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");pe(nn,`Creating RPC '${e}' stream ${o}: ${y}`,m);const b=h.createWebChannel(y,m);this.I_(b);let T=!1,S=!1;const R=new tO({Ho:M=>{S?pe(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(T||(pe(nn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),T=!0),pe(nn,`RPC '${e}' stream ${o} sending:`,M),b.send(M))},Jo:()=>b.close()});return Zl(b,iu.EventType.OPEN,(()=>{S||(pe(nn,`RPC '${e}' stream ${o} transport opened.`),R.i_())})),Zl(b,iu.EventType.CLOSE,(()=>{S||(S=!0,pe(nn,`RPC '${e}' stream ${o} transport closed`),R.o_(),this.E_(b))})),Zl(b,iu.EventType.ERROR,(M=>{S||(S=!0,_a(nn,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),R.o_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))})),Zl(b,iu.EventType.MESSAGE,(M=>{if(!S){const U=M.data[0];Ye(!!U,16349);const I=U,Q=I?.error||I[0]?.error;if(Q){pe(nn,`RPC '${e}' stream ${o} received error:`,Q);const ee=Q.status;let K=(function(ae){const D=Mt[ae];if(D!==void 0)return pS(D)})(ee),ie=Q.message;ee==="NOT_FOUND"&&ie.includes("database")&&ie.includes("does not exist")&&ie.includes(this.databaseId.database)&&_a(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),K===void 0&&(K=ne.INTERNAL,ie="Unknown error status: "+ee+" with message "+Q.message),S=!0,R.o_(new fe(K,ie)),b.close()}else pe(nn,`RPC '${e}' stream ${o} received:`,U),R.__(U)}})),Co.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return jT()}}function nO(i){return new Co(i)}function tm(){return typeof document<"u"?document:null}function Rd(i){return new aN(i,!0)}Co.c_=!1;class IS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Bb="PersistentStream";class DS{constructor(e,n,s,o,u,h,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(wr(n.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(Bb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(pe(Bb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iO extends DS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=uN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Ki(h.readTime):Ae.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Dm(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=xm(g)?{documents:dN(u,g)}:{query:fN(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=yS(u,h.resumeToken);const y=Rm(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=ed(u,h.snapshotVersion.toTimestamp());const y=Rm(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=mN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Dm(this.serializer),n.removeTarget=e,this.K_(n)}}class rO extends DS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=hN(e.writeResults,e.commitTime),s=Ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Dm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>cN(this.serializer,s)))};this.K_(n)}}class sO{}class aO extends sO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Cm(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Cm(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function oO(i,e,n,s){return new aO(i,e,n,s)}class lO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wr(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const va="RemoteStore";class uO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{xa(this)&&(pe(va,"Restarting streams for network reachability change."),await(async function(g){const y=Re(g);y.Ea.add(4),await Lu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Cd(y)})(this))}))})),this.Va=new lO(s,o)}}async function Cd(i){if(xa(i))for(const e of i.Ra)await e(!0)}async function Lu(i){for(const e of i.Ra)await e(!1)}function NS(i,e){const n=Re(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sg(n)?Tg(n):Fo(n).O_()&&Eg(n,e))}function bg(i,e){const n=Re(i),s=Fo(n);n.Ia.delete(e),s.O_()&&OS(n,e),n.Ia.size===0&&(s.O_()?s.L_():xa(n)&&n.Va.set("Unknown"))}function Eg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fo(i).Z_(e)}function OS(i,e){i.da.$e(e),Fo(i).X_(e)}function Tg(i){i.da=new nN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Fo(i).start(),i.Va.ua()}function Sg(i){return xa(i)&&!Fo(i).x_()&&i.Ia.size>0}function xa(i){return Re(i).Ea.size===0}function kS(i){i.da=void 0}async function cO(i){i.Va.set("Online")}async function hO(i){i.Ia.forEach(((e,n)=>{Eg(i,e)}))}async function dO(i,e){kS(i),Sg(i)?(i.Va.ha(e),Tg(i)):i.Va.set("Unknown")}async function fO(i,e,n){if(i.Va.set("Online"),e instanceof gS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){pe(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nd(i,s)}else if(e instanceof Vh?i.da.Xe(e):e instanceof mS?i.da.st(e):i.da.tt(e),!n.isEqual(Ae.min()))try{const s=await CS(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(en.EMPTY_BYTE_STRING,b.snapshotVersion)),OS(u,g);const T=new ms(b.target,g,y,b.sequenceNumber);Eg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){pe(va,"Failed to raise snapshot:",s),await nd(i,s)}}async function nd(i,e,n){if(!Ho(e))throw e;i.Ea.add(1),await Lu(i),i.Va.set("Offline"),n||(n=()=>CS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{pe(va,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Cd(i)}))}function jS(i,e){return e().catch((n=>nd(i,n,e)))}async function Id(i){const e=Re(i),n=As(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ag;for(;pO(e);)try{const o=await YN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,mO(e,o)}catch(o){await nd(e,o)}MS(e)&&VS(e)}function pO(i){return xa(i)&&i.Ta.length<10}function mO(i,e){i.Ta.push(e);const n=As(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function MS(i){return xa(i)&&!As(i).x_()&&i.Ta.length>0}function VS(i){As(i).start()}async function gO(i){As(i).ra()}async function yO(i){const e=As(i);for(const n of i.Ta)e.ea(n.mutations)}async function _O(i,e,n){const s=i.Ta.shift(),o=fg.from(s,e,n);await jS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Id(i)}async function vO(i,e){e&&As(i).Y_&&await(async function(s,o){if((function(h){return ZD(h)&&h!==ne.ABORTED})(o.code)){const u=s.Ta.shift();As(s).B_(),await jS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Id(s)}})(i,e),MS(i)&&VS(i)}async function qb(i,e){const n=Re(i);n.asyncQueue.verifyOperationInProgress(),pe(va,"RemoteStore received new credentials");const s=xa(n);n.Ea.add(3),await Lu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cd(n)}async function bO(i,e){const n=Re(i);e?(n.Ea.delete(2),await Cd(n)):e||(n.Ea.add(2),await Lu(n),n.Va.set("Unknown"))}function Fo(i){return i.ma||(i.ma=(function(n,s,o){const u=Re(n);return u.sa(),new iO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:cO.bind(null,i),Yo:hO.bind(null,i),t_:dO.bind(null,i),J_:fO.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),Sg(i)?Tg(i):i.Va.set("Unknown")):(await i.ma.stop(),kS(i))}))),i.ma}function As(i){return i.fa||(i.fa=(function(n,s,o){const u=Re(n);return u.sa(),new rO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:gO.bind(null,i),t_:vO.bind(null,i),ta:yO.bind(null,i),na:_O.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Id(i)):(await i.fa.stop(),i.Ta.length>0&&(pe(va,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class xg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new xg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(i,e){if(wr("AsyncQueue",`${e}: ${i}`),Ho(i))return new fe(ne.UNAVAILABLE,`${e}: ${i}`);throw i}class Io{static emptySet(e){return new Io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=ru(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Hb{constructor(){this.ga=new pt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Mo{constructor(e,n,s,o,u,h,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Mo(e,n,Io.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class EO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class TO{constructor(){this.queries=Fb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=Fb(),u.forEach(((h,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function Fb(){return new Sa((i=>nS(i)),Td)}async function wg(i,e){const n=Re(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new EO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Ag(h,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Cg(n)}async function Rg(i,e){const n=Re(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function SO(i,e){const n=Re(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Cg(n)}function xO(i,e,n){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Cg(i){i.Ca.forEach((e=>{e.next()}))}var km,Gb;(Gb=km||(km={})).Ma="default",Gb.Cache="cache";class Ig{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==km.Cache}}class LS{constructor(e){this.key=e}}class PS{constructor(e){this.key=e}}class AO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=iS(e),this.tu=new Io(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new Hb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const S=o.get(b),R=Sd(this.query,T)?T:null,M=!!S&&this.mutatedKeys.has(S.key),U=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let I=!1;S&&R?S.data.isEqual(R.data)?M!==U&&(s.track({type:3,doc:R}),I=!0):this.su(S,R)||(s.track({type:2,doc:R}),I=!0,(g&&this.eu(R,g)>0||y&&this.eu(R,y)<0)&&(m=!0)):!S&&R?(s.track({type:0,doc:R}),I=!0):S&&!R&&(s.track({type:1,doc:S}),I=!0,(g||y)&&(m=!0)),I&&(R?(h=h.add(R),u=U?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,T)=>(function(R,M){const U=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:I})}};return U(R)-U(M)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,h.length!==0||y?{snapshot:new Mo(this.query,e.tu,u,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new PS(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new LS(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Dg="SyncEngine";class wO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class RO{constructor(e){this.key=e,this.hu=!1}}class CO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Sa((m=>nS(m)),Td),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(ve.comparator),this.Au=new Map,this.Vu=new gg,this.du={},this.mu=new Map,this.fu=jo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IO(i,e,n=!0){const s=FS(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await US(s,e,n,!0),o}async function DO(i,e){const n=FS(i);await US(n,e,!0,!1)}async function US(i,e,n,s){const o=await QN(i.localStore,Gi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await NO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&NS(i.remoteStore,o),m}async function NO(i,e,n,s,o){i.pu=(T,S,R)=>(async function(U,I,Q,ee){let K=I.view.ru(Q);K.Ss&&(K=await Lb(U.localStore,I.query,!1).then((({documents:D})=>I.view.ru(D,K))));const ie=ee&&ee.targetChanges.get(I.targetId),le=ee&&ee.targetMismatches.get(I.targetId)!=null,ae=I.view.applyChanges(K,U.isPrimaryClient,ie,le);return Wb(U,I.targetId,ae.au),ae.snapshot})(i,T,S,R);const u=await Lb(i.localStore,e,!0),h=new AO(e,u.ks),m=h.ru(u.documents),g=Vu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=h.applyChanges(m,i.isPrimaryClient,g);Wb(i,n,y.au);const b=new wO(e,n,h);return i.Tu.set(e,b),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function OO(i,e,n){const s=Re(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Td(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Nm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&bg(s.remoteStore,o.targetId),jm(s,o.targetId)})).catch(qo)):(jm(s,o.targetId),await Nm(s.localStore,o.targetId,!0))}async function kO(i,e){const n=Re(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bg(n.remoteStore,s.targetId))}async function jO(i,e,n){const s=BO(i);try{const o=await(function(h,m){const g=Re(h),y=ot.now(),b=m.reduce(((R,M)=>R.add(M.key)),Ue());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let M=Rr(),U=Ue();return g.xs.getEntries(R,b).next((I=>{M=I,M.forEach(((Q,ee)=>{ee.isValidDocument()||(U=U.add(Q))}))})).next((()=>g.localDocuments.getOverlayedDocuments(R,M))).next((I=>{T=I;const Q=[];for(const ee of m){const K=YD(ee,T.get(ee.key).overlayedDocument);K!=null&&Q.push(new Ds(ee.key,K,YT(K.value.mapValue),Jn.exists(!0)))}return g.mutationQueue.addMutationBatch(R,y,Q,m)})).next((I=>{S=I;const Q=I.applyToLocalDocumentSet(T,U);return g.documentOverlayCache.saveOverlays(R,I.batchId,Q)}))})).then((()=>({batchId:S.batchId,changes:sS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let y=h.du[h.currentUser.toKey()];y||(y=new pt(Pe)),y=y.insert(m,g),h.du[h.currentUser.toKey()]=y})(s,o.batchId,n),await Pu(s,o.changes),await Id(s.remoteStore)}catch(o){const u=Ag(o,"Failed to persist write");n.reject(u)}}async function zS(i,e){const n=Re(i);try{const s=await KN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ye(h.hu,14607):o.removedDocuments.size>0&&(Ye(h.hu,42227),h.hu=!1))})),await Pu(n,s,e)}catch(s){await qo(s)}}function Kb(i,e,n){const s=Re(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Re(h);g.onlineState=m;let y=!1;g.queries.forEach(((b,T)=>{for(const S of T.ba)S.va(m)&&(y=!0)})),y&&Cg(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MO(i,e,n){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new pt(ve.comparator);h=h.insert(u,an.newNoDocument(u,Ae.min()));const m=Ue().add(u),g=new wd(Ae.min(),new Map,new pt(Pe),h,m);await zS(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),Ng(s)}else await Nm(s.localStore,e,!1).then((()=>jm(s,e,n))).catch(qo)}async function VO(i,e){const n=Re(i),s=e.batch.batchId;try{const o=await GN(n.localStore,e);qS(n,s,null),BS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Pu(n,o)}catch(o){await qo(o)}}async function LO(i,e,n){const s=Re(i);try{const o=await(function(h,m){const g=Re(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,m).next((T=>(Ye(T!==null,37113),b=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);qS(s,e,n),BS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Pu(s,o)}catch(o){await qo(o)}}function BS(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function qS(i,e,n){const s=Re(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function jm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||HS(i,s)}))}function HS(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(bg(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),Ng(i))}function Wb(i,e,n){for(const s of n)s instanceof LS?(i.Vu.addReference(s.key,e),PO(i,s)):s instanceof PS?(pe(Dg,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||HS(i,s.key)):Se(19791,{wu:s})}function PO(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(pe(Dg,"New document in limbo: "+n),i.Eu.add(s),Ng(i))}function Ng(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ve(rt.fromString(e)),s=i.fu.next();i.Au.set(s,new RO(n)),i.Ru=i.Ru.insert(n,s),NS(i.remoteStore,new ms(Gi(Ed(n.path)),s,"TargetPurposeLimboResolution",_d.ce))}}async function Pu(i,e,n){const s=Re(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=_g.Es(g.targetId,y);u.push(b)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,y){const b=Re(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>se.forEach(y,(S=>se.forEach(S.Ts,(R=>b.persistence.referenceDelegate.addReference(T,S.targetId,R))).next((()=>se.forEach(S.Is,(R=>b.persistence.referenceDelegate.removeReference(T,S.targetId,R)))))))))}catch(T){if(!Ho(T))throw T;pe(vg,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const R=b.vs.get(S),M=R.snapshotVersion,U=R.withLastLimboFreeSnapshotVersion(M);b.vs=b.vs.insert(S,U)}}})(s.localStore,u))}async function UO(i,e){const n=Re(i);if(!n.currentUser.isEqual(e)){pe(Dg,"User change. New user:",e.toKey());const s=await RS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new fe(ne.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pu(n,s.Ns)}}function zO(i,e){const n=Re(i),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function FS(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=zS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MO.bind(null,e),e.Pu.J_=SO.bind(null,e.eventManager),e.Pu.yu=xO.bind(null,e.eventManager),e}function BO(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LO.bind(null,e),e}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return FN(this.persistence,new BN,e.initialUser,this.serializer)}Cu(e){return new wS(yg.Vi,this.serializer)}Du(e){return new XN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class qO extends id{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof td,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new wN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new wS((s=>td.Vi(s,n)),this.serializer)}}class Mm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Kb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UO.bind(null,this.syncEngine),await bO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TO})()}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),s=nO(e.databaseInfo);return oO(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new uO(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Kb(this.syncEngine,n,0)),(function(){return zb.v()?new zb:new JN})())}createSyncEngine(e,n){return(function(o,u,h,m,g,y,b){const T=new CO(o,u,h,m,g,y);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);pe(va,"RemoteStore shutting down."),s.Ea.add(5),await Lu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class Og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ws="FirestoreClient";class HO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{pe(ws,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(pe(ws,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ag(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function nm(i,e){i.asyncQueue.verifyOperationInProgress(),pe(ws,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await RS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Yb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await FO(i);pe(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>qb(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>qb(e.remoteStore,o))),i._onlineComponents=e}async function FO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pe(ws,"Using user provided OfflineComponentProvider");try{await nm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_a("Error using user provided cache. Falling back to memory cache: "+n),await nm(i,new id)}}else pe(ws,"Using default OfflineComponentProvider"),await nm(i,new qO(void 0));return i._offlineComponents}async function GS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pe(ws,"Using user provided OnlineComponentProvider"),await Yb(i,i._uninitializedComponentsProvider._online)):(pe(ws,"Using default OnlineComponentProvider"),await Yb(i,new Mm))),i._onlineComponents}function GO(i){return GS(i).then((e=>e.syncEngine))}async function rd(i){const e=await GS(i),n=e.eventManager;return n.onListen=IO.bind(null,e.syncEngine),n.onUnlisten=OO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kO.bind(null,e.syncEngine),n}function KO(i,e,n,s){const o=new Og(s),u=new Ig(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>wg(await rd(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>Rg(await rd(i),u)))}}function WO(i,e,n={}){const s=new Er;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,y){const b=new Og({next:S=>{b.Nu(),h.enqueueAndForget((()=>Rg(u,T)));const R=S.docs.has(m);!R&&S.fromCache?y.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&g&&g.source==="server"?y.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new Ig(Ed(m.path),b,{includeMetadataChanges:!0,Ka:!0});return wg(u,T)})(await rd(i),i.asyncQueue,e,n,s))),s.promise}function YO(i,e,n={}){const s=new Er;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,y){const b=new Og({next:S=>{b.Nu(),h.enqueueAndForget((()=>Rg(u,T))),S.fromCache&&g.source==="server"?y.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new Ig(m,b,{includeMetadataChanges:!0,Ka:!0});return wg(u,T)})(await rd(i),i.asyncQueue,e,n,s))),s.promise}function QO(i,e){const n=new Er;return i.asyncQueue.enqueueAndForget((async()=>jO(await GO(i),e,n))),n.promise}function KS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const $O="ComponentProvider",Qb=new Map;function XO(i,e,n,s,o){return new yD(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,KS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const WS="firestore.googleapis.com",$b=!0;class Xb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WS,this.ssl=$b}else this.host=e.host,this.ssl=e.ssl??$b;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xN)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new $2;switch(s.type){case"firstParty":return new eD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Qb.get(n);s&&(pe($O,"Removing Datastore"),Qb.delete(n),s.terminate())})(this),Promise.resolve()}}function JO(i,e,n,s={}){i=Tn(i,Dd);const o=Rs(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Gm(`https://${m}`),Km("Firestore",!0)),u.host!==WS&&u.host!==m&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!fa(g,h)&&(i._setSettings(g),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=sn.MOCK_USER;else{y=HE(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new sn(T)}i._authCredentials=new X2(new VT(y,b))}}class Aa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ku(n,vt._jsonSchema))return new vt(e,s||null,new ve(rt.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Lt("string",vt._jsonSchemaVersion),referencePath:Lt("string")};class vs extends Aa{constructor(e,n,s){super(e,n,Ed(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ve(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function ht(i,e,...n){if(i=ft(i),LT("collection","path",e),i instanceof Dd){const s=rt.fromString(e,...n);return cb(s),new vs(i,null,s)}{if(!(i instanceof vt||i instanceof vs))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return cb(s),new vs(i.firestore,null,s)}}function Sn(i,e,...n){if(i=ft(i),arguments.length===1&&(e=sg.newId()),LT("doc","path",e),i instanceof Dd){const s=rt.fromString(e,...n);return ub(s),new vt(i,null,new ve(s))}{if(!(i instanceof vt||i instanceof vs))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return ub(s),new vt(i.firestore,i instanceof vs?i.converter:null,new ve(s))}}const Jb="AsyncQueue";class Zb{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IS(this,"async_queue_retry"),this._c=()=>{const s=tm();s&&pe(Jb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ho(e))throw e;pe(Jb,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,wr("INTERNAL UNHANDLED ERROR: ",eE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=xg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:eE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function eE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Cr extends Dd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Zb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zb(e),this._firestoreClient=void 0,await e}}}function ZO(i,e){const n=typeof i=="object"?i:Qm(),s=typeof i=="string"?i:Yh,o=fd(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=zE("firestore");u&&JO(o,...u)}return o}function Nd(i){if(i._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||e4(i),i._firestoreClient}function e4(i){const e=i._freezeSettings(),n=XO(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new HO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(en.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Lt("string",Xn._jsonSchemaVersion),bytes:Lt("string")};class kg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jg{constructor(e){this._methodName=e}}class Wi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(e){if(ku(e,Wi._jsonSchema))return new Wi(e.latitude,e.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:Lt("string",Wi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class di{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new di(e.vectorValues);throw new fe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Lt("string",di._jsonSchemaVersion),vectorValues:Lt("object")};const t4=/^__.*__$/;class n4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}class YS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{dataSource:i})}}class Mg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return sd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(QS(this.dataSource)&&t4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class i4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Rd(e)}createContext(e,n,s,o=!1){return new Mg({dataSource:e,methodName:n,targetDoc:s,path:Zt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(i){const e=i._freezeSettings(),n=Rd(i._databaseId);return new i4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function $S(i,e,n,s,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);Vg("Data must be an object, but it was:",h,s);const m=XS(s,h);let g,y;if(u.merge)g=new jn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const S=Vo(e,T,n);if(!h.contains(S))throw new fe(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);e1(b,S)||b.push(S)}g=new jn(b),y=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=h.fieldTransforms;return new n4(new En(m),g,y)}class kd extends jg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kd}}function r4(i,e,n,s){const o=i.createContext(1,e,n);Vg("Data must be an object, but it was:",o,s);const u=[],h=En.empty();Is(s,((g,y)=>{const b=ZS(e,g,n);y=ft(y);const T=o.childContextForFieldPath(b);if(y instanceof kd)u.push(b);else{const S=Uu(y,T);S!=null&&(u.push(b),h.set(b,S))}}));const m=new jn(u);return new YS(h,m,o.fieldTransforms)}function s4(i,e,n,s,o,u){const h=i.createContext(1,e,n),m=[Vo(e,s,n)],g=[o];if(u.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Vo(e,u[S])),g.push(u[S+1]);const y=[],b=En.empty();for(let S=m.length-1;S>=0;--S)if(!e1(y,m[S])){const R=m[S];let M=g[S];M=ft(M);const U=h.childContextForFieldPath(R);if(M instanceof kd)y.push(R);else{const I=Uu(M,U);I!=null&&(y.push(R),b.set(R,I))}}const T=new jn(y);return new YS(b,T,h.fieldTransforms)}function a4(i,e,n,s=!1){return Uu(n,i.createContext(s?4:3,e))}function Uu(i,e){if(JS(i=ft(i)))return Vg("Unsupported field value:",e,i),XS(i,e);if(i instanceof jg)return(function(s,o){if(!QS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=Uu(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ot.fromDate(s);return{timestampValue:ed(o.serializer,u)}}if(s instanceof ot){const u=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ed(o.serializer,u)}}if(s instanceof Wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:yS(o.serializer,s._byteString)};if(s instanceof vt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof di)return(function(h,m){const g=h instanceof di?h.toArray():h;return{mapValue:{fields:{[KT]:{stringValue:WT},[Qh]:{arrayValue:{values:g.map((b=>{if(typeof b!="number")throw m.createError("VectorValues must only contain numeric values.");return hg(m.serializer,b)}))}}}}}})(s,o);if(xS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${yd(s)}`)})(i,e)}function XS(i,e){const n={};return zT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Is(i,((s,o)=>{const u=Uu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function JS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ot||i instanceof Wi||i instanceof Xn||i instanceof vt||i instanceof jg||i instanceof di||xS(i))}function Vg(i,e,n){if(!JS(n)||!PT(n)){const s=yd(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function Vo(i,e,n){if((e=ft(e))instanceof kg)return e._internalPath;if(typeof e=="string")return ZS(i,e);throw sd("Field path arguments must be of type string or ",i,!1,void 0,n)}const o4=new RegExp("[~\\*/\\[\\]]");function ZS(i,e,n){if(e.search(o4)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new kg(...e.split("."))._internalPath}catch{throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function sd(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new fe(ne.INVALID_ARGUMENT,m+i+g)}function e1(i,e){return i.some((n=>n.isEqual(e)))}class l4{convertValue(e,n="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Is(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Qh].arrayValue?.values?.map((s=>xt(s.doubleValue)));return new di(n)}convertGeoPoint(e){return new Wi(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=bd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ye(SS(s),9688,{name:e});const o=new vu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||wr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Lg extends l4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}const tE="@firebase/firestore",nE="4.11.0";function iE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class t1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Vo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u4 extends t1{data(){return super.data()}}function n1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}class c4 extends Pg{}function Qi(i,e,...n){let s=[];e instanceof Pg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof Ug)).length,m=u.filter((g=>g instanceof jd)).length;if(h>1||h>0&&m>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class jd extends c4{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new jd(e,n,s)}_apply(e){const n=this._parse(e);return i1(e._query,n),new Aa(e.firestore,e.converter,Am(e._query,n))}_parse(e){const n=Od(e.firestore);return(function(u,h,m,g,y,b,T){let S;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){sE(T,b);const M=[];for(const U of T)M.push(rE(g,u,U));S={arrayValue:{values:M}}}else S=rE(g,u,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||sE(T,b),S=a4(m,h,T,b==="in"||b==="not-in");return Vt.create(y,b,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fi(i,e,n){const s=e,o=Vo("where",i);return jd._create(o,s,n)}class Ug extends Pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ug(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)i1(h,g),h=Am(h,g)})(e._query,n),new Aa(e.firestore,e.converter,Am(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rE(i,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tS(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ve.isDocumentKey(s))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _b(i,new ve(s))}if(n instanceof vt)return _b(i,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yd(n)}.`)}function sE(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i1(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function r1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends t1{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Vo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Lt("string",ca._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Lh extends ca{data(e={}){return super.data(e)}}class ha{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new au(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Lh(this._firestore,this._userDataWriter,s.key,s,new au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:h4(m.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ha._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function h4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}ha._jsonSchemaVersion="firestore/querySnapshot/1.0",ha._jsonSchema={type:Lt("string",ha._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function s1(i){i=Tn(i,vt);const e=Tn(i.firestore,Cr),n=Nd(e);return WO(n,i._key).then((s=>a1(e,i,s)))}function At(i){i=Tn(i,Aa);const e=Tn(i.firestore,Cr),n=Nd(e),s=new Lg(e);return n1(i._query),YO(n,i._query).then((o=>new ha(e,s,i,o)))}function ad(i,e,n){i=Tn(i,vt);const s=Tn(i.firestore,Cr),o=r1(i.converter,e),u=Od(s);return Md(s,[$S(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Jn.none())])}function Su(i,e,n,...s){i=Tn(i,vt);const o=Tn(i.firestore,Cr),u=Od(o);let h;return h=typeof(e=ft(e))=="string"||e instanceof kg?s4(u,"updateDoc",i._key,e,n,s):r4(u,"updateDoc",i._key,e),Md(o,[h.toMutation(i._key,Jn.exists(!0))])}function d4(i){return Md(Tn(i.firestore,Cr),[new dg(i._key,Jn.none())])}function zg(i,e){const n=Tn(i.firestore,Cr),s=Sn(i),o=r1(i.converter,e),u=Od(i.firestore);return Md(n,[$S(u,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then((()=>s))}function f4(i,...e){i=ft(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||iE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(iE(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let u,h,m;if(i instanceof vt)h=Tn(i.firestore,Cr),m=Ed(i._key.path),u={next:y=>{e[s]&&e[s](a1(h,i,y))},error:e[s+1],complete:e[s+2]};else{const y=Tn(i,Aa);h=Tn(y.firestore,Cr),m=y._query;const b=new Lg(h);u={next:T=>{e[s]&&e[s](new ha(h,b,y,T))},error:e[s+1],complete:e[s+2]},n1(i._query)}const g=Nd(h);return KO(g,m,o,u)}function Md(i,e){const n=Nd(i);return QO(n,e)}function a1(i,e,n){const s=n.docs.get(e._key),o=new Lg(i);return new ca(i,o,e._key,s,new au(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Q2(Ea),pa(new bs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Cr(new J2(s.getProvider("auth-internal")),new tD(h,s.getProvider("app-check-internal")),_D(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),qi(tE,nE,e),qi(tE,nE,"esm2020")})();const o1="firebasestorage.googleapis.com",l1="storageBucket",p4=120*1e3,m4=600*1e3,g4=1e3;class mt extends Ji{constructor(e,n,s=0){super(im(e),`Firebase Storage: ${n} (${im(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return im(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function im(i){return"storage/"+i}function Bg(){const i="An unknown error occurred, please check the error payload for server response.";return new mt(lt.UNKNOWN,i)}function y4(i){return new mt(lt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function _4(i){return new mt(lt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function v4(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(lt.UNAUTHENTICATED,i)}function b4(){return new mt(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function E4(i){return new mt(lt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function u1(){return new mt(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function c1(){return new mt(lt.CANCELED,"User canceled the upload/download.")}function T4(i){return new mt(lt.INVALID_URL,"Invalid URL '"+i+"'.")}function S4(i){return new mt(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function x4(){return new mt(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+l1+"' property when initializing the app?")}function h1(){return new mt(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function A4(){return new mt(lt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function w4(){return new mt(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function R4(i){return new mt(lt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vm(i){return new mt(lt.INVALID_ARGUMENT,i)}function d1(){return new mt(lt.APP_DELETED,"The Firebase app was deleted.")}function C4(i){return new mt(lt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fu(i,e){return new mt(lt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function eu(i){throw new mt(lt.INTERNAL_ERROR,"Internal error: "+i)}class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(s.path==="")return s;throw S4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(ie){ie.path_=decodeURIComponent(ie.path)}const b="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",R=new RegExp(`^https?://${T}/${b}/b/${o}/o${S}`,"i"),M={bucket:1,path:3},U=n===o1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",Q=new RegExp(`^https?://${U}/${o}/${I}`,"i"),K=[{regex:m,indices:g,postModify:u},{regex:R,indices:M,postModify:y},{regex:Q,indices:{bucket:1,path:2},postModify:y}];for(let ie=0;ie<K.length;ie++){const le=K[ie],ae=le.regex.exec(e);if(ae){const D=ae[le.indices.bucket];let A=ae[le.indices.path];A||(A=""),s=new Mn(D,A),le.postModify(s);break}}if(s==null)throw T4(e);return s}}class I4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function D4(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function g(){return m===2}let y=!1;function b(...I){y||(y=!0,e.apply(null,I))}function T(I){o=setTimeout(()=>{o=null,i(R,g())},I)}function S(){u&&clearTimeout(u)}function R(I,...Q){if(y){S();return}if(I){S(),b.call(null,I,...Q);return}if(g()||h){S(),b.call(null,I,...Q);return}s<64&&(s*=2);let K;m===1?(m=2,K=0):K=(s+Math.random())*1e3,T(K)}let M=!1;function U(I){M||(M=!0,S(),!y&&(o!==null?(I||(m=2),clearTimeout(o),T(0)):I||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,U(!0)},n),U}function N4(i){i(!1)}function O4(i){return i!==void 0}function k4(i){return typeof i=="function"}function j4(i){return typeof i=="object"&&!Array.isArray(i)}function Vd(i){return typeof i=="string"||i instanceof String}function aE(i){return qg()&&i instanceof Blob}function qg(){return typeof Blob<"u"}function oE(i,e,n,s){if(s<e)throw Vm(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw Vm(`Invalid value for '${i}'. Expected ${n} or less.`)}function zu(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function f1(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var da;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(da||(da={}));function p1(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class M4{constructor(e,n,s,o,u,h,m,g,y,b,T,S=!0,R=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=T,this.retry=S,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,U)=>{this.resolve_=M,this.reject_=U,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new xh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===da.NO_ERROR,g=u.getStatus();if(!m||p1(g,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===da.ABORT;s(!1,new xh(!1,null,b));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new xh(y,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());O4(g)?u(g):u()}catch(g){h(g)}else if(m!==null){const g=Bg();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(o.canceled){const g=this.appDelete_?d1():c1();h(g)}else{const g=u1();h(g)}};this.canceled_?n(!1,new xh(!1,null,!0)):this.backoffId_=D4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&N4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function V4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function L4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function P4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function U4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function z4(i,e,n,s,o,u,h=!0,m=!1){const g=f1(i.urlParams),y=i.url+g,b=Object.assign({},i.headers);return P4(b,e),V4(b,n),L4(b,u),U4(b,s),new M4(y,i.method,b,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function B4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function q4(...i){const e=B4();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(qg())return new Blob(i);throw new mt(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function H4(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}function F4(i){if(typeof atob>"u")throw R4("base-64");return atob(i)}const zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rm{constructor(e,n){this.data=e,this.contentType=n||null}}function G4(i,e){switch(i){case zi.RAW:return new rm(m1(e));case zi.BASE64:case zi.BASE64URL:return new rm(g1(i,e));case zi.DATA_URL:return new rm(W4(e),Y4(e))}throw Bg()}function m1(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function K4(i){let e;try{e=decodeURIComponent(i)}catch{throw fu(zi.DATA_URL,"Malformed data URL.")}return m1(e)}function g1(i,e){switch(i){case zi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw fu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case zi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw fu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=F4(e)}catch(o){throw o.message.includes("polyfill")?o:fu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class y1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw fu(zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=Q4(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function W4(i){const e=new y1(i);return e.base64?g1(zi.BASE64,e.rest):K4(e.rest)}function Y4(i){return new y1(i).contentType}function Q4(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class ps{constructor(e,n){let s=0,o="";aE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(aE(this.data_)){const s=this.data_,o=H4(s,e,n);return o===null?null:new ps(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ps(s,!0)}}static getBlob(...e){if(qg()){const n=e.map(s=>s instanceof ps?s.data_:s);return new ps(q4.apply(null,n))}else{const n=e.map(h=>Vd(h)?G4(zi.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new ps(o,!0)}}uploadData(){return this.data_}}function _1(i){let e;try{e=JSON.parse(i)}catch{return null}return j4(e)?e:null}function $4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function X4(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function v1(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function J4(i,e){return e}class hn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||J4}}let Ah=null;function Z4(i){return!Vd(i)||i.length<2?i:v1(i)}function b1(){if(Ah)return Ah;const i=[];i.push(new hn("bucket")),i.push(new hn("generation")),i.push(new hn("metageneration")),i.push(new hn("name","fullPath",!0));function e(u,h){return Z4(h)}const n=new hn("name");n.xform=e,i.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new hn("size");return o.xform=s,i.push(o),i.push(new hn("timeCreated")),i.push(new hn("updated")),i.push(new hn("md5Hash",null,!0)),i.push(new hn("cacheControl",null,!0)),i.push(new hn("contentDisposition",null,!0)),i.push(new hn("contentEncoding",null,!0)),i.push(new hn("contentLanguage",null,!0)),i.push(new hn("contentType",null,!0)),i.push(new hn("metadata","customMetadata",!0)),Ah=i,Ah}function e6(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Mn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function t6(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return e6(s,i),s}function E1(i,e,n){const s=_1(e);return s===null?null:t6(i,s,n)}function n6(i,e,n,s){const o=_1(e);if(o===null||!Vd(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(y=>{const b=i.bucket,T=i.fullPath,S="/b/"+h(b)+"/o/"+h(T),R=zu(S,n,s),M=f1({alt:"media",token:y});return R+M})[0]}function T1(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class Go{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Tr(i){if(!i)throw Bg()}function Hg(i,e){function n(s,o){const u=E1(i,o,e);return Tr(u!==null),u}return n}function i6(i,e){function n(s,o){const u=E1(i,o,e);return Tr(u!==null),n6(u,o,i.host,i._protocol)}return n}function Bu(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=b4():o=v4():n.getStatus()===402?o=_4(i.bucket):n.getStatus()===403?o=E4(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function S1(i){const e=Bu(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=y4(i.path)),u.serverResponse=o.serverResponse,u}return n}function r6(i,e,n){const s=e.fullServerUrl(),o=zu(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new Go(o,u,Hg(i,n),h);return m.errorHandler=S1(e),m}function s6(i,e,n){const s=e.fullServerUrl(),o=zu(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new Go(o,u,i6(i,n),h);return m.errorHandler=S1(e),m}function a6(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function x1(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=a6(null,e)),s}function o6(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let K="";for(let ie=0;ie<2;ie++)K=K+Math.random().toString().slice(2);return K}const g=m();h["Content-Type"]="multipart/related; boundary="+g;const y=x1(e,s,o),b=T1(y,n),T="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,S=`\r
--`+g+"--",R=ps.getBlob(T,s,S);if(R===null)throw h1();const M={name:y.fullPath},U=zu(u,i.host,i._protocol),I="POST",Q=i.maxUploadRetryTime,ee=new Go(U,I,Hg(i,n),Q);return ee.urlParams=M,ee.headers=h,ee.body=R.uploadData(),ee.errorHandler=Bu(e),ee}class od{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function Fg(i,e){let n=null;try{n=i.getResponseHeader("X-Goog-Upload-Status")}catch{Tr(!1)}return Tr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function l6(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h=x1(e,s,o),m={name:h.fullPath},g=zu(u,i.host,i._protocol),y="POST",b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},T=T1(h,n),S=i.maxUploadRetryTime;function R(U){Fg(U);let I;try{I=U.getResponseHeader("X-Goog-Upload-URL")}catch{Tr(!1)}return Tr(Vd(I)),I}const M=new Go(g,y,R,S);return M.urlParams=m,M.headers=b,M.body=T,M.errorHandler=Bu(e),M}function u6(i,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(y){const b=Fg(y,["active","final"]);let T=null;try{T=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Tr(!1)}T||Tr(!1);const S=Number(T);return Tr(!isNaN(S)),new od(S,s.size(),b==="final")}const h="POST",m=i.maxUploadRetryTime,g=new Go(n,h,u,m);return g.headers=o,g.errorHandler=Bu(e),g}const lE=256*1024;function c6(i,e,n,s,o,u,h,m){const g=new od(0,0);if(h?(g.current=h.current,g.total=h.total):(g.current=0,g.total=s.size()),s.size()!==g.total)throw A4();const y=g.total-g.current;let b=y;o>0&&(b=Math.min(b,o));const T=g.current,S=T+b;let R="";b===0?R="finalize":y===b?R="upload, finalize":R="upload";const M={"X-Goog-Upload-Command":R,"X-Goog-Upload-Offset":`${g.current}`},U=s.slice(T,S);if(U===null)throw h1();function I(ie,le){const ae=Fg(ie,["active","final"]),D=g.current+b,A=s.size();let C;return ae==="final"?C=Hg(e,u)(ie,le):C=null,new od(D,A,ae==="final",C)}const Q="POST",ee=e.maxUploadRetryTime,K=new Go(n,Q,I,ee);return K.headers=M,K.body=U.uploadData(),K.progressCallback=m||null,K.errorHandler=Bu(i),K}const bn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sm(i){switch(i){case"running":case"pausing":case"canceling":return bn.RUNNING;case"paused":return bn.PAUSED;case"success":return bn.SUCCESS;case"canceled":return bn.CANCELED;case"error":return bn.ERROR;default:return bn.ERROR}}class h6{constructor(e,n,s){if(k4(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function yo(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class d6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=da.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=da.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=da.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw eu("cannot .send() more than once");if(Rs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw eu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw eu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw eu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw eu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class f6 extends d6{initXhr(){this.xhr_.responseType="text"}}function So(){return new f6}class p6{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=b1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(lt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(p1(o.status,[]))if(u)o=u1();else{this.sleepTime=Math.max(this.sleepTime*2,g4),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(lt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=l6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,So,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=u6(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,So,n,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=lE*this._chunkMultiplier,n=new od(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=c6(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(g){this._error=g,this._transition("error");return}const m=this._ref.storage._makeRequest(h,So,o,u,!1);this._request=m,m.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){lE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=r6(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,So,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=o6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,So,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=c1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=sm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new h6(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(sm(this._state)){case bn.SUCCESS:yo(this._resolve.bind(null,this.snapshot))();break;case bn.CANCELED:case bn.ERROR:const n=this._reject;yo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(sm(this._state)){case bn.RUNNING:case bn.PAUSED:e.next&&yo(e.next.bind(e,this.snapshot))();break;case bn.SUCCESS:e.complete&&yo(e.complete.bind(e))();break;case bn.CANCELED:case bn.ERROR:e.error&&yo(e.error.bind(e,this._error))();break;default:e.error&&yo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class ba{constructor(e,n){this._service=e,n instanceof Mn?this._location=n:this._location=Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ba(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return v1(this._location.path)}get storage(){return this._service}get parent(){const e=$4(this._location.path);if(e===null)return null;const n=new Mn(this._location.bucket,e);return new ba(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw C4(e)}}function m6(i,e,n){return i._throwIfRoot("uploadBytesResumable"),new p6(i,new ps(e),n)}function g6(i){i._throwIfRoot("getDownloadURL");const e=s6(i.storage,i._location,b1());return i.storage.makeRequestWithTokens(e,So).then(n=>{if(n===null)throw w4();return n})}function y6(i,e){const n=X4(i._location.path,e),s=new Mn(i._location.bucket,n);return new ba(i.storage,s)}function _6(i){return/^[A-Za-z]+:\/\//.test(i)}function v6(i,e){return new ba(i,e)}function A1(i,e){if(i instanceof Gg){const n=i;if(n._bucket==null)throw x4();const s=new ba(n,n._bucket);return e!=null?A1(s,e):s}else return e!==void 0?y6(i,e):i}function b6(i,e){if(e&&_6(e)){if(i instanceof Gg)return v6(i,e);throw Vm("To use ref(service, url), the first argument must be a Storage instance.")}else return A1(i,e)}function uE(i,e){const n=e?.[l1];return n==null?null:Mn.makeFromBucketSpec(n,i)}function E6(i,e,n,s={}){i.host=`${e}:${n}`;const o=Rs(e);o&&(Gm(`https://${i.host}/b`),Km("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:HE(u,i.app.options.projectId))}class Gg{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=o1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=p4,this._maxUploadRetryTime=m4,this._requests=new Set,o!=null?this._bucket=Mn.makeFromBucketSpec(o,this._host):this._bucket=uE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=uE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ba(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new I4(d1());{const h=z4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const cE="@firebase/storage",hE="0.14.0";const w1="storage";function R1(i,e,n){return i=ft(i),m6(i,e,n)}function C1(i){return i=ft(i),g6(i)}function I1(i,e){return i=ft(i),b6(i,e)}function T6(i=Qm(),e){i=ft(i);const s=fd(i,w1).getImmediate({identifier:e}),o=zE("storage");return o&&S6(s,...o),s}function S6(i,e,n,s={}){E6(i,e,n,s)}function x6(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Gg(n,s,o,e,Ea)}function A6(){pa(new bs(w1,x6,"PUBLIC").setMultipleInstances(!0)),qi(cE,hE,""),qi(cE,hE,"esm2020")}A6();const w6={apiKey:"AIzaSyCRxmUBh2v-WmrJBQm5cAlOAhyqFx6tx2Q",authDomain:"clinic-app-ec730.firebaseapp.com",projectId:"clinic-app-ec730",storageBucket:"clinic-app-ec730.firebasestorage.app",messagingSenderId:"199786317885",appId:"1:199786317885:web:c2d3106ac24acdbae1c254"},Kg=KE(w6),ld=W2(Kg),je=ZO(Kg),D1=T6(Kg),N1=k.createContext();function R6({children:i}){const[e,n]=k.useState(null),[s,o]=k.useState(null),[u,h]=k.useState(!0);return k.useEffect(()=>{let m=null;const g=MI(ld,async y=>{m&&(m(),m=null),y?(n(y),m=f4(Sn(je,"users",y.uid),b=>{if(b.exists()){const T=b.data().role;o(T)}else o(null);h(!1)},b=>{console.error("Role fetch error:",b),o(null),h(!1)})):(n(null),o(null),h(!1))});return()=>{g(),m&&m()}},[]),p.jsx(N1.Provider,{value:{user:e,userRole:s,loading:u},children:!u&&i})}function Ln(){return k.useContext(N1)}const C6=[{value:"patient",label:" Patient",desc:"Book appointments & view prescriptions"},{value:"doctor",label:" Doctor",desc:"Manage appointments & prescriptions"},{value:"reception",label:" Reception",desc:"Manage all appointments & arrivals"}],I6=["General","Cardiology","Dermatology","Neurology","Orthopedics","Pediatrics","Gynecology","ENT","Ophthalmology"];function D6(){const[i,e]=k.useState("login"),[n,s]=k.useState(""),[o,u]=k.useState(""),[h,m]=k.useState(""),[g,y]=k.useState(!1),[b,T]=k.useState(!1),[S,R]=k.useState(""),[M,U]=k.useState(""),[I,Q]=k.useState(""),[ee,K]=k.useState(""),[ie,le]=k.useState("patient"),[ae,D]=k.useState(""),[A,C]=k.useState(""),[V,L]=k.useState(!1),[z,O]=k.useState(!1),[qe,He]=k.useState(!1),$=async oe=>{oe.preventDefault(),y(!0),m("");try{await DI(ld,n,o)}catch(re){const N=re.code==="auth/user-not-found"?"No account found with this email.":re.code==="auth/wrong-password"?"Incorrect password. Try again.":re.code==="auth/invalid-credential"?"Invalid email or password.":re.code==="auth/too-many-requests"?"Too many attempts. Try again later.":"Login failed. Please try again.";m(N),y(!1)}},ce=async oe=>{if(oe.preventDefault(),C(""),S.trim().length<2){C("Please enter your full name (at least 2 characters).");return}if(ie==="doctor"&&!ae){C("Please select your specialization.");return}if(I.length<6){C("Password must be at least 6 characters.");return}if(I!==ee){C("Passwords do not match.");return}L(!0);try{const N=(await II(ld,M,I)).user;await OI(N,{displayName:S.trim()}),await ad(Sn(je,"users",N.uid),{name:S.trim(),email:M,role:ie,createdAt:new Date().toISOString()}),ie==="doctor"&&await ad(Sn(je,"doctors",N.uid),{name:S.trim(),email:M,specialization:ae,bio:"",phone:"",consultationDuration:30,photoURL:"",createdAt:new Date().toISOString()}),O(!0)}catch(re){const N=re.code==="auth/email-already-in-use"?"This email is already registered. Please sign in.":re.code==="auth/invalid-email"?"Invalid email address.":re.code==="auth/weak-password"?"Password is too weak (min 6 characters).":"Signup failed. Please try again.";C(N),L(!1)}},ye=oe=>{e(oe),m(""),C(""),O(!1)};return p.jsxs("div",{className:"login-wrapper",children:[p.jsx("div",{className:"login-left",children:p.jsxs("div",{className:"login-left-content",children:[p.jsx("div",{className:"hospital-icon",children:""}),p.jsx("h1",{children:"ClinicCare"}),p.jsx("p",{children:"Smart Healthcare Management System"}),p.jsxs("div",{className:"features-list",children:[p.jsx("div",{className:"feature-item",children:" Online Appointment Booking"}),p.jsx("div",{className:"feature-item",children:" Doctor Availability Scheduling"}),p.jsx("div",{className:"feature-item",children:" Digital Prescriptions"}),p.jsx("div",{className:"feature-item",children:" Reception Management"}),p.jsx("div",{className:"feature-item",children:" Real-time Waiting Time"})]})]})}),p.jsx("div",{className:"login-right",children:p.jsxs("div",{className:"login-box",children:[p.jsxs("div",{className:"auth-tabs",children:[p.jsx("button",{className:`auth-tab ${i==="login"?"active":""}`,onClick:()=>ye("login"),children:"Sign In"}),p.jsx("button",{className:`auth-tab ${i==="signup"?"active":""}`,onClick:()=>ye("signup"),children:"Sign Up"})]}),i==="login"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"login-header",children:[p.jsx("h2",{children:"Welcome Back "}),p.jsx("p",{children:"Sign in to your ClinicCare account"})]}),h&&p.jsxs("div",{className:"error-msg",children:[" ",h]}),p.jsxs("form",{onSubmit:$,children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:" Email Address"}),p.jsx("input",{type:"email",placeholder:"you@clinic.com",value:n,onChange:oe=>s(oe.target.value),required:!0})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:" Password"}),p.jsxs("div",{className:"password-wrapper",children:[p.jsx("input",{type:b?"text":"password",placeholder:"Enter your password",value:o,onChange:oe=>u(oe.target.value),required:!0}),p.jsx("button",{type:"button",className:"toggle-password",onClick:()=>T(oe=>!oe),children:b?"":""})]})]}),p.jsx("button",{type:"submit",className:"login-btn",disabled:g,children:g?"Signing in...":"Sign In "})]}),p.jsxs("div",{className:"login-footer",children:[p.jsxs("p",{children:["Don't have an account?"," ",p.jsx("button",{className:"link-btn",onClick:()=>ye("signup"),children:"Sign Up"})]}),p.jsx("p",{style:{marginTop:"8px"},children:" Secure & HIPAA Compliant"})]})]}),i==="signup"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"login-header",children:[p.jsx("h2",{children:"Create Account "}),p.jsx("p",{children:"Join ClinicCare today"})]}),z?p.jsxs("div",{className:"success-msg",children:[p.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"10px"},children:""}),p.jsx("h3",{children:"Account Created!"}),p.jsx("p",{children:"Welcome to ClinicCare! Redirecting to your portal..."})]}):p.jsxs(p.Fragment,{children:[A&&p.jsxs("div",{className:"error-msg",children:[" ",A]}),p.jsxs("form",{onSubmit:ce,children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:" I am a..."}),p.jsx("div",{className:"role-selector",children:C6.map(oe=>p.jsxs("div",{className:`role-card ${ie===oe.value?"selected":""}`,onClick:()=>{le(oe.value),D("")},children:[p.jsx("span",{className:"role-label",children:oe.label}),p.jsx("span",{className:"role-desc",children:oe.desc})]},oe.value))})]}),ie==="doctor"&&p.jsxs("div",{className:"input-group",children:[p.jsxs("label",{children:[" Specialization ",p.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),p.jsxs("select",{value:ae,onChange:oe=>D(oe.target.value),required:!0,style:{width:"100%",padding:"11px 14px",border:`2px solid ${ae?"#2563eb":"#e2e8f0"}`,borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer",background:"#fff",boxSizing:"border-box"},children:[p.jsx("option",{value:"",children:"-- Select your specialization --"}),I6.map(oe=>p.jsx("option",{value:oe,children:oe},oe))]}),!ae&&p.jsx("p",{style:{color:"#f59e0b",fontSize:"0.8rem",margin:"4px 0 0",fontWeight:500},children:" Required for doctors"})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:" Full Name"}),p.jsx("input",{type:"text",placeholder:"Your full name",value:S,onChange:oe=>R(oe.target.value),required:!0})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:" Email Address"}),p.jsx("input",{type:"email",placeholder:"you@clinic.com",value:M,onChange:oe=>U(oe.target.value),required:!0})]}),p.jsxs("div",{className:"form-row-two",children:[p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:" Password"}),p.jsxs("div",{className:"password-wrapper",children:[p.jsx("input",{type:qe?"text":"password",placeholder:"Min 6 characters",value:I,onChange:oe=>Q(oe.target.value),required:!0}),p.jsx("button",{type:"button",className:"toggle-password",onClick:()=>He(oe=>!oe),children:qe?"":""})]})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("label",{children:" Confirm Password"}),p.jsxs("div",{className:"password-wrapper",children:[p.jsx("input",{type:qe?"text":"password",placeholder:"Repeat password",value:ee,onChange:oe=>K(oe.target.value),required:!0}),ee&&p.jsx("span",{className:"password-match-icon",children:I===ee?"":""})]})]})]}),I&&p.jsxs("div",{style:{marginTop:"-10px",marginBottom:"14px"},children:[p.jsx("div",{style:{height:"4px",borderRadius:"4px",background:"#e2e8f0",overflow:"hidden"},children:p.jsx("div",{style:{height:"100%",borderRadius:"4px",transition:"width 0.3s",width:I.length>=10?"100%":I.length>=6?"60%":"30%",background:I.length>=10?"#16a34a":I.length>=6?"#f59e0b":"#dc2626"}})}),p.jsx("p",{style:{fontSize:"0.75rem",margin:"3px 0 0",color:I.length>=10?"#16a34a":I.length>=6?"#f59e0b":"#dc2626"},children:I.length>=10?"Strong password":I.length>=6?"Moderate password":"Weak password"})]}),p.jsx("button",{type:"submit",className:"login-btn",disabled:V,children:V?"Creating Account...":"Create Account "})]}),p.jsx("div",{className:"login-footer",children:p.jsxs("p",{children:["Already have an account?"," ",p.jsx("button",{className:"link-btn",onClick:()=>ye("login"),children:"Sign In"})]})})]})]})]})})]})}function N6(){const{user:i,userRole:e}=Ln(),n=Xi(),s=async()=>{await VI(ld)},m=e==="doctor"?[{path:"/doctor/dashboard",icon:"",label:"Dashboard"},{path:"/doctor/appointments",icon:"",label:"Appointments"},{path:"/doctor/availability",icon:"",label:"Availability"},{path:"/doctor/prescriptions",icon:"",label:"Prescriptions"},{path:"/doctor/profile",icon:"",label:"Profile"}]:e==="patient"?[{path:"/patient/dashboard",icon:"",label:"Dashboard"},{path:"/patient/book",icon:"",label:"Book Appointment"},{path:"/patient/appointments",icon:"",label:"My Appointments"},{path:"/patient/prescriptions",icon:"",label:"Prescriptions"}]:e==="reception"?[{path:"/reception/dashboard",icon:"",label:"Dashboard"},{path:"/reception/appointments",icon:"",label:"All Appointments"},{path:"/reception/doctors",icon:"",label:"Doctors"}]:[{path:"/dashboard",icon:"",label:"Dashboard"},{path:"/appointments",icon:"",label:"Appointments"},{path:"/lab-reports",icon:"",label:"Lab Reports"},{path:"/inventory",icon:"",label:"Inventory"}],g=e==="doctor"?" Doctor":e==="patient"?" Patient":e==="reception"?" Reception":"Admin";return p.jsxs("div",{className:"navbar",children:[p.jsxs("div",{className:"navbar-logo",children:[p.jsx("span",{className:"logo-icon",children:""}),p.jsx("span",{className:"logo-text",children:"ClinicCare"})]}),p.jsx("nav",{className:"navbar-links",children:m.map(y=>p.jsxs(Fm,{to:y.path,className:`nav-item ${n.pathname===y.path?"active":""}`,children:[p.jsx("span",{className:"nav-icon",children:y.icon}),p.jsx("span",{className:"nav-label",children:y.label})]},y.path))}),p.jsxs("div",{className:"navbar-bottom",children:[p.jsxs("div",{className:"user-info",children:[p.jsx("div",{className:"user-avatar",children:""}),p.jsxs("div",{className:"user-details",children:[p.jsx("p",{className:"user-email",children:i?.email}),p.jsx("p",{className:"user-role",children:g})]})]}),p.jsx("button",{className:"logout-btn",onClick:s,children:" Logout"})]})]})}function O6(){const[i,e]=k.useState(0),[n,s]=k.useState(0),[o,u]=k.useState(0),[h,m]=k.useState(0),[g,y]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const S=await At(ht(je,"appointments")),R=await At(ht(je,"labReports")),M=await At(ht(je,"inventory"));e(S.size),s(R.size),u(M.size);const U=new Date;let I=0;M.forEach(Q=>{new Date(Q.data().expiryDate)<U&&I++}),m(I)}catch(S){console.error(S)}y(!1)})()},[]);const b=[{icon:"",label:"Total Appointments",value:i,color:"#2563eb",bg:"#eff6ff"},{icon:"",label:"Lab Reports",value:n,color:"#16a34a",bg:"#f0fdf4"},{icon:"",label:"Inventory Items",value:o,color:"#d97706",bg:"#fffbeb"},{icon:"",label:"Expired Items",value:h,color:"#dc2626",bg:"#fef2f2"}];return p.jsxs("div",{className:"main-content",children:[p.jsxs("div",{className:"dashboard-header",children:[p.jsxs("div",{children:[p.jsx("h1",{children:" Dashboard"}),p.jsx("p",{children:"Welcome back! Here's what's happening today."})]}),p.jsxs("div",{className:"date-badge",children:[" ",new Date().toDateString()]})]}),g?p.jsx("div",{className:"dashboard-loading",children:"Loading stats..."}):p.jsx("div",{className:"stats-grid",children:b.map((T,S)=>p.jsxs("div",{className:"stat-card",style:{borderTop:`4px solid ${T.color}`},children:[p.jsx("div",{className:"stat-icon",style:{background:T.bg},children:T.icon}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{style:{color:T.color},children:T.value}),p.jsx("p",{children:T.label})]})]},S))}),p.jsxs("div",{className:"quick-actions",children:[p.jsx("h2",{children:" Quick Actions"}),p.jsxs("div",{className:"actions-grid",children:[p.jsxs("a",{href:"/appointments",className:"action-card blue",children:[p.jsx("span",{children:""}),p.jsx("p",{children:"New Appointment"})]}),p.jsxs("a",{href:"/lab-reports",className:"action-card green",children:[p.jsx("span",{children:""}),p.jsx("p",{children:"Upload Lab Report"})]}),p.jsxs("a",{href:"/inventory",className:"action-card orange",children:[p.jsx("span",{children:""}),p.jsx("p",{children:"Add Medicine"})]})]})]}),p.jsxs("div",{className:"info-grid",children:[p.jsxs("div",{className:"info-card",children:[p.jsx("h3",{children:" About ClinicCare"}),p.jsx("p",{children:"Smart system to manage appointments, lab reports, and inventory for small clinics and labs."})]}),p.jsxs("div",{className:"info-card",children:[p.jsx("h3",{children:" Today's Summary"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[" ",i," Appointments booked"]}),p.jsxs("li",{children:[" ",n," Lab reports uploaded"]}),p.jsxs("li",{children:[" ",o," Medicine items tracked"]}),p.jsx("li",{children:h>0?` ${h} items expired!`:" No expired items"})]})]})]})]})}function k6(){const[i,e]=k.useState([]),[n,s]=k.useState(!0),[o,u]=k.useState(!1),[h,m]=k.useState(null),[g,y]=k.useState(""),[b,T]=k.useState("All"),[S,R]=k.useState({patientName:"",age:"",phone:"",doctor:"",department:"",date:"",time:"",reason:"",status:"Scheduled"}),M=["General","Cardiology","Dermatology","Neurology","Orthopedics","Pediatrics","Gynecology","ENT","Ophthalmology"],U=["Dr. Srinath","Dr. Haritha","Dr. Ramesh","Dr. Priya","Dr. Kumar","Dr. Anitha"],I=async()=>{s(!0);const C=(await At(ht(je,"appointments"))).docs.map(V=>({id:V.id,...V.data()}));C.sort((V,L)=>new Date(V.date)-new Date(L.date)),e(C),s(!1)};k.useEffect(()=>{I()},[]);const Q=async A=>{A.preventDefault(),h?await Su(Sn(je,"appointments",h),S):await zg(ht(je,"appointments"),{...S,createdAt:new Date().toISOString()}),R({patientName:"",age:"",phone:"",doctor:"",department:"",date:"",time:"",reason:"",status:"Scheduled"}),u(!1),m(null),I()},ee=A=>{R(A),m(A.id),u(!0),window.scrollTo({top:0,behavior:"smooth"})},K=async A=>{window.confirm("Delete this appointment?")&&(await d4(Sn(je,"appointments",A)),I())},ie=async(A,C)=>{await Su(Sn(je,"appointments",A),{status:C}),I()},le=i.filter(A=>{const C=A.patientName?.toLowerCase().includes(g.toLowerCase())||A.doctor?.toLowerCase().includes(g.toLowerCase())||A.phone?.includes(g),V=b==="All"||A.status===b;return C&&V}),ae={All:i.length,Scheduled:i.filter(A=>A.status==="Scheduled").length,Completed:i.filter(A=>A.status==="Completed").length,Cancelled:i.filter(A=>A.status==="Cancelled").length},D={Scheduled:"badge-blue",Completed:"badge-green",Cancelled:"badge-red"};return p.jsxs("div",{className:"main-content",children:[p.jsxs("div",{className:"page-header",children:[p.jsxs("div",{children:[p.jsx("h1",{children:" Appointments"}),p.jsx("p",{children:"Manage all patient appointments"})]}),p.jsx("button",{className:"btn-add",onClick:()=>{u(!o),m(null),R({patientName:"",age:"",phone:"",doctor:"",department:"",date:"",time:"",reason:"",status:"Scheduled"})},children:o?" Close":"+ New Appointment"})]}),o&&p.jsxs("div",{className:"appt-form-card",children:[p.jsx("h2",{children:h?" Edit Appointment":" New Appointment"}),p.jsxs("form",{onSubmit:Q,className:"appt-form",children:[p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Patient Name"}),p.jsx("input",{type:"text",placeholder:"Full name",value:S.patientName,onChange:A=>R({...S,patientName:A.target.value}),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Age"}),p.jsx("input",{type:"number",placeholder:"Age",value:S.age,onChange:A=>R({...S,age:A.target.value}),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Phone"}),p.jsx("input",{type:"tel",placeholder:"Phone number",value:S.phone,onChange:A=>R({...S,phone:A.target.value}),required:!0})]})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Department"}),p.jsxs("select",{value:S.department,onChange:A=>R({...S,department:A.target.value}),required:!0,children:[p.jsx("option",{value:"",children:"Select Department"}),M.map(A=>p.jsx("option",{value:A,children:A},A))]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Doctor"}),p.jsxs("select",{value:S.doctor,onChange:A=>R({...S,doctor:A.target.value}),required:!0,children:[p.jsx("option",{value:"",children:"Select Doctor"}),U.map(A=>p.jsx("option",{value:A,children:A},A))]})]})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Date"}),p.jsx("input",{type:"date",value:S.date,onChange:A=>R({...S,date:A.target.value}),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Time"}),p.jsx("input",{type:"time",value:S.time,onChange:A=>R({...S,time:A.target.value}),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Status"}),p.jsxs("select",{value:S.status,onChange:A=>R({...S,status:A.target.value}),children:[p.jsx("option",{value:"Scheduled",children:"Scheduled"}),p.jsx("option",{value:"Completed",children:"Completed"}),p.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),p.jsxs("div",{className:"form-group full-width",children:[p.jsx("label",{children:" Reason for Visit"}),p.jsx("input",{type:"text",placeholder:"Reason for visit",value:S.reason,onChange:A=>R({...S,reason:A.target.value}),required:!0})]}),p.jsx("button",{type:"submit",className:"btn-submit",children:h?" Update Appointment":" Book Appointment"})]})]}),p.jsx("div",{className:"appt-stats",children:Object.entries(ae).map(([A,C])=>p.jsxs("div",{className:`appt-stat-card ${b===A?"active-stat":""}`,onClick:()=>T(A),children:[p.jsx("h3",{children:C}),p.jsx("p",{children:A})]},A))}),p.jsx("div",{className:"search-bar",children:p.jsx("input",{type:"text",placeholder:" Search by patient name, doctor, phone...",value:g,onChange:A=>y(A.target.value)})}),p.jsx("div",{className:"appt-table-card",children:n?p.jsx("div",{className:"table-loading",children:"Loading appointments..."}):le.length===0?p.jsxs("div",{className:"table-empty",children:[p.jsx("p",{children:" No appointments found!"}),p.jsx("p",{children:'Click "+ New Appointment" to add one.'})]}):p.jsxs("table",{className:"appt-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"#"}),p.jsx("th",{children:" Patient"}),p.jsx("th",{children:" Doctor"}),p.jsx("th",{children:" Department"}),p.jsx("th",{children:" Date & Time"}),p.jsx("th",{children:" Reason"}),p.jsx("th",{children:"Status"}),p.jsx("th",{children:"Actions"})]})}),p.jsx("tbody",{children:le.map((A,C)=>p.jsxs("tr",{children:[p.jsx("td",{children:C+1}),p.jsx("td",{children:p.jsxs("div",{className:"patient-info",children:[p.jsx("strong",{children:A.patientName}),p.jsxs("span",{children:["Age: ",A.age," |  ",A.phone]})]})}),p.jsx("td",{children:A.doctor}),p.jsx("td",{children:A.department}),p.jsx("td",{children:p.jsxs("div",{className:"date-time",children:[p.jsx("strong",{children:A.date}),p.jsxs("span",{children:[" ",A.time]})]})}),p.jsx("td",{children:A.reason}),p.jsx("td",{children:p.jsxs("select",{className:`status-select ${D[A.status]}`,value:A.status,onChange:V=>ie(A.id,V.target.value),children:[p.jsx("option",{value:"Scheduled",children:"Scheduled"}),p.jsx("option",{value:"Completed",children:"Completed"}),p.jsx("option",{value:"Cancelled",children:"Cancelled"})]})}),p.jsx("td",{children:p.jsxs("div",{className:"action-btns",children:[p.jsx("button",{className:"btn-edit",onClick:()=>ee(A),children:""}),p.jsx("button",{className:"btn-delete",onClick:()=>K(A.id),children:""})]})})]},A.id))})]})})]})}function j6(){return p.jsx("div",{className:"main-content",children:p.jsx("h1",{children:" Lab Reports"})})}function M6(){return p.jsx("div",{className:"main-content",children:p.jsx("h1",{children:" Inventory"})})}function V6(){const{user:i}=Ln(),[e,n]=k.useState({today:0,week:0,total:0}),[s,o]=k.useState([]),[u,h]=k.useState(!0);k.useEffect(()=>{(async()=>{const y=new Date().toISOString().split("T")[0],T=(await At(Qi(ht(je,"appointments"),fi("doctorId","==",i.uid)))).docs.map(R=>({id:R.id,...R.data()})),S=T.filter(R=>R.date===y);o(S),n({today:S.length,total:T.length}),h(!1)})()},[i]);const m={Scheduled:"#2563eb",Completed:"#16a34a",Cancelled:"#dc2626",Arrived:"#d97706",Waiting:"#7c3aed"};return p.jsxs("div",{style:{padding:"2rem",maxWidth:"1100px",margin:"0 auto"},children:[p.jsx("h1",{children:" Doctor Dashboard"}),p.jsxs("p",{style:{color:"#64748b"},children:[" ",new Date().toDateString()]}),u?p.jsx("p",{children:"Loading..."}):p.jsxs(p.Fragment,{children:[p.jsx("div",{style:{display:"flex",gap:"1.5rem",marginBottom:"2rem",flexWrap:"wrap"},children:[{label:"Today's Appointments",value:e.today,color:"#2563eb"},{label:"Total Appointments",value:e.total,color:"#16a34a"}].map((g,y)=>p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px #0001",borderTop:`4px solid ${g.color}`,minWidth:"200px"},children:[p.jsx("h2",{style:{color:g.color,margin:0},children:g.value}),p.jsx("p",{style:{margin:"4px 0 0",color:"#64748b"},children:g.label})]},y))}),p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px #0001"},children:[p.jsx("h2",{children:" Today's Appointments"}),s.length===0?p.jsx("p",{style:{color:"#94a3b8"},children:"No appointments today."}):p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[p.jsx("thead",{children:p.jsx("tr",{style:{background:"#f8fafc"},children:["#","Patient","Time","Reason","Status"].map(g=>p.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"1px solid #e2e8f0"},children:g},g))})}),p.jsx("tbody",{children:s.map((g,y)=>p.jsxs("tr",{children:[p.jsx("td",{style:{padding:"10px",borderBottom:"1px solid #f1f5f9"},children:y+1}),p.jsx("td",{style:{padding:"10px",borderBottom:"1px solid #f1f5f9"},children:p.jsx("strong",{children:g.patientName})}),p.jsx("td",{style:{padding:"10px",borderBottom:"1px solid #f1f5f9"},children:g.timeSlot}),p.jsx("td",{style:{padding:"10px",borderBottom:"1px solid #f1f5f9"},children:g.reason}),p.jsx("td",{style:{padding:"10px",borderBottom:"1px solid #f1f5f9"},children:p.jsx("span",{style:{background:m[g.status]+"22",color:m[g.status],padding:"3px 10px",borderRadius:"20px",fontSize:"0.85rem",fontWeight:600},children:g.status})})]},g.id))})]})]})]})]})}const L6=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],dE={Monday:{start:"09:00",end:"17:00"},Tuesday:{start:"09:00",end:"17:00"},Wednesday:{start:"09:00",end:"17:00"},Thursday:{start:"09:00",end:"17:00"},Friday:{start:"09:00",end:"17:00"}};function P6(){const{user:i}=Ln(),[e,n]=k.useState(dE),[s,o]=k.useState([]),[u,h]=k.useState(""),[m,g]=k.useState(!1),[y,b]=k.useState(!1),[T,S]=k.useState(!0);k.useEffect(()=>{(async()=>{const ie=await s1(Sn(je,"doctorAvailability",i.uid));ie.exists()&&(n(ie.data().workingDays||dE),o(ie.data().offDates||[])),S(!1)})()},[i]);const R=K=>{n(ie=>{if(ie[K]){const le={...ie};return delete le[K],le}return{...ie,[K]:{start:"09:00",end:"17:00"}}})},M=(K,ie,le)=>{n(ae=>({...ae,[K]:{...ae[K],[ie]:le}}))},U=()=>{u&&!s.includes(u)&&(o(K=>[...K,u].sort()),h(""))},I=K=>o(ie=>ie.filter(le=>le!==K)),Q=async()=>{g(!0),await ad(Sn(je,"doctorAvailability",i.uid),{workingDays:e,offDates:s,updatedAt:new Date().toISOString()}),g(!1),b(!0),setTimeout(()=>b(!1),2500)},ee=K=>{const ie=e[K];if(!ie)return 0;const[le,ae]=ie.start.split(":").map(Number),[D,A]=ie.end.split(":").map(Number);return Math.floor((D*60+A-(le*60+ae))/30)};return T?p.jsx("div",{style:{padding:"2rem",color:"#94a3b8",textAlign:"center"},children:"Loading availability..."}):p.jsxs("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[p.jsx("h1",{style:{margin:"0 0 4px"},children:" Manage Availability"}),p.jsx("p",{style:{color:"#64748b",margin:"0 0 1.5rem"},children:"Set your working hours so patients can book appointments with you."}),p.jsx("div",{style:{background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"10px",padding:"12px 16px",marginBottom:"1.5rem",fontSize:"0.9rem",color:"#1e40af"},children:" Patients can book appointments even without a schedule set  default hours (9 AM5 PM, MonFri) will be used. Set your custom schedule to override."}),p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.07)",marginBottom:"1.5rem"},children:[p.jsx("h2",{style:{margin:"0 0 1rem",fontSize:"1rem",color:"#374151"},children:" Working Days & Hours"}),L6.map(K=>{const ie=!!e[K],le=ee(K);return p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"10px",flexWrap:"wrap",padding:"10px 14px",borderRadius:"8px",background:ie?"#f0fdf4":"#f8fafc",border:`1px solid ${ie?"#86efac":"#e2e8f0"}`,transition:"all 0.2s"},children:[p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",minWidth:"130px",cursor:"pointer",userSelect:"none"},children:[p.jsx("input",{type:"checkbox",checked:ie,onChange:()=>R(K),style:{width:"16px",height:"16px",cursor:"pointer",accentColor:"#2563eb"}}),p.jsx("span",{style:{fontWeight:ie?700:400,color:ie?"#15803d":"#94a3b8",fontSize:"0.95rem"},children:K})]}),ie?p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("span",{style:{color:"#64748b",fontSize:"0.85rem"},children:"From"}),p.jsx("input",{type:"time",value:e[K].start,onChange:ae=>M(K,"start",ae.target.value),style:{padding:"6px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.9rem"}}),p.jsx("span",{style:{color:"#64748b",fontSize:"0.85rem"},children:"To"}),p.jsx("input",{type:"time",value:e[K].end,onChange:ae=>M(K,"end",ae.target.value),style:{padding:"6px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.9rem"}})]}),p.jsxs("span",{style:{background:"#dcfce7",color:"#16a34a",padding:"3px 10px",borderRadius:"12px",fontSize:"0.78rem",fontWeight:600,marginLeft:"auto"},children:["~",le," slots/day"]})]}):p.jsx("span",{style:{color:"#cbd5e1",fontSize:"0.85rem",fontStyle:"italic"},children:"Day off"})]},K)})]}),p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.07)",marginBottom:"1.5rem"},children:[p.jsx("h2",{style:{margin:"0 0 1rem",fontSize:"1rem",color:"#374151"},children:" Leave / Off Dates"}),p.jsx("p",{style:{color:"#64748b",fontSize:"0.85rem",margin:"0 0 12px"},children:"Add specific dates when you will NOT be available (holidays, leave, etc.)"}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"1rem",flexWrap:"wrap"},children:[p.jsx("input",{type:"date",value:u,min:new Date().toISOString().split("T")[0],onChange:K=>h(K.target.value),style:{padding:"9px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",flex:1,minWidth:"160px",fontSize:"0.95rem"}}),p.jsx("button",{onClick:U,disabled:!u,style:{background:u?"#dc2626":"#e2e8f0",color:u?"#fff":"#94a3b8",border:"none",borderRadius:"8px",padding:"9px 20px",cursor:u?"pointer":"not-allowed",fontWeight:600,transition:"all 0.2s"},children:"+ Add Off Date"})]}),s.length===0?p.jsx("p",{style:{color:"#94a3b8",fontSize:"0.85rem",fontStyle:"italic"},children:"No off dates added."}):p.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:s.map(K=>p.jsxs("span",{style:{background:"#fee2e2",color:"#dc2626",padding:"5px 12px",borderRadius:"20px",fontSize:"0.85rem",display:"flex",alignItems:"center",gap:"6px",fontWeight:600},children:[K,p.jsx("button",{onClick:()=>I(K),style:{background:"none",border:"none",cursor:"pointer",color:"#dc2626",fontSize:"1rem",padding:"0",lineHeight:1,fontWeight:700},children:""})]},K))})]}),p.jsx("button",{onClick:Q,disabled:m,style:{background:y?"#16a34a":"#2563eb",color:"#fff",border:"none",borderRadius:"8px",padding:"13px 36px",cursor:"pointer",fontWeight:700,fontSize:"1rem",transition:"all 0.3s",boxShadow:"0 4px 12px rgba(37,99,235,0.3)"},children:m?" Saving...":y?" Saved Successfully!":" Save Availability"})]})}const fE={Scheduled:{bg:"#eff6ff",color:"#2563eb"},Completed:{bg:"#dcfce7",color:"#16a34a"},Cancelled:{bg:"#fee2e2",color:"#dc2626"},Arrived:{bg:"#fef9c3",color:"#ca8a04"},Waiting:{bg:"#f3e8ff",color:"#7c3aed"},"In Consultation":{bg:"#e0f2fe",color:"#0891b2"}};function U6(){const{user:i}=Ln(),[e,n]=k.useState([]),[s,o]=k.useState(!0),[u,h]=k.useState("All"),[m,g]=k.useState(""),y=async()=>{o(!0);const M=(await At(Qi(ht(je,"appointments"),fi("doctorId","==",i.uid)))).docs.map(U=>({id:U.id,...U.data()}));M.sort((U,I)=>U.date+U.timeSlot>I.date+I.timeSlot?1:-1),n(M),o(!1)};k.useEffect(()=>{y()},[i]);const b=async(R,M)=>{await Su(Sn(je,"appointments",R),{status:M}),y()},T={All:e.length,Scheduled:e.filter(R=>R.status==="Scheduled").length,Completed:e.filter(R=>R.status==="Completed").length,Cancelled:e.filter(R=>R.status==="Cancelled").length},S=e.filter(R=>{const M=!m||R.patientName?.toLowerCase().includes(m.toLowerCase())||R.reason?.toLowerCase().includes(m.toLowerCase()),U=u==="All"||R.status===u;return M&&U});return p.jsxs("div",{style:{padding:"2rem",maxWidth:"1100px",margin:"0 auto"},children:[p.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:p.jsxs("div",{children:[p.jsx("h1",{style:{margin:0},children:" My Appointments"}),p.jsx("p",{style:{color:"#64748b",margin:"4px 0 0"},children:"All your patient appointments"})]})}),p.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:Object.entries(T).map(([R,M])=>p.jsxs("div",{onClick:()=>h(R),style:{background:u===R?"#2563eb":"#fff",color:u===R?"#fff":"#334155",borderRadius:"10px",padding:"1rem 1.5rem",cursor:"pointer",boxShadow:"0 2px 8px #0001",transition:"all 0.2s",minWidth:"130px"},children:[p.jsx("h3",{style:{margin:0,fontSize:"1.5rem"},children:M}),p.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.85rem",opacity:.8},children:R})]},R))}),p.jsx("div",{style:{marginBottom:"1rem"},children:p.jsx("input",{placeholder:" Search by patient name or reason...",value:m,onChange:R=>g(R.target.value),style:{width:"100%",padding:"10px 14px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"1rem",boxSizing:"border-box"}})}),p.jsx("div",{style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px #0001",overflow:"auto"},children:s?p.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Loading appointments..."}):S.length===0?p.jsxs("div",{style:{padding:"3rem",textAlign:"center",color:"#94a3b8"},children:[p.jsx("div",{style:{fontSize:"3rem"},children:""}),p.jsx("p",{children:"No appointments found."})]}):p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"700px"},children:[p.jsx("thead",{children:p.jsx("tr",{style:{background:"#f8fafc"},children:["#"," Patient"," Date"," Time"," Reason"," Status"," Actions"].map(R=>p.jsx("th",{style:{padding:"12px 16px",textAlign:"left",borderBottom:"2px solid #e2e8f0",fontSize:"0.85rem",color:"#64748b",fontWeight:600},children:R},R))})}),p.jsx("tbody",{children:S.map((R,M)=>p.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9",transition:"background 0.1s"},onMouseEnter:U=>U.currentTarget.style.background="#fafafa",onMouseLeave:U=>U.currentTarget.style.background="transparent",children:[p.jsx("td",{style:{padding:"12px 16px"},children:M+1}),p.jsx("td",{style:{padding:"12px 16px"},children:p.jsx("strong",{children:R.patientName})}),p.jsx("td",{style:{padding:"12px 16px"},children:R.date}),p.jsx("td",{style:{padding:"12px 16px"},children:R.timeSlot}),p.jsx("td",{style:{padding:"12px 16px",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:R.reason}),p.jsx("td",{style:{padding:"12px 16px"},children:p.jsx("span",{style:{background:fE[R.status]?.bg||"#f1f5f9",color:fE[R.status]?.color||"#64748b",padding:"4px 12px",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600,whiteSpace:"nowrap"},children:R.status})}),p.jsx("td",{style:{padding:"12px 16px"},children:p.jsxs("select",{value:R.status,onChange:U=>b(R.id,U.target.value),style:{padding:"6px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"0.85rem",cursor:"pointer"},children:[p.jsx("option",{value:"Scheduled",children:"Scheduled"}),p.jsx("option",{value:"Completed",children:"Completed"}),p.jsx("option",{value:"Cancelled",children:"Cancelled"})]})})]},R.id))})]})})]})}function z6(){const{user:i}=Ln(),[e,n]=k.useState([]),[s,o]=k.useState([]),[u,h]=k.useState(!0),[m,g]=k.useState({appointmentId:"",patientName:"",patientId:"",notes:""}),[y,b]=k.useState(null),[T,S]=k.useState(!1),[R,M]=k.useState(0),[U,I]=k.useState(!1),[Q,ee]=k.useState(!1),K=async()=>{h(!0);const D=(await At(Qi(ht(je,"appointments"),fi("doctorId","==",i.uid)))).docs.map(V=>({id:V.id,...V.data()}));n(D);const C=(await At(Qi(ht(je,"prescriptions"),fi("doctorId","==",i.uid)))).docs.map(V=>({id:V.id,...V.data()}));C.sort((V,L)=>L.uploadedAt>V.uploadedAt?1:-1),o(C),h(!1)};k.useEffect(()=>{K()},[i]);const ie=ae=>{const D=ae.target.value,A=e.find(C=>C.id===D);A&&g({appointmentId:D,patientName:A.patientName,patientId:A.patientId,notes:""})},le=async ae=>{if(ae.preventDefault(),!(!m.appointmentId||!m.notes)){S(!0);try{let D="";if(y){const A=I1(D1,`prescriptions/${m.appointmentId}/${y.name}`),C=R1(A,y);D=await new Promise((V,L)=>{C.on("state_changed",z=>M(Math.round(z.bytesTransferred/z.totalBytes*100)),L,async()=>V(await C1(C.snapshot.ref)))})}await zg(ht(je,"prescriptions"),{appointmentId:m.appointmentId,patientId:m.patientId,patientName:m.patientName,doctorId:i.uid,doctorName:i.displayName||i.email,notes:m.notes,fileURL:D,fileName:y?.name||"",uploadedAt:new Date().toISOString()}),I(!0),g({appointmentId:"",patientName:"",patientId:"",notes:""}),b(null),M(0),ee(!1),K(),setTimeout(()=>I(!1),3e3)}catch(D){console.error(D)}S(!1)}};return p.jsxs("div",{style:{padding:"2rem",maxWidth:"1000px",margin:"0 auto"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[p.jsxs("div",{children:[p.jsx("h1",{style:{margin:0},children:" Prescriptions"}),p.jsx("p",{style:{color:"#64748b",margin:"4px 0 0"},children:"Upload and manage patient prescriptions"})]}),p.jsx("button",{onClick:()=>ee(!Q),style:{background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",padding:"10px 20px",cursor:"pointer",fontWeight:600},children:Q?" Close":"+ New Prescription"})]}),U&&p.jsx("div",{style:{background:"#dcfce7",color:"#16a34a",padding:"12px 20px",borderRadius:"8px",marginBottom:"1rem",fontWeight:600},children:" Prescription uploaded successfully!"}),Q&&p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px #0001",marginBottom:"2rem"},children:[p.jsx("h2",{style:{marginTop:0},children:" Upload Prescription"}),p.jsxs("form",{onSubmit:le,children:[p.jsxs("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"1fr 1fr",marginBottom:"1rem"},children:[p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontWeight:600,marginBottom:"6px",color:"#374151"},children:" Select Patient Appointment"}),p.jsxs("select",{value:m.appointmentId,onChange:ie,required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"0.95rem"},children:[p.jsx("option",{value:"",children:"-- Select Appointment --"}),e.map(ae=>p.jsxs("option",{value:ae.id,children:[ae.patientName,"  ",ae.date," ",ae.timeSlot]},ae.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontWeight:600,marginBottom:"6px",color:"#374151"},children:" Upload File (PDF/Image)"}),p.jsx("input",{type:"file",accept:".pdf,image/*",onChange:ae=>b(ae.target.files[0]),style:{width:"100%",padding:"8px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"0.9rem",boxSizing:"border-box"}})]})]}),p.jsxs("div",{style:{marginBottom:"1rem"},children:[p.jsx("label",{style:{display:"block",fontWeight:600,marginBottom:"6px",color:"#374151"},children:" Prescription Notes"}),p.jsx("textarea",{value:m.notes,onChange:ae=>g({...m,notes:ae.target.value}),placeholder:"Write prescription details, medicines, dosage...",required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",minHeight:"100px",resize:"vertical",fontSize:"0.95rem",boxSizing:"border-box"}})]}),T&&p.jsxs("div",{style:{marginBottom:"1rem"},children:[p.jsx("div",{style:{background:"#e2e8f0",borderRadius:"20px",height:"8px",overflow:"hidden"},children:p.jsx("div",{style:{background:"#2563eb",height:"100%",width:`${R}%`,transition:"width 0.3s"}})}),p.jsxs("p",{style:{color:"#64748b",fontSize:"0.85rem",margin:"4px 0 0"},children:["Uploading... ",R,"%"]})]}),p.jsx("button",{type:"submit",disabled:T,style:{background:"#16a34a",color:"#fff",border:"none",borderRadius:"8px",padding:"10px 28px",cursor:"pointer",fontWeight:600,fontSize:"1rem"},children:T?"Uploading...":" Upload Prescription"})]})]}),p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px #0001"},children:[p.jsx("h2",{style:{marginTop:0},children:" Uploaded Prescriptions"}),u?p.jsx("p",{style:{color:"#94a3b8"},children:"Loading..."}):s.length===0?p.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#94a3b8"},children:[p.jsx("div",{style:{fontSize:"3rem"},children:""}),p.jsx("p",{children:"No prescriptions uploaded yet."})]}):p.jsx("div",{style:{display:"grid",gap:"1rem"},children:s.map(ae=>p.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"1rem"},children:[p.jsxs("div",{style:{flex:1},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"6px"},children:[p.jsxs("strong",{style:{fontSize:"1rem"},children:[" ",ae.patientName]}),p.jsx("span",{style:{color:"#94a3b8",fontSize:"0.85rem"},children:ae.uploadedAt?.split("T")[0]})]}),p.jsx("p",{style:{margin:"0",color:"#475569",fontSize:"0.9rem",whiteSpace:"pre-wrap"},children:ae.notes})]}),ae.fileURL&&p.jsxs("a",{href:ae.fileURL,target:"_blank",rel:"noopener noreferrer",style:{background:"#eff6ff",color:"#2563eb",padding:"8px 16px",borderRadius:"8px",textDecoration:"none",fontWeight:600,fontSize:"0.85rem",whiteSpace:"nowrap"},children:[" ",ae.fileName||"Download"]})]},ae.id))})]})]})}const B6=["General","Cardiology","Dermatology","Neurology","Orthopedics","Pediatrics","Gynecology","ENT","Ophthalmology"];function q6(){const{user:i}=Ln(),[e,n]=k.useState({name:"",specialization:"",bio:"",phone:"",consultationDuration:30,photoURL:""}),[s,o]=k.useState(null),[u,h]=k.useState(!1),[m,g]=k.useState(!1),[y,b]=k.useState(!0);k.useEffect(()=>{(async()=>{const R=await s1(Sn(je,"doctors",i.uid));R.exists()&&n(R.data()),b(!1)})()},[i]);const T=async S=>{S.preventDefault(),h(!0);let R=e.photoURL;if(s){const M=I1(D1,`doctorPhotos/${i.uid}/${s.name}`),U=R1(M,s);R=await new Promise((I,Q)=>{U.on("state_changed",null,Q,async()=>I(await C1(U.snapshot.ref)))})}await ad(Sn(je,"doctors",i.uid),{...e,photoURL:R,updatedAt:new Date().toISOString()}),n(M=>({...M,photoURL:R})),h(!1),g(!0),setTimeout(()=>g(!1),2e3)};return y?p.jsx("div",{style:{padding:"2rem",color:"#94a3b8"},children:"Loading profile..."}):p.jsxs("div",{style:{padding:"2rem",maxWidth:"700px",margin:"0 auto"},children:[p.jsx("h1",{children:" Doctor Profile"}),p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"2rem",boxShadow:"0 2px 8px #0001"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",marginBottom:"2rem"},children:[p.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"#eff6ff",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",border:"3px solid #2563eb"},children:e.photoURL?p.jsx("img",{src:e.photoURL,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):p.jsx("span",{style:{fontSize:"2.5rem"},children:""})}),p.jsxs("div",{children:[p.jsx("p",{style:{margin:"0 0 6px",fontWeight:600},children:e.name||"Your Name"}),p.jsx("p",{style:{margin:"0 0 8px",color:"#64748b",fontSize:"0.9rem"},children:e.specialization||"Specialization"}),p.jsx("input",{type:"file",accept:"image/*",onChange:S=>o(S.target.files[0]),style:{fontSize:"0.85rem"}})]})]}),p.jsxs("form",{onSubmit:T,children:[p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontWeight:600,marginBottom:"6px",color:"#374151"},children:" Full Name"}),p.jsx("input",{type:"text",value:e.name,placeholder:"Dr. Your Name",onChange:S=>n({...e,name:S.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"0.95rem",boxSizing:"border-box"}})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontWeight:600,marginBottom:"6px",color:"#374151"},children:" Specialization"}),p.jsxs("select",{value:e.specialization,onChange:S=>n({...e,specialization:S.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"0.95rem"},children:[p.jsx("option",{value:"",children:"Select Specialization"}),B6.map(S=>p.jsx("option",{value:S,children:S},S))]})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontWeight:600,marginBottom:"6px",color:"#374151"},children:" Phone"}),p.jsx("input",{type:"tel",value:e.phone,placeholder:"Phone number",onChange:S=>n({...e,phone:S.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"0.95rem",boxSizing:"border-box"}})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontWeight:600,marginBottom:"6px",color:"#374151"},children:" Consultation Duration (min)"}),p.jsx("input",{type:"number",value:e.consultationDuration,min:5,max:120,step:5,onChange:S=>n({...e,consultationDuration:Number(S.target.value)}),style:{width:"100%",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"0.95rem",boxSizing:"border-box"}})]})]}),p.jsxs("div",{style:{marginBottom:"1.5rem"},children:[p.jsx("label",{style:{display:"block",fontWeight:600,marginBottom:"6px",color:"#374151"},children:" Bio / About"}),p.jsx("textarea",{value:e.bio,placeholder:"Brief description about yourself, experience, expertise...",onChange:S=>n({...e,bio:S.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",minHeight:"90px",resize:"vertical",fontSize:"0.95rem",boxSizing:"border-box"}})]}),p.jsx("button",{type:"submit",disabled:u,style:{background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",padding:"12px 32px",cursor:"pointer",fontWeight:600,fontSize:"1rem"},children:u?"Saving...":m?" Saved!":" Save Profile"})]})]})]})}const pE={Scheduled:{bg:"#eff6ff",color:"#2563eb"},Completed:{bg:"#dcfce7",color:"#16a34a"},Cancelled:{bg:"#fee2e2",color:"#dc2626"},Arrived:{bg:"#fef9c3",color:"#ca8a04"},Waiting:{bg:"#f3e8ff",color:"#7c3aed"},"In Consultation":{bg:"#e0f2fe",color:"#0891b2"}};function H6(){const{user:i}=Ln(),e=Au(),[n,s]=k.useState([]),[o,u]=k.useState([]),[h,m]=k.useState(!0);k.useEffect(()=>{(async()=>{new Date().toISOString().split("T")[0];const S=(await At(Qi(ht(je,"appointments"),fi("patientId","==",i.uid)))).docs.map(U=>({id:U.id,...U.data()}));S.sort((U,I)=>U.date+U.timeSlot>I.date+I.timeSlot?1:-1),s(S);const M=(await At(Qi(ht(je,"prescriptions"),fi("patientId","==",i.uid)))).docs.map(U=>({id:U.id,...U.data()}));M.sort((U,I)=>I.uploadedAt>U.uploadedAt?1:-1),u(M.slice(0,3)),m(!1)})()},[i]);const g=n.filter(b=>b.date>=new Date().toISOString().split("T")[0]&&b.status!=="Cancelled"&&b.status!=="Completed"),y=[{icon:"",label:"Upcoming",value:g.length,color:"#2563eb",bg:"#eff6ff"},{icon:"",label:"Completed",value:n.filter(b=>b.status==="Completed").length,color:"#16a34a",bg:"#dcfce7"},{icon:"",label:"Prescriptions",value:o.length,color:"#7c3aed",bg:"#f3e8ff"}];return p.jsxs("div",{style:{padding:"2rem",maxWidth:"1000px",margin:"0 auto"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[p.jsxs("div",{children:[p.jsxs("h1",{style:{margin:0},children:[" Welcome, ",i.displayName||i.email.split("@")[0],"!"]}),p.jsxs("p",{style:{color:"#64748b",margin:"4px 0 0"},children:[" ",new Date().toDateString()]})]}),p.jsx("button",{onClick:()=>e("/patient/book"),style:{background:"#2563eb",color:"#fff",border:"none",borderRadius:"10px",padding:"12px 24px",cursor:"pointer",fontWeight:700,fontSize:"1rem"},children:" Book Appointment"})]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:y.map((b,T)=>p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px #0001",borderTop:`4px solid ${b.color}`},children:[p.jsx("div",{style:{background:b.bg,width:"44px",height:"44px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.4rem",marginBottom:"10px"},children:b.icon}),p.jsx("h2",{style:{margin:0,color:b.color,fontSize:"1.8rem"},children:h?"...":b.value}),p.jsx("p",{style:{margin:"4px 0 0",color:"#64748b",fontSize:"0.9rem"},children:b.label})]},T))}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px #0001"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[p.jsx("h2",{style:{margin:0,fontSize:"1rem",fontWeight:700},children:" Upcoming Appointments"}),p.jsx("button",{onClick:()=>e("/patient/appointments"),style:{background:"none",border:"none",color:"#2563eb",cursor:"pointer",fontSize:"0.85rem",fontWeight:600},children:"View All "})]}),h?p.jsx("p",{style:{color:"#94a3b8"},children:"Loading..."}):g.length===0?p.jsxs("div",{style:{textAlign:"center",padding:"1.5rem",color:"#94a3b8"},children:[p.jsx("p",{children:"No upcoming appointments."}),p.jsx("button",{onClick:()=>e("/patient/book"),style:{background:"#eff6ff",color:"#2563eb",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer",fontWeight:600},children:"Book Now"})]}):p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:g.slice(0,4).map(b=>p.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"10px 14px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("div",{children:[p.jsx("p",{style:{margin:0,fontWeight:600,fontSize:"0.9rem"},children:b.doctorName}),p.jsxs("p",{style:{margin:"2px 0 0",color:"#64748b",fontSize:"0.8rem"},children:[b.date," at ",b.timeSlot]}),b.waitingTime!=null&&b.status==="Waiting"&&p.jsxs("p",{style:{margin:"2px 0 0",color:"#7c3aed",fontSize:"0.8rem",fontWeight:600},children:[" ~",b.waitingTime," min wait"]})]}),p.jsx("span",{style:{background:pE[b.status]?.bg,color:pE[b.status]?.color,padding:"3px 10px",borderRadius:"20px",fontSize:"0.75rem",fontWeight:600},children:b.status})]},b.id))})]}),p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px #0001"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[p.jsx("h2",{style:{margin:0,fontSize:"1rem",fontWeight:700},children:" Recent Prescriptions"}),p.jsx("button",{onClick:()=>e("/patient/prescriptions"),style:{background:"none",border:"none",color:"#2563eb",cursor:"pointer",fontSize:"0.85rem",fontWeight:600},children:"View All "})]}),h?p.jsx("p",{style:{color:"#94a3b8"},children:"Loading..."}):o.length===0?p.jsxs("div",{style:{textAlign:"center",padding:"1.5rem",color:"#94a3b8"},children:[p.jsx("div",{style:{fontSize:"2rem"},children:""}),p.jsx("p",{style:{fontSize:"0.9rem"},children:"No prescriptions yet."})]}):p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:o.map(b=>p.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"10px 14px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("div",{children:[p.jsxs("p",{style:{margin:0,fontWeight:600,fontSize:"0.9rem"},children:["Dr. ",b.doctorName]}),p.jsx("p",{style:{margin:"2px 0 0",color:"#64748b",fontSize:"0.8rem"},children:b.uploadedAt?.split("T")[0]})]}),b.fileURL&&p.jsx("a",{href:b.fileURL,target:"_blank",rel:"noopener noreferrer",style:{background:"#eff6ff",color:"#2563eb",padding:"4px 10px",borderRadius:"6px",textDecoration:"none",fontSize:"0.8rem",fontWeight:600},children:""})]},b.id))})]})]})]})}const F6=[{label:"General",icon:""},{label:"Cardiology",icon:""},{label:"Dermatology",icon:""},{label:"Neurology",icon:""},{label:"Orthopedics",icon:""},{label:"Pediatrics",icon:""},{label:"Gynecology",icon:""},{label:"ENT",icon:""},{label:"Ophthalmology",icon:""}],G6=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function O1(i){const[e,n,s]=i.split("-").map(Number);return G6[new Date(e,n-1,s).getDay()]}function mE(){const i=new Date;return[i.getFullYear(),String(i.getMonth()+1).padStart(2,"0"),String(i.getDate()).padStart(2,"0")].join("-")}function gE(i,e,n){const s=[],o=m=>{const[g,y]=m.split(":").map(Number);return g*60+y};let u=o(i);const h=o(e);for(;u+n<=h;){const m=Math.floor(u/60),g=u%60;s.push(`${String(m).padStart(2,"0")}:${String(g).padStart(2,"0")}`),u+=n}return s}function yE(i,e){const n=i.availability,s=Number(i.consultationDuration)||30,o=O1(e);if(!n)return{slots:gE("09:00","17:00",s),reason:"ok"};if(Array.isArray(n.offDates)&&n.offDates.includes(e))return{slots:[],reason:"off"};const u=n.workingDays&&n.workingDays[o];if(!u)return{slots:[],reason:"dayoff"};const h=u.start||"09:00",m=u.end||"17:00";return{slots:gE(h,m,s),reason:"ok"}}function K6(){const{user:i}=Ln(),[e,n]=k.useState(1),[s,o]=k.useState(""),[u,h]=k.useState([]),[m,g]=k.useState(!1),[y,b]=k.useState(null),[T,S]=k.useState(""),[R,M]=k.useState([]),[U,I]=k.useState([]),[Q,ee]=k.useState(""),[K,ie]=k.useState(!1),[le,ae]=k.useState(""),[D,A]=k.useState(""),[C,V]=k.useState(!1),[L,z]=k.useState(!1);async function O(re){g(!0),h([]);try{const N=await At(Qi(ht(je,"doctors"),fi("specialization","==",re))),X=await At(ht(je,"doctorAvailability")),he={};X.forEach(xe=>{he[xe.id]=xe.data()});const de=mE(),be=N.docs.map(xe=>{const Ne=xe.data(),gt=he[xe.id]??null,{slots:it}=yE({...Ne,availability:gt},de);return{id:xe.id,...Ne,availability:gt,availableToday:it.length>0}});h(be)}catch(N){console.error("loadDoctors:",N)}g(!1)}async function qe(re){if(S(re),ae(""),M([]),I([]),ee(""),!(!re||!y)){ie(!0);try{const{slots:N,reason:X}=yE(y,re);if(ee(X),M(N),N.length>0){const de=(await At(Qi(ht(je,"appointments"),fi("doctorId","==",y.id),fi("date","==",re)))).docs.map(be=>be.data()).filter(be=>be.status!=="Cancelled").map(be=>be.timeSlot).filter(Boolean);I(de)}}catch(N){console.error("loadSlots:",N)}ie(!1)}}async function He(){if(!(!D.trim()||C)){V(!0);try{await zg(ht(je,"appointments"),{patientId:i.uid,patientName:i.displayName||i.email,doctorId:y.id,doctorName:y.name,department:s,date:T,timeSlot:le,reason:D.trim(),status:"Scheduled",createdAt:new Date().toISOString()}),z(!0)}catch(re){console.error("confirmBooking:",re)}V(!1)}}function $(){n(1),o(""),h([]),b(null),S(""),M([]),I([]),ae(""),A(""),z(!1),ee("")}const ce=R.filter(re=>!U.includes(re)),ye=mE(),oe={page:{padding:"2rem",maxWidth:"920px",margin:"0 auto"},card:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",marginBottom:"1.25rem"},btn:re=>({background:re,color:"#fff",border:"none",borderRadius:"8px",padding:"11px 26px",cursor:"pointer",fontWeight:700,fontSize:"0.95rem"}),back:{background:"#f1f5f9",color:"#374151",border:"none",borderRadius:"8px",padding:"11px 20px",cursor:"pointer",fontWeight:600},tag:(re,N)=>({background:re,color:N,padding:"3px 10px",borderRadius:"20px",fontSize:"0.78rem",fontWeight:700}),input:{width:"100%",padding:"11px 13px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"0.95rem",outline:"none",boxSizing:"border-box"}};return L?p.jsx("div",{style:{...oe.page,maxWidth:"500px",textAlign:"center"},children:p.jsxs("div",{style:oe.card,children:[p.jsx("div",{style:{fontSize:"4rem"},children:""}),p.jsx("h2",{style:{color:"#16a34a"},children:"Appointment Booked!"}),p.jsx("div",{style:{background:"#f0fdf4",borderRadius:"10px",padding:"1rem",textAlign:"left",marginBottom:"1.5rem"},children:[["Doctor",y?.name],["Specialization",s],["Date",T],["Time",le],["Reason",D]].map(([re,N])=>p.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"5px",fontSize:"0.9rem"},children:[p.jsxs("span",{style:{color:"#64748b",minWidth:"120px"},children:[re,":"]}),p.jsx("strong",{children:N})]},re))}),p.jsx("button",{style:oe.btn("#2563eb"),onClick:$,children:"Book Another"})]})}):p.jsxs("div",{style:oe.page,children:[p.jsx("h1",{style:{margin:"0 0 4px"},children:" Book an Appointment"}),p.jsx("p",{style:{color:"#64748b",margin:"0 0 1.5rem"},children:"Follow the steps below"}),p.jsx("div",{style:{display:"flex",gap:"6px",marginBottom:"2rem"},children:["Specialization","Doctor","Time Slot","Confirm"].map((re,N)=>p.jsxs("div",{style:{flex:1,padding:"10px 4px",textAlign:"center",borderRadius:"8px",fontSize:"0.8rem",fontWeight:700,background:e===N+1?"#2563eb":e>N+1?"#dcfce7":"#f1f5f9",color:e===N+1?"#fff":e>N+1?"#16a34a":"#94a3b8"},children:[e>N+1?" ":`${N+1}. `,re]},N))}),e===1&&p.jsxs(p.Fragment,{children:[p.jsx("h2",{style:{margin:"0 0 1rem"},children:"Choose Specialization"}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(145px,1fr))",gap:"1rem"},children:F6.map(re=>p.jsxs("div",{onClick:()=>{o(re.label),O(re.label),n(2)},style:{...oe.card,marginBottom:0,textAlign:"center",cursor:"pointer",padding:"1.4rem 1rem",border:"2px solid #e2e8f0",transition:"all 0.2s"},onMouseEnter:N=>{N.currentTarget.style.borderColor="#2563eb",N.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:N=>{N.currentTarget.style.borderColor="#e2e8f0",N.currentTarget.style.transform="none"},children:[p.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:re.icon}),p.jsx("strong",{style:{fontSize:"0.9rem"},children:re.label})]},re.label))})]}),e===2&&p.jsxs(p.Fragment,{children:[p.jsxs("h2",{style:{margin:"0 0 1rem"},children:["Choose Doctor",p.jsxs("span",{style:{color:"#2563eb",fontWeight:400,fontSize:"1rem",marginLeft:"8px"},children:[" ",s]})]}),m?p.jsx("div",{style:{...oe.card,textAlign:"center",padding:"3rem",color:"#94a3b8"},children:p.jsx("p",{children:"Loading doctors..."})}):u.length===0?p.jsxs("div",{style:{...oe.card,textAlign:"center",padding:"3rem",color:"#94a3b8"},children:[p.jsx("div",{style:{fontSize:"3rem"},children:""}),p.jsxs("p",{children:["No doctors registered for ",p.jsx("strong",{children:s})," yet."]}),p.jsx("p",{style:{fontSize:"0.85rem"},children:"Please choose a different specialization."})]}):p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:u.map(re=>p.jsxs("div",{style:{...oe.card,marginBottom:0,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem",borderLeft:`4px solid ${re.availableToday?"#16a34a":"#f59e0b"}`},children:[p.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flex:1},children:[p.jsx("div",{style:{width:"54px",height:"54px",borderRadius:"50%",background:"#eff6ff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.6rem",flexShrink:0,overflow:"hidden"},children:re.photoURL?p.jsx("img",{src:re.photoURL,alt:re.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):""}),p.jsxs("div",{children:[p.jsx("h3",{style:{margin:"0 0 3px",fontSize:"1rem"},children:re.name}),p.jsxs("p",{style:{margin:"0 0 3px",color:"#64748b",fontSize:"0.85rem"},children:[re.specialization,re.consultationDuration?`   ${re.consultationDuration} min/slot`:"   30 min/slot"]}),re.bio&&p.jsx("p",{style:{margin:0,color:"#94a3b8",fontSize:"0.82rem"},children:re.bio})]})]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"8px"},children:[p.jsx("span",{style:oe.tag(re.availableToday?"#dcfce7":"#fef9c3",re.availableToday?"#16a34a":"#ca8a04"),children:re.availableToday?" Available Today":" Check Schedule"}),p.jsx("button",{style:oe.btn("#2563eb"),onClick:()=>{b(re),n(3)},children:"Select "})]})]},re.id))}),p.jsx("button",{style:{...oe.back,marginTop:"1.5rem"},onClick:()=>{n(1),h([])},children:" Back"})]}),e===3&&y&&p.jsxs(p.Fragment,{children:[p.jsx("h2",{style:{margin:"0 0 1rem"},children:"Select Date & Time"}),p.jsxs("div",{style:{...oe.card,background:"#eff6ff",border:"1px solid #bfdbfe",padding:"1rem 1.5rem",marginBottom:"1rem"},children:[p.jsxs("strong",{children:[" ",y.name]}),p.jsxs("span",{style:{marginLeft:"10px",color:"#64748b",fontSize:"0.9rem"},children:[y.specialization,"  ",y.consultationDuration||30," min per slot"]}),!y.availability&&p.jsx("span",{style:{marginLeft:"10px",...oe.tag("#dbeafe","#1d4ed8")},children:"Flexible  any date works"})]}),p.jsxs("div",{style:oe.card,children:[p.jsxs("label",{style:{display:"block",fontWeight:700,marginBottom:"8px"},children:[" Pick a Date ",p.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),p.jsx("input",{type:"date",value:T,min:ye,onChange:re=>qe(re.target.value),style:oe.input})]}),T&&p.jsxs("div",{style:oe.card,children:[K&&p.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#94a3b8"},children:p.jsx("p",{children:" Loading slots..."})}),!K&&Q==="off"&&p.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[p.jsx("div",{style:{fontSize:"2.5rem"},children:""}),p.jsx("h3",{style:{color:"#dc2626"},children:"Doctor is on leave this day"}),p.jsx("p",{style:{color:"#64748b"},children:"Please pick a different date."})]}),!K&&Q==="dayoff"&&p.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[p.jsx("div",{style:{fontSize:"2.5rem"},children:""}),p.jsx("h3",{style:{color:"#f59e0b"},children:"Not a working day"}),p.jsxs("p",{style:{color:"#64748b"},children:["Dr. ",y.name," does not work on ",p.jsxs("strong",{children:[O1(T),"s"]}),".",p.jsx("br",{}),"Please choose another date."]})]}),!K&&Q==="ok"&&R.length===0&&p.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#94a3b8"},children:p.jsx("p",{children:"No slots could be generated. Please try a different date."})}),!K&&Q==="ok"&&R.length>0&&ce.length===0&&p.jsxs("div",{style:{textAlign:"center",padding:"2rem",background:"#fef2f2",borderRadius:"8px"},children:[p.jsx("div",{style:{fontSize:"2rem"},children:""}),p.jsx("p",{style:{color:"#dc2626",fontWeight:700},children:"All slots are fully booked!"}),p.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Please try a different date."})]}),!K&&Q==="ok"&&ce.length>0&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"1.2rem",flexWrap:"wrap",alignItems:"center"},children:[p.jsx("h3",{style:{margin:0,fontSize:"1rem",flex:1},children:" Available Slots"}),p.jsxs("span",{style:oe.tag("#dcfce7","#16a34a"),children:[ce.length," free"]}),U.length>0&&p.jsxs("span",{style:oe.tag("#fee2e2","#dc2626"),children:[U.length," booked"]}),p.jsxs("span",{style:oe.tag("#f1f5f9","#64748b"),children:[R.length," total"]})]}),R.some(re=>Number(re.split(":")[0])<12)&&p.jsxs("div",{style:{marginBottom:"1rem"},children:[p.jsx("p",{style:{color:"#94a3b8",fontSize:"0.75rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px",margin:"0 0 8px"},children:" Morning"}),p.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:R.filter(re=>Number(re.split(":")[0])<12).map(re=>{const N=U.includes(re),X=le===re;return p.jsx("button",{disabled:N,onClick:()=>ae(re),style:{padding:"9px 16px",borderRadius:"8px",border:"2px solid",fontWeight:700,fontSize:"0.9rem",cursor:N?"not-allowed":"pointer",transition:"all 0.15s",borderColor:N?"#e2e8f0":X?"#2563eb":"#94a3b8",background:N?"#f8fafc":X?"#2563eb":"#fff",color:N?"#cbd5e1":X?"#fff":"#1e293b",opacity:N?.6:1,textDecoration:N?"line-through":"none"},children:re},re)})})]}),R.some(re=>Number(re.split(":")[0])>=12)&&p.jsxs("div",{children:[p.jsx("p",{style:{color:"#94a3b8",fontSize:"0.75rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px",margin:"0 0 8px"},children:" Afternoon"}),p.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:R.filter(re=>Number(re.split(":")[0])>=12).map(re=>{const N=U.includes(re),X=le===re;return p.jsx("button",{disabled:N,onClick:()=>ae(re),style:{padding:"9px 16px",borderRadius:"8px",border:"2px solid",fontWeight:700,fontSize:"0.9rem",cursor:N?"not-allowed":"pointer",transition:"all 0.15s",borderColor:N?"#e2e8f0":X?"#2563eb":"#94a3b8",background:N?"#f8fafc":X?"#2563eb":"#fff",color:N?"#cbd5e1":X?"#fff":"#1e293b",opacity:N?.6:1,textDecoration:N?"line-through":"none"},children:re},re)})})]}),le&&p.jsxs("div",{style:{marginTop:"1.2rem",background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"8px",padding:"10px 16px",display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx("span",{style:{fontSize:"1.2rem"},children:""}),p.jsxs("span",{style:{fontWeight:700,color:"#1e40af"},children:["Selected: ",le," on ",T]})]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[le&&p.jsx("button",{style:oe.btn("#2563eb"),onClick:()=>n(4),children:"Next "}),p.jsx("button",{style:oe.back,onClick:()=>{n(2),S(""),ae(""),M([]),I([]),ee("")},children:" Back"})]})]}),e===4&&p.jsxs(p.Fragment,{children:[p.jsx("h2",{style:{margin:"0 0 1rem"},children:"Confirm Appointment"}),p.jsxs("div",{style:oe.card,children:[p.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"1.5rem"},children:[[" Doctor",y?.name],[" Specialization",s],[" Date",T],[" Time Slot",le]].map(([re,N])=>p.jsxs("div",{style:{background:"#f8fafc",borderRadius:"8px",padding:"12px"},children:[p.jsx("p",{style:{margin:"0 0 3px",fontSize:"0.72rem",color:"#94a3b8",fontWeight:700,textTransform:"uppercase"},children:re}),p.jsx("p",{style:{margin:0,fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:N})]},re))}),p.jsxs("label",{style:{display:"block",fontWeight:700,marginBottom:"8px",color:"#374151"},children:[" Reason for Visit ",p.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),p.jsx("textarea",{value:D,onChange:re=>A(re.target.value),placeholder:"Describe your symptoms or reason for the visit...",rows:4,style:{...oe.input,resize:"vertical",fontFamily:"inherit",lineHeight:1.5},onFocus:re=>re.target.style.borderColor="#2563eb",onBlur:re=>re.target.style.borderColor="#e2e8f0"})]}),p.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[p.jsx("button",{onClick:He,disabled:!D.trim()||C,style:{...oe.btn(!D.trim()||C?"#94a3b8":"#16a34a"),cursor:!D.trim()||C?"not-allowed":"pointer"},children:C?" Booking...":" Confirm Booking"}),p.jsx("button",{style:oe.back,onClick:()=>n(3),children:" Back"})]})]})]})}const am={Scheduled:{bg:"#eff6ff",color:"#2563eb"},Completed:{bg:"#dcfce7",color:"#16a34a"},Cancelled:{bg:"#fee2e2",color:"#dc2626"},Arrived:{bg:"#fef9c3",color:"#ca8a04"},Waiting:{bg:"#f3e8ff",color:"#7c3aed"},"In Consultation":{bg:"#e0f2fe",color:"#0891b2"}};function W6(){const{user:i}=Ln(),e=Au(),[n,s]=k.useState([]),[o,u]=k.useState(!0),[h,m]=k.useState("All");k.useEffect(()=>{(async()=>{const T=(await At(Qi(ht(je,"appointments"),fi("patientId","==",i.uid)))).docs.map(S=>({id:S.id,...S.data()}));T.sort((S,R)=>S.date+S.timeSlot>R.date+R.timeSlot?-1:1),s(T),u(!1)})()},[i]);const g=h==="All"?n:n.filter(y=>y.status===h);return p.jsxs("div",{style:{padding:"2rem",maxWidth:"900px",margin:"0 auto"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[p.jsxs("div",{children:[p.jsx("h1",{style:{margin:0},children:" My Appointments"}),p.jsx("p",{style:{color:"#64748b",margin:"4px 0 0"},children:"Track all your appointments"})]}),p.jsx("button",{onClick:()=>e("/patient/book"),style:{background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",padding:"10px 20px",cursor:"pointer",fontWeight:600},children:" Book New"})]}),p.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"1.5rem",flexWrap:"wrap"},children:["All","Scheduled","Arrived","Waiting","In Consultation","Completed","Cancelled"].map(y=>p.jsx("button",{onClick:()=>m(y),style:{padding:"6px 16px",borderRadius:"20px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"0.85rem",background:h===y?"#2563eb":"#f1f5f9",color:h===y?"#fff":"#64748b",transition:"all 0.2s"},children:y},y))}),o?p.jsx("p",{style:{color:"#94a3b8"},children:"Loading appointments..."}):g.length===0?p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"3rem",textAlign:"center",boxShadow:"0 2px 8px #0001",color:"#94a3b8"},children:[p.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),p.jsxs("p",{children:["No ",h!=="All"?h.toLowerCase():""," appointments found."]}),p.jsx("button",{onClick:()=>e("/patient/book"),style:{background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",padding:"10px 20px",cursor:"pointer",marginTop:"1rem",fontWeight:600},children:"Book an Appointment"})]}):p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:g.map(y=>p.jsx("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.25rem 1.5rem",boxShadow:"0 2px 8px #0001",display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"1rem",borderLeft:`4px solid ${am[y.status]?.color||"#94a3b8"}`},children:p.jsxs("div",{style:{flex:1},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px",flexWrap:"wrap"},children:[p.jsxs("strong",{style:{fontSize:"1rem"},children:[" ",y.doctorName]}),p.jsx("span",{style:{background:am[y.status]?.bg,color:am[y.status]?.color,padding:"3px 10px",borderRadius:"20px",fontSize:"0.78rem",fontWeight:600},children:y.status})]}),p.jsxs("div",{style:{display:"flex",gap:"1.5rem",flexWrap:"wrap",color:"#64748b",fontSize:"0.9rem"},children:[p.jsxs("span",{children:[" ",y.department]}),p.jsxs("span",{children:[" ",y.date]}),p.jsxs("span",{children:[" ",y.timeSlot]}),p.jsxs("span",{children:[" ",y.reason]})]}),y.status==="Waiting"&&y.waitingTime!=null&&p.jsxs("div",{style:{marginTop:"10px",background:"#f3e8ff",color:"#7c3aed",padding:"8px 14px",borderRadius:"8px",fontWeight:600,fontSize:"0.9rem",display:"inline-block"},children:[" Estimated Waiting Time: ~",y.waitingTime," minutes"]}),y.status==="In Consultation"&&p.jsx("div",{style:{marginTop:"10px",background:"#e0f2fe",color:"#0891b2",padding:"8px 14px",borderRadius:"8px",fontWeight:600,fontSize:"0.9rem",display:"inline-block"},children:" You are currently in consultation"})]})},y.id))})]})}function Y6(){const{user:i}=Ln(),[e,n]=k.useState([]),[s,o]=k.useState(!0),[u,h]=k.useState("");k.useEffect(()=>{(async()=>{const b=(await At(Qi(ht(je,"prescriptions"),fi("patientId","==",i.uid)))).docs.map(T=>({id:T.id,...T.data()}));b.sort((T,S)=>S.uploadedAt>T.uploadedAt?1:-1),n(b),o(!1)})()},[i]);const m=e.filter(g=>!u||g.doctorName?.toLowerCase().includes(u.toLowerCase())||g.notes?.toLowerCase().includes(u.toLowerCase()));return p.jsxs("div",{style:{padding:"2rem",maxWidth:"900px",margin:"0 auto"},children:[p.jsx("h1",{children:" My Prescriptions"}),p.jsx("p",{style:{color:"#64748b"},children:"All prescriptions uploaded by your doctors"}),p.jsx("input",{placeholder:" Search by doctor or notes...",value:u,onChange:g=>h(g.target.value),style:{width:"100%",padding:"10px 14px",border:"1px solid #e2e8f0",borderRadius:"8px",marginBottom:"1.5rem",fontSize:"1rem",boxSizing:"border-box"}}),s?p.jsx("p",{style:{color:"#94a3b8"},children:"Loading prescriptions..."}):m.length===0?p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"3rem",textAlign:"center",boxShadow:"0 2px 8px #0001",color:"#94a3b8"},children:[p.jsx("div",{style:{fontSize:"3rem"},children:""}),p.jsx("p",{children:"No prescriptions found."})]}):p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:m.map(g=>p.jsx("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px #0001",borderLeft:"4px solid #7c3aed"},children:p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"1rem"},children:[p.jsxs("div",{style:{flex:1},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px",flexWrap:"wrap"},children:[p.jsxs("strong",{style:{fontSize:"1rem"},children:[" ",g.doctorName]}),p.jsx("span",{style:{background:"#f3e8ff",color:"#7c3aed",padding:"3px 10px",borderRadius:"20px",fontSize:"0.78rem",fontWeight:600},children:"Prescription"}),p.jsxs("span",{style:{color:"#94a3b8",fontSize:"0.85rem"},children:[" ",g.uploadedAt?.split("T")[0]]})]}),p.jsx("div",{style:{background:"#f8fafc",borderRadius:"8px",padding:"12px",borderLeft:"3px solid #e2e8f0"},children:p.jsx("p",{style:{margin:0,color:"#374151",whiteSpace:"pre-wrap",fontSize:"0.95rem",lineHeight:1.6},children:g.notes})})]}),g.fileURL&&p.jsxs("a",{href:g.fileURL,target:"_blank",rel:"noopener noreferrer",style:{background:"#eff6ff",color:"#2563eb",padding:"10px 18px",borderRadius:"8px",textDecoration:"none",fontWeight:600,fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},children:[" Download ",g.fileName?`(${g.fileName})`:"File"]})]})},g.id))})]})}function Q6(){const i=Au(),[e,n]=k.useState({total:0,scheduled:0,arrived:0,waiting:0,inConsultation:0,completed:0,cancelled:0}),[s,o]=k.useState([]),[u,h]=k.useState(!0);k.useEffect(()=>{(async()=>{const b=new Date().toISOString().split("T")[0],R=(await At(ht(je,"appointments"))).docs.map(M=>({id:M.id,...M.data()})).filter(M=>M.date===b);R.sort((M,U)=>M.timeSlot>U.timeSlot?1:-1),o(R),n({total:R.length,scheduled:R.filter(M=>M.status==="Scheduled").length,arrived:R.filter(M=>M.status==="Arrived").length,waiting:R.filter(M=>M.status==="Waiting").length,inConsultation:R.filter(M=>M.status==="In Consultation").length,completed:R.filter(M=>M.status==="Completed").length,cancelled:R.filter(M=>M.status==="Cancelled").length}),h(!1)})()},[]);const m=[{label:"Today's Total",value:e.total,color:"#2563eb",bg:"#eff6ff",icon:""},{label:"Scheduled",value:e.scheduled,color:"#2563eb",bg:"#eff6ff",icon:""},{label:"Arrived",value:e.arrived,color:"#ca8a04",bg:"#fef9c3",icon:""},{label:"Waiting",value:e.waiting,color:"#7c3aed",bg:"#f3e8ff",icon:""},{label:"In Consultation",value:e.inConsultation,color:"#0891b2",bg:"#e0f2fe",icon:""},{label:"Completed",value:e.completed,color:"#16a34a",bg:"#dcfce7",icon:""}],g={Scheduled:{bg:"#eff6ff",color:"#2563eb"},Completed:{bg:"#dcfce7",color:"#16a34a"},Cancelled:{bg:"#fee2e2",color:"#dc2626"},Arrived:{bg:"#fef9c3",color:"#ca8a04"},Waiting:{bg:"#f3e8ff",color:"#7c3aed"},"In Consultation":{bg:"#e0f2fe",color:"#0891b2"}};return p.jsxs("div",{style:{padding:"2rem",maxWidth:"1100px",margin:"0 auto"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[p.jsxs("div",{children:[p.jsx("h1",{style:{margin:0},children:" Reception Dashboard"}),p.jsxs("p",{style:{color:"#64748b",margin:"4px 0 0"},children:[" ",new Date().toDateString()]})]}),p.jsxs("div",{style:{display:"flex",gap:"10px"},children:[p.jsx("button",{onClick:()=>i("/reception/appointments"),style:{background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",padding:"10px 18px",cursor:"pointer",fontWeight:600},children:" All Appointments"}),p.jsx("button",{onClick:()=>i("/reception/doctors"),style:{background:"#f1f5f9",color:"#334155",border:"none",borderRadius:"8px",padding:"10px 18px",cursor:"pointer",fontWeight:600},children:" Doctors"})]})]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:m.map((y,b)=>p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.25rem",boxShadow:"0 2px 8px #0001",borderTop:`4px solid ${y.color}`,cursor:"default"},children:[p.jsx("div",{style:{background:y.bg,width:"40px",height:"40px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",marginBottom:"8px"},children:y.icon}),p.jsx("h2",{style:{margin:0,fontSize:"1.8rem",color:y.color},children:u?"...":y.value}),p.jsx("p",{style:{margin:"4px 0 0",color:"#64748b",fontSize:"0.85rem"},children:y.label})]},b))}),p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px #0001"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[p.jsx("h2",{style:{margin:0},children:" Today's Queue"}),p.jsx("button",{onClick:()=>i("/reception/appointments"),style:{background:"none",border:"none",color:"#2563eb",cursor:"pointer",fontWeight:600},children:"Manage All "})]}),u?p.jsx("p",{style:{color:"#94a3b8"},children:"Loading..."}):s.length===0?p.jsx("p",{style:{color:"#94a3b8",textAlign:"center",padding:"1.5rem"},children:"No appointments today."}):p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:s.map((y,b)=>p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"10px 14px",border:"1px solid #e2e8f0",borderRadius:"8px",flexWrap:"wrap"},children:[p.jsxs("span",{style:{color:"#94a3b8",fontSize:"0.85rem",minWidth:"20px"},children:["#",b+1]}),p.jsx("span",{style:{fontWeight:600,flex:1,minWidth:"100px"},children:y.patientName}),p.jsxs("span",{style:{color:"#64748b",fontSize:"0.85rem"},children:[" ",y.doctorName]}),p.jsxs("span",{style:{color:"#64748b",fontSize:"0.85rem"},children:[" ",y.timeSlot]}),y.waitingTime!=null&&p.jsxs("span",{style:{color:"#7c3aed",fontSize:"0.8rem",fontWeight:600},children:[" ~",y.waitingTime,"m"]}),p.jsx("span",{style:{background:g[y.status]?.bg,color:g[y.status]?.color,padding:"3px 10px",borderRadius:"20px",fontSize:"0.78rem",fontWeight:600},children:y.status})]},y.id))})]})]})}const _E={Scheduled:"#2563eb",Arrived:"#d97706",Waiting:"#7c3aed","In Consultation":"#0891b2",Completed:"#16a34a",Cancelled:"#dc2626"};function $6(){const[i,e]=k.useState([]),[n,s]=k.useState({}),[o,u]=k.useState(!0),[h,m]=k.useState(""),[g,y]=k.useState(new Date().toISOString().split("T")[0]),[b,T]=k.useState("All"),S=async()=>{u(!0);const Q=(await At(ht(je,"appointments"))).docs.map(ie=>({id:ie.id,...ie.data()})).sort((ie,le)=>ie.timeSlot>le.timeSlot?1:-1);e(Q);const ee=await At(ht(je,"doctors")),K={};ee.docs.forEach(ie=>{K[ie.id]=ie.data()}),s(K),u(!1)};k.useEffect(()=>{S()},[]);const R=async I=>{const ee=i.filter(le=>le.doctorId===I.doctorId&&le.date===I.date&&["Arrived","Waiting","In Consultation"].includes(le.status)).length,K=n[I.doctorId]?.consultationDuration||30,ie=ee*K;await Su(Sn(je,"appointments",I.id),{status:"Waiting",arrivedAt:new Date().toISOString(),waitingTime:ie,queuePosition:ee}),S()},M=async(I,Q)=>{await Su(Sn(je,"appointments",I),{status:Q}),S()},U=i.filter(I=>{const Q=!h||I.patientName?.toLowerCase().includes(h.toLowerCase())||I.doctorName?.toLowerCase().includes(h.toLowerCase()),ee=!g||I.date===g,K=b==="All"||I.status===b;return Q&&ee&&K});return p.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[p.jsx("h1",{children:" All Appointments"}),p.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",marginBottom:"1.5rem",background:"#fff",padding:"1rem",borderRadius:"10px",boxShadow:"0 2px 8px #0001"},children:[p.jsx("input",{placeholder:" Search patient or doctor...",value:h,onChange:I=>m(I.target.value),style:{flex:2,padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",minWidth:"200px"}}),p.jsx("input",{type:"date",value:g,onChange:I=>y(I.target.value),style:{padding:"8px",border:"1px solid #e2e8f0",borderRadius:"8px"}}),p.jsx("select",{value:b,onChange:I=>T(I.target.value),style:{padding:"8px",border:"1px solid #e2e8f0",borderRadius:"8px"},children:["All","Scheduled","Arrived","Waiting","In Consultation","Completed","Cancelled"].map(I=>p.jsx("option",{children:I},I))}),p.jsx("button",{onClick:()=>{y(""),m(""),T("All")},style:{background:"#f1f5f9",border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer"},children:"Clear"})]}),o?p.jsx("p",{children:"Loading..."}):p.jsx("div",{style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px #0001",overflow:"auto"},children:p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"900px"},children:[p.jsx("thead",{children:p.jsx("tr",{style:{background:"#f8fafc"},children:["#","Patient","Doctor","Date","Time","Reason","Status","Wait","Actions"].map(I=>p.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #e2e8f0",fontSize:"0.85rem",color:"#64748b"},children:I},I))})}),p.jsx("tbody",{children:U.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:9,style:{textAlign:"center",padding:"2rem",color:"#94a3b8"},children:"No appointments found."})}):U.map((I,Q)=>p.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[p.jsx("td",{style:{padding:"12px"},children:Q+1}),p.jsx("td",{style:{padding:"12px"},children:p.jsx("strong",{children:I.patientName})}),p.jsx("td",{style:{padding:"12px"},children:I.doctorName}),p.jsx("td",{style:{padding:"12px"},children:I.date}),p.jsx("td",{style:{padding:"12px"},children:I.timeSlot}),p.jsx("td",{style:{padding:"12px",maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:I.reason}),p.jsx("td",{style:{padding:"12px"},children:p.jsx("span",{style:{background:(_E[I.status]||"#94a3b8")+"22",color:_E[I.status]||"#94a3b8",padding:"4px 10px",borderRadius:"20px",fontSize:"0.8rem",fontWeight:600,whiteSpace:"nowrap"},children:I.status})}),p.jsx("td",{style:{padding:"12px",color:"#7c3aed",fontSize:"0.85rem"},children:I.waitingTime!=null?` ~${I.waitingTime} min`:""}),p.jsx("td",{style:{padding:"12px"},children:p.jsxs("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[I.status==="Scheduled"&&p.jsx("button",{onClick:()=>R(I),style:{background:"#fef9c3",color:"#ca8a04",border:"none",borderRadius:"6px",padding:"4px 10px",cursor:"pointer",fontSize:"0.8rem",fontWeight:600},children:" Arrived"}),I.status==="Waiting"&&p.jsx("button",{onClick:()=>M(I.id,"In Consultation"),style:{background:"#e0f2fe",color:"#0891b2",border:"none",borderRadius:"6px",padding:"4px 10px",cursor:"pointer",fontSize:"0.8rem",fontWeight:600},children:" Start"}),I.status==="In Consultation"&&p.jsx("button",{onClick:()=>M(I.id,"Completed"),style:{background:"#dcfce7",color:"#16a34a",border:"none",borderRadius:"6px",padding:"4px 10px",cursor:"pointer",fontSize:"0.8rem",fontWeight:600},children:" Done"})]})})]},I.id))})]})})]})}const om=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function X6(){const[i,e]=k.useState([]),[n,s]=k.useState({}),[o,u]=k.useState({}),[h,m]=k.useState(!0),[g,y]=k.useState("");k.useEffect(()=>{(async()=>{const M=new Date().toISOString().split("T")[0];om[new Date().getDay()];const I=(await At(ht(je,"doctors"))).docs.map(le=>({id:le.id,...le.data()}));e(I);const Q=await At(ht(je,"doctorAvailability")),ee={};Q.docs.forEach(le=>{ee[le.id]=le.data()}),s(ee);const K=await At(ht(je,"appointments")),ie={};K.docs.forEach(le=>{const ae=le.data();ae.date===M&&(ie[ae.doctorId]||(ie[ae.doctorId]=[]),ie[ae.doctorId].push(ae))}),u(ie),m(!1)})()},[]);const b=R=>{const M=n[R];if(!M)return!1;const U=new Date().toISOString().split("T")[0];if(M.offDates?.includes(U))return!1;const I=om[new Date().getDay()];return!!M.workingDays?.[I]},T=R=>{const M=n[R];if(!M)return null;const U=om[new Date().getDay()];return M.workingDays?.[U]||null},S=i.filter(R=>!g||R.name?.toLowerCase().includes(g.toLowerCase())||R.specialization?.toLowerCase().includes(g.toLowerCase()));return p.jsxs("div",{style:{padding:"2rem",maxWidth:"1100px",margin:"0 auto"},children:[p.jsx("h1",{children:" Doctors"}),p.jsx("p",{style:{color:"#64748b"},children:"All registered doctors and today's schedule"}),p.jsx("input",{placeholder:" Search by name or specialization...",value:g,onChange:R=>y(R.target.value),style:{width:"100%",padding:"10px 14px",border:"1px solid #e2e8f0",borderRadius:"8px",marginBottom:"1.5rem",fontSize:"1rem",boxSizing:"border-box"}}),h?p.jsx("p",{style:{color:"#94a3b8"},children:"Loading doctors..."}):S.length===0?p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"3rem",textAlign:"center",boxShadow:"0 2px 8px #0001",color:"#94a3b8"},children:[p.jsx("div",{style:{fontSize:"3rem"},children:""}),p.jsx("p",{children:"No doctors found."})]}):p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"1.25rem"},children:S.map(R=>{const M=b(R.id),U=T(R.id),I=o[R.id]||[],Q=I.filter(K=>["Arrived","Waiting","In Consultation"].includes(K.status)).length,ee=I.filter(K=>K.status==="Completed").length;return p.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 2px 8px #0001",borderTop:`4px solid ${M?"#16a34a":"#94a3b8"}`},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[p.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"50%",background:"#eff6ff",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",flexShrink:0},children:R.photoURL?p.jsx("img",{src:R.photoURL,alt:R.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):p.jsx("span",{style:{fontSize:"1.8rem"},children:""})}),p.jsxs("div",{style:{flex:1},children:[p.jsx("h3",{style:{margin:0,fontSize:"1rem"},children:R.name||"Unknown Doctor"}),p.jsx("p",{style:{margin:"2px 0",color:"#64748b",fontSize:"0.85rem"},children:R.specialization}),p.jsx("span",{style:{background:M?"#dcfce7":"#fee2e2",color:M?"#16a34a":"#dc2626",padding:"2px 10px",borderRadius:"20px",fontSize:"0.78rem",fontWeight:600},children:M?" Available Today":" Not Available"})]})]}),M&&U&&p.jsxs("div",{style:{background:"#f8fafc",borderRadius:"8px",padding:"8px 12px",marginBottom:"10px",fontSize:"0.85rem",color:"#475569"},children:[" Today: ",U.start,"  ",U.end," |  ",R.consultationDuration||30," min/slot"]}),p.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[p.jsxs("span",{style:{background:"#eff6ff",color:"#2563eb",padding:"4px 10px",borderRadius:"6px",fontSize:"0.8rem",fontWeight:600},children:[" ",I.length," appts today"]}),Q>0&&p.jsxs("span",{style:{background:"#f3e8ff",color:"#7c3aed",padding:"4px 10px",borderRadius:"6px",fontSize:"0.8rem",fontWeight:600},children:[" ",Q," waiting"]}),ee>0&&p.jsxs("span",{style:{background:"#dcfce7",color:"#16a34a",padding:"4px 10px",borderRadius:"6px",fontSize:"0.8rem",fontWeight:600},children:[" ",ee," done"]})]})]},R.id)})})]})}function J6(){const{user:i,userRole:e}=Ln();return i?e===null?p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",flexDirection:"column",gap:"1rem"},children:[p.jsx("div",{style:{fontSize:"3rem"},children:""}),p.jsx("p",{style:{color:"#64748b",fontSize:"1rem"},children:"Loading your portal..."})]}):e==="doctor"?p.jsx(_o,{to:"/doctor/dashboard",replace:!0}):e==="patient"?p.jsx(_o,{to:"/patient/dashboard",replace:!0}):e==="reception"?p.jsx(_o,{to:"/reception/dashboard",replace:!0}):p.jsx(_o,{to:"/dashboard",replace:!0}):p.jsx(_o,{to:"/",replace:!0})}function rn({children:i}){const{user:e,userRole:n}=Ln();return e?n===null?p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",flexDirection:"column",gap:"1rem"},children:[p.jsx("div",{style:{fontSize:"3rem"},children:""}),p.jsx("p",{style:{color:"#64748b"},children:"Loading..."})]}):i:p.jsx(_o,{to:"/",replace:!0})}function Z6(){const{user:i}=Ln();return p.jsxs(p.Fragment,{children:[i&&p.jsx(N6,{}),p.jsxs(mw,{children:[p.jsx(Ft,{path:"/",element:i?p.jsx(J6,{}):p.jsx(D6,{})}),p.jsx(Ft,{path:"/dashboard",element:p.jsx(rn,{children:p.jsx(O6,{})})}),p.jsx(Ft,{path:"/appointments",element:p.jsx(rn,{children:p.jsx(k6,{})})}),p.jsx(Ft,{path:"/lab-reports",element:p.jsx(rn,{children:p.jsx(j6,{})})}),p.jsx(Ft,{path:"/inventory",element:p.jsx(rn,{children:p.jsx(M6,{})})}),p.jsx(Ft,{path:"/doctor/dashboard",element:p.jsx(rn,{children:p.jsx(V6,{})})}),p.jsx(Ft,{path:"/doctor/appointments",element:p.jsx(rn,{children:p.jsx(U6,{})})}),p.jsx(Ft,{path:"/doctor/availability",element:p.jsx(rn,{children:p.jsx(P6,{})})}),p.jsx(Ft,{path:"/doctor/prescriptions",element:p.jsx(rn,{children:p.jsx(z6,{})})}),p.jsx(Ft,{path:"/doctor/profile",element:p.jsx(rn,{children:p.jsx(q6,{})})}),p.jsx(Ft,{path:"/patient/dashboard",element:p.jsx(rn,{children:p.jsx(H6,{})})}),p.jsx(Ft,{path:"/patient/book",element:p.jsx(rn,{children:p.jsx(K6,{})})}),p.jsx(Ft,{path:"/patient/appointments",element:p.jsx(rn,{children:p.jsx(W6,{})})}),p.jsx(Ft,{path:"/patient/prescriptions",element:p.jsx(rn,{children:p.jsx(Y6,{})})}),p.jsx(Ft,{path:"/reception/dashboard",element:p.jsx(rn,{children:p.jsx(Q6,{})})}),p.jsx(Ft,{path:"/reception/appointments",element:p.jsx(rn,{children:p.jsx($6,{})})}),p.jsx(Ft,{path:"/reception/doctors",element:p.jsx(rn,{children:p.jsx(X6,{})})})]})]})}function ek(){return p.jsx(R6,{children:p.jsx(Uw,{children:p.jsx(Z6,{})})})}_A.createRoot(document.getElementById("root")).render(p.jsx(k.StrictMode,{children:p.jsx(ek,{})}));
